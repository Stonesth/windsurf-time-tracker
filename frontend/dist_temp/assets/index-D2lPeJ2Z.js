var XD=Object.defineProperty;var JD=(t,e,n)=>e in t?XD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nv=(t,e,n)=>JD(t,typeof e!="symbol"?e+"":e,n);function ZD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function CI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function po(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bI={exports:{}},om={},xI={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.element"),eM=Symbol.for("react.portal"),tM=Symbol.for("react.fragment"),nM=Symbol.for("react.strict_mode"),rM=Symbol.for("react.profiler"),iM=Symbol.for("react.provider"),oM=Symbol.for("react.context"),sM=Symbol.for("react.forward_ref"),aM=Symbol.for("react.suspense"),lM=Symbol.for("react.memo"),cM=Symbol.for("react.lazy"),_1=Symbol.iterator;function uM(t){return t===null||typeof t!="object"?null:(t=_1&&t[_1]||t["@@iterator"],typeof t=="function"?t:null)}var SI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},II=Object.assign,RI={};function ac(t,e,n){this.props=t,this.context=e,this.refs=RI,this.updater=n||SI}ac.prototype.isReactComponent={};ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kI(){}kI.prototype=ac.prototype;function p0(t,e,n){this.props=t,this.context=e,this.refs=RI,this.updater=n||SI}var m0=p0.prototype=new kI;m0.constructor=p0;II(m0,ac.prototype);m0.isPureReactComponent=!0;var w1=Array.isArray,PI=Object.prototype.hasOwnProperty,g0={current:null},AI={key:!0,ref:!0,__self:!0,__source:!0};function NI(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)PI.call(e,r)&&!AI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$d,type:t,key:o,ref:s,props:i,_owner:g0.current}}function dM(t,e){return{$$typeof:$d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v0(t){return typeof t=="object"&&t!==null&&t.$$typeof===$d}function hM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E1=/\/+/g;function rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hM(""+t.key):e.toString(36)}function wf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $d:case eM:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rv(s,0):r,w1(i)?(n="",t!=null&&(n=t.replace(E1,"$&/")+"/"),wf(i,e,n,"",function(c){return c})):i!=null&&(v0(i)&&(i=dM(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(E1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",w1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+rv(o,a);s+=wf(o,e,n,l,i)}else if(l=uM(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+rv(o,a++),s+=wf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Lh(t,e,n){if(t==null)return t;var r=[],i=0;return wf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function fM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gn={current:null},Ef={transition:null},pM={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:g0};function OI(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Lh,forEach:function(t,e,n){Lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lh(t,function(){e++}),e},toArray:function(t){return Lh(t,function(e){return e})||[]},only:function(t){if(!v0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=ac;Ae.Fragment=tM;Ae.Profiler=rM;Ae.PureComponent=p0;Ae.StrictMode=nM;Ae.Suspense=aM;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM;Ae.act=OI;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=II({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=g0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)PI.call(e,l)&&!AI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$d,type:t.type,key:i,ref:o,props:r,_owner:s}};Ae.createContext=function(t){return t={$$typeof:oM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iM,_context:t},t.Consumer=t};Ae.createElement=NI;Ae.createFactory=function(t){var e=NI.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:sM,render:t}};Ae.isValidElement=v0;Ae.lazy=function(t){return{$$typeof:cM,_payload:{_status:-1,_result:t},_init:fM}};Ae.memo=function(t,e){return{$$typeof:lM,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Ef.transition;Ef.transition={};try{t()}finally{Ef.transition=e}};Ae.unstable_act=OI;Ae.useCallback=function(t,e){return Gn.current.useCallback(t,e)};Ae.useContext=function(t){return Gn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Gn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Gn.current.useEffect(t,e)};Ae.useId=function(){return Gn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return Gn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return Gn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Gn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Gn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return Gn.current.useReducer(t,e,n)};Ae.useRef=function(t){return Gn.current.useRef(t)};Ae.useState=function(t){return Gn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return Gn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return Gn.current.useTransition()};Ae.version="18.3.1";xI.exports=Ae;var C=xI.exports;const an=CI(C),Yf=ZD({__proto__:null,default:an},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM=C,gM=Symbol.for("react.element"),vM=Symbol.for("react.fragment"),yM=Object.prototype.hasOwnProperty,_M=mM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wM={key:!0,ref:!0,__self:!0,__source:!0};function DI(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)yM.call(e,r)&&!wM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gM,type:t,key:o,ref:s,props:i,_owner:_M.current}}om.Fragment=vM;om.jsx=DI;om.jsxs=DI;bI.exports=om;var m=bI.exports,uy={},MI={exports:{}},wr={},LI={exports:{}},$I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var X=$.length;$.push(U);e:for(;0<X;){var se=X-1>>>1,oe=$[se];if(0<i(oe,U))$[se]=U,$[X]=oe,X=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],X=$.pop();if(X!==U){$[0]=X;e:for(var se=0,oe=$.length,fe=oe>>>1;se<fe;){var le=2*(se+1)-1,_e=$[le],ee=le+1,we=$[ee];if(0>i(_e,X))ee<oe&&0>i(we,_e)?($[se]=we,$[ee]=X,se=ee):($[se]=_e,$[le]=X,se=le);else if(ee<oe&&0>i(we,X))$[se]=we,$[ee]=X,se=ee;else break e}}return U}function i($,U){var X=$.sortIndex-U.sortIndex;return X!==0?X:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=$)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function I($){if(_=!1,E($),!v)if(n(l)!==null)v=!0,W(N);else{var U=n(c);U!==null&&F(I,U.startTime-$)}}function N($,U){v=!1,_&&(_=!1,y(b),b=-1),g=!0;var X=f;try{for(E(U),h=n(l);h!==null&&(!(h.expirationTime>U)||$&&!D());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var oe=se(h.expirationTime<=U);U=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),E(U)}else r(l);h=n(l)}if(h!==null)var fe=!0;else{var le=n(c);le!==null&&F(I,le.startTime-U),fe=!1}return fe}finally{h=null,f=X,g=!1}}var M=!1,x=null,b=-1,k=5,P=-1;function D(){return!(t.unstable_now()-P<k)}function L(){if(x!==null){var $=t.unstable_now();P=$;var U=!0;try{U=x(!0,$)}finally{U?A():(M=!1,x=null)}}else M=!1}var A;if(typeof w=="function")A=function(){w(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=L,A=function(){q.postMessage(null)}}else A=function(){S(L,0)};function W($){x=$,M||(M=!0,A())}function F($,U){b=S(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,W(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var X=f;f=U;try{return $()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=f;f=$;try{return U()}finally{f=X}},t.unstable_scheduleCallback=function($,U,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=X+oe,$={id:d++,callback:U,priorityLevel:$,startTime:X,expirationTime:oe,sortIndex:-1},X>se?($.sortIndex=X,e(c,$),n(l)===null&&$===n(c)&&(_?(y(b),b=-1):_=!0,F(I,X-se))):($.sortIndex=oe,e(l,$),v||g||(v=!0,W(N))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var U=f;return function(){var X=f;f=U;try{return $.apply(this,arguments)}finally{f=X}}}})($I);LI.exports=$I;var EM=LI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM=C,yr=EM;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jI=new Set,Gu={};function ya(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(Gu[t]=e,t=0;t<e.length;t++)jI.add(e[t])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dy=Object.prototype.hasOwnProperty,CM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1={},C1={};function bM(t){return dy.call(C1,t)?!0:dy.call(T1,t)?!1:CM.test(t)?C1[t]=!0:(T1[t]=!0,!1)}function xM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SM(t,e,n,r){if(e===null||typeof e>"u"||xM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var y0=/[\-:]([a-z])/g;function _0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y0,_0);bn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y0,_0);bn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y0,_0);bn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function w0(t,e,n,r){var i=bn.hasOwnProperty(e)?bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SM(e,n,i,r)&&(n=null),r||i===null?bM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mo=TM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$h=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),VI=Symbol.for("react.context"),T0=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),UI=Symbol.for("react.offscreen"),b1=Symbol.iterator;function Bc(t){return t===null||typeof t!="object"?null:(t=b1&&t[b1]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,iv;function du(t){if(iv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iv=e&&e[1]||""}return`
`+iv+t}var ov=!1;function sv(t,e){if(!t||ov)return"";ov=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ov=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?du(t):""}function IM(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=sv(t.type,!1),t;case 11:return t=sv(t.type.render,!1),t;case 1:return t=sv(t.type,!0),t;default:return""}}function my(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Za:return"Fragment";case Ja:return"Portal";case hy:return"Profiler";case E0:return"StrictMode";case fy:return"Suspense";case py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VI:return(t.displayName||"Context")+".Consumer";case FI:return(t._context.displayName||"Context")+".Provider";case T0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C0:return e=t.displayName||null,e!==null?e:my(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return my(t(e))}catch{}}return null}function RM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(e);case 8:return e===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kM(t){var e=BI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jh(t){t._valueTracker||(t._valueTracker=kM(t))}function zI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gy(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function x1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WI(t,e){e=e.checked,e!=null&&w0(t,"checked",e,!1)}function vy(t,e){WI(t,e);var n=ls(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&yy(t,e.type,ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yy(t,e,n){(e!=="number"||Xf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hu=Array.isArray;function pl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ls(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(hu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ls(n)}}function HI(t,e){var n=ls(e.value),r=ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fh,KI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PM=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(t){PM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tu[e]=Tu[t]})});function GI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tu.hasOwnProperty(t)&&Tu[t]?(""+e).trim():e+"px"}function QI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AM=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ey(t,e){if(e){if(AM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Ty(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function b0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var by=null,ml=null,gl=null;function k1(t){if(t=Vd(t)){if(typeof by!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=um(e),by(t.stateNode,t.type,e))}}function YI(t){ml?gl?gl.push(t):gl=[t]:ml=t}function XI(){if(ml){var t=ml,e=gl;if(gl=ml=null,k1(t),e)for(t=0;t<e.length;t++)k1(e[t])}}function JI(t,e){return t(e)}function ZI(){}var av=!1;function eR(t,e,n){if(av)return t(e,n);av=!0;try{return JI(t,e,n)}finally{av=!1,(ml!==null||gl!==null)&&(ZI(),XI())}}function Yu(t,e){var n=t.stateNode;if(n===null)return null;var r=um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var xy=!1;if(eo)try{var zc={};Object.defineProperty(zc,"passive",{get:function(){xy=!0}}),window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{xy=!1}function NM(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Cu=!1,Jf=null,Zf=!1,Sy=null,OM={onError:function(t){Cu=!0,Jf=t}};function DM(t,e,n,r,i,o,s,a,l){Cu=!1,Jf=null,NM.apply(OM,arguments)}function MM(t,e,n,r,i,o,s,a,l){if(DM.apply(this,arguments),Cu){if(Cu){var c=Jf;Cu=!1,Jf=null}else throw Error(Q(198));Zf||(Zf=!0,Sy=c)}}function _a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P1(t){if(_a(t)!==t)throw Error(Q(188))}function LM(t){var e=t.alternate;if(!e){if(e=_a(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return P1(i),t;if(o===r)return P1(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function nR(t){return t=LM(t),t!==null?rR(t):null}function rR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rR(t);if(e!==null)return e;t=t.sibling}return null}var iR=yr.unstable_scheduleCallback,A1=yr.unstable_cancelCallback,$M=yr.unstable_shouldYield,jM=yr.unstable_requestPaint,Ft=yr.unstable_now,FM=yr.unstable_getCurrentPriorityLevel,x0=yr.unstable_ImmediatePriority,oR=yr.unstable_UserBlockingPriority,ep=yr.unstable_NormalPriority,VM=yr.unstable_LowPriority,sR=yr.unstable_IdlePriority,sm=null,Ei=null;function UM(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(sm,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:WM,BM=Math.log,zM=Math.LN2;function WM(t){return t>>>=0,t===0?32:31-(BM(t)/zM|0)|0}var Vh=64,Uh=4194304;function fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=fu(a):(o&=s,o!==0&&(r=fu(o)))}else s=n&~i,s!==0?r=fu(s):o!==0&&(r=fu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ti(e),i=1<<n,r|=t[n],e&=~i;return r}function HM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ti(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=HM(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aR(){var t=Vh;return Vh<<=1,!(Vh&4194240)&&(Vh=64),t}function lv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=n}function KM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ti(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function S0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function lR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cR,I0,uR,dR,hR,Ry=!1,Bh=[],Ho=null,qo=null,Ko=null,Xu=new Map,Ju=new Map,Ao=[],GM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(t,e){switch(t){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function Wc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Vd(e),e!==null&&I0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QM(t,e,n,r,i){switch(e){case"focusin":return Ho=Wc(Ho,t,e,n,r,i),!0;case"dragenter":return qo=Wc(qo,t,e,n,r,i),!0;case"mouseover":return Ko=Wc(Ko,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xu.set(o,Wc(Xu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ju.set(o,Wc(Ju.get(o)||null,t,e,n,r,i)),!0}return!1}function fR(t){var e=Us(t.target);if(e!==null){var n=_a(e);if(n!==null){if(e=n.tag,e===13){if(e=tR(n),e!==null){t.blockedOn=e,hR(t.priority,function(){uR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ky(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cy=r,n.target.dispatchEvent(r),Cy=null}else return e=Vd(n),e!==null&&I0(e),t.blockedOn=n,!1;e.shift()}return!0}function O1(t,e,n){Tf(t)&&n.delete(e)}function YM(){Ry=!1,Ho!==null&&Tf(Ho)&&(Ho=null),qo!==null&&Tf(qo)&&(qo=null),Ko!==null&&Tf(Ko)&&(Ko=null),Xu.forEach(O1),Ju.forEach(O1)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ry||(Ry=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,YM)))}function Zu(t){function e(i){return Hc(i,t)}if(0<Bh.length){Hc(Bh[0],t);for(var n=1;n<Bh.length;n++){var r=Bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ho!==null&&Hc(Ho,t),qo!==null&&Hc(qo,t),Ko!==null&&Hc(Ko,t),Xu.forEach(e),Ju.forEach(e),n=0;n<Ao.length;n++)r=Ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)fR(n),n.blockedOn===null&&Ao.shift()}var vl=mo.ReactCurrentBatchConfig,np=!0;function XM(t,e,n,r){var i=nt,o=vl.transition;vl.transition=null;try{nt=1,R0(t,e,n,r)}finally{nt=i,vl.transition=o}}function JM(t,e,n,r){var i=nt,o=vl.transition;vl.transition=null;try{nt=4,R0(t,e,n,r)}finally{nt=i,vl.transition=o}}function R0(t,e,n,r){if(np){var i=ky(t,e,n,r);if(i===null)yv(t,e,r,rp,n),N1(t,r);else if(QM(i,t,e,n,r))r.stopPropagation();else if(N1(t,r),e&4&&-1<GM.indexOf(t)){for(;i!==null;){var o=Vd(i);if(o!==null&&cR(o),o=ky(t,e,n,r),o===null&&yv(t,e,r,rp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yv(t,e,r,null,n)}}var rp=null;function ky(t,e,n,r){if(rp=null,t=b0(r),t=Us(t),t!==null)if(e=_a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rp=t,null}function pR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FM()){case x0:return 1;case oR:return 4;case ep:case VM:return 16;case sR:return 536870912;default:return 16}default:return 16}}var jo=null,k0=null,Cf=null;function mR(){if(Cf)return Cf;var t,e=k0,n=e.length,r,i="value"in jo?jo.value:jo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Cf=i.slice(t,1<r?1-r:void 0)}function bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zh(){return!0}function D1(){return!1}function Er(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zh:D1,this.isPropagationStopped=D1,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zh)},persist:function(){},isPersistent:zh}),e}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P0=Er(lc),Fd=kt({},lc,{view:0,detail:0}),ZM=Er(Fd),cv,uv,qc,am=kt({},Fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(cv=t.screenX-qc.screenX,uv=t.screenY-qc.screenY):uv=cv=0,qc=t),cv)},movementY:function(t){return"movementY"in t?t.movementY:uv}}),M1=Er(am),eL=kt({},am,{dataTransfer:0}),tL=Er(eL),nL=kt({},Fd,{relatedTarget:0}),dv=Er(nL),rL=kt({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),iL=Er(rL),oL=kt({},lc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sL=Er(oL),aL=kt({},lc,{data:0}),L1=Er(aL),lL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uL[t])?!!e[t]:!1}function A0(){return dL}var hL=kt({},Fd,{key:function(t){if(t.key){var e=lL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A0,charCode:function(t){return t.type==="keypress"?bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fL=Er(hL),pL=kt({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$1=Er(pL),mL=kt({},Fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A0}),gL=Er(mL),vL=kt({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),yL=Er(vL),_L=kt({},am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wL=Er(_L),EL=[9,13,27,32],N0=eo&&"CompositionEvent"in window,bu=null;eo&&"documentMode"in document&&(bu=document.documentMode);var TL=eo&&"TextEvent"in window&&!bu,gR=eo&&(!N0||bu&&8<bu&&11>=bu),j1=" ",F1=!1;function vR(t,e){switch(t){case"keyup":return EL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var el=!1;function CL(t,e){switch(t){case"compositionend":return yR(e);case"keypress":return e.which!==32?null:(F1=!0,j1);case"textInput":return t=e.data,t===j1&&F1?null:t;default:return null}}function bL(t,e){if(el)return t==="compositionend"||!N0&&vR(t,e)?(t=mR(),Cf=k0=jo=null,el=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gR&&e.locale!=="ko"?null:e.data;default:return null}}var xL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xL[t.type]:e==="textarea"}function _R(t,e,n,r){YI(r),e=ip(e,"onChange"),0<e.length&&(n=new P0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xu=null,ed=null;function SL(t){PR(t,0)}function lm(t){var e=rl(t);if(zI(e))return t}function IL(t,e){if(t==="change")return e}var wR=!1;if(eo){var hv;if(eo){var fv="oninput"in document;if(!fv){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),fv=typeof U1.oninput=="function"}hv=fv}else hv=!1;wR=hv&&(!document.documentMode||9<document.documentMode)}function B1(){xu&&(xu.detachEvent("onpropertychange",ER),ed=xu=null)}function ER(t){if(t.propertyName==="value"&&lm(ed)){var e=[];_R(e,ed,t,b0(t)),eR(SL,e)}}function RL(t,e,n){t==="focusin"?(B1(),xu=e,ed=n,xu.attachEvent("onpropertychange",ER)):t==="focusout"&&B1()}function kL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lm(ed)}function PL(t,e){if(t==="click")return lm(e)}function AL(t,e){if(t==="input"||t==="change")return lm(e)}function NL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oi=typeof Object.is=="function"?Object.is:NL;function td(t,e){if(oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dy.call(e,i)||!oi(t[i],e[i]))return!1}return!0}function z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W1(t,e){var n=z1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z1(n)}}function TR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CR(){for(var t=window,e=Xf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xf(t.document)}return e}function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OL(t){var e=CR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TR(n.ownerDocument.documentElement,n)){if(r!==null&&O0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=W1(n,o);var s=W1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DL=eo&&"documentMode"in document&&11>=document.documentMode,tl=null,Py=null,Su=null,Ay=!1;function H1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ay||tl==null||tl!==Xf(r)||(r=tl,"selectionStart"in r&&O0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&td(Su,r)||(Su=r,r=ip(Py,"onSelect"),0<r.length&&(e=new P0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tl)))}function Wh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nl={animationend:Wh("Animation","AnimationEnd"),animationiteration:Wh("Animation","AnimationIteration"),animationstart:Wh("Animation","AnimationStart"),transitionend:Wh("Transition","TransitionEnd")},pv={},bR={};eo&&(bR=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function cm(t){if(pv[t])return pv[t];if(!nl[t])return t;var e=nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bR)return pv[t]=e[n];return t}var xR=cm("animationend"),SR=cm("animationiteration"),IR=cm("animationstart"),RR=cm("transitionend"),kR=new Map,q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){kR.set(t,e),ya(e,[t])}for(var mv=0;mv<q1.length;mv++){var gv=q1[mv],ML=gv.toLowerCase(),LL=gv[0].toUpperCase()+gv.slice(1);vs(ML,"on"+LL)}vs(xR,"onAnimationEnd");vs(SR,"onAnimationIteration");vs(IR,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(RR,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$L=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function K1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MM(r,e,void 0,t),t.currentTarget=null}function PR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;K1(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;K1(i,a,c),o=l}}}if(Zf)throw t=Sy,Zf=!1,Sy=null,t}function gt(t,e){var n=e[Ly];n===void 0&&(n=e[Ly]=new Set);var r=t+"__bubble";n.has(r)||(AR(e,t,2,!1),n.add(r))}function vv(t,e,n){var r=0;e&&(r|=4),AR(n,t,r,e)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[Hh]){t[Hh]=!0,jI.forEach(function(n){n!=="selectionchange"&&($L.has(n)||vv(n,!1,t),vv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hh]||(e[Hh]=!0,vv("selectionchange",!1,e))}}function AR(t,e,n,r){switch(pR(e)){case 1:var i=XM;break;case 4:i=JM;break;default:i=R0}n=i.bind(null,e,n,t),i=void 0,!xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Us(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}eR(function(){var c=o,d=b0(n),h=[];e:{var f=kR.get(t);if(f!==void 0){var g=P0,v=t;switch(t){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":g=fL;break;case"focusin":v="focus",g=dv;break;case"focusout":v="blur",g=dv;break;case"beforeblur":case"afterblur":g=dv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gL;break;case xR:case SR:case IR:g=iL;break;case RR:g=yL;break;case"scroll":g=ZM;break;case"wheel":g=wL;break;case"copy":case"cut":case"paste":g=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$1}var _=(e&4)!==0,S=!_&&t==="scroll",y=_?f!==null?f+"Capture":null:f;_=[];for(var w=c,E;w!==null;){E=w;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,y!==null&&(I=Yu(w,y),I!=null&&_.push(rd(w,I,E)))),S)break;w=w.return}0<_.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Cy&&(v=n.relatedTarget||n.fromElement)&&(Us(v)||v[to]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Us(v):null,v!==null&&(S=_a(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(_=M1,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=$1,I="onPointerLeave",y="onPointerEnter",w="pointer"),S=g==null?f:rl(g),E=v==null?f:rl(v),f=new _(I,w+"leave",g,n,d),f.target=S,f.relatedTarget=E,I=null,Us(d)===c&&(_=new _(y,w+"enter",v,n,d),_.target=E,_.relatedTarget=S,I=_),S=I,g&&v)t:{for(_=g,y=v,w=0,E=_;E;E=Fa(E))w++;for(E=0,I=y;I;I=Fa(I))E++;for(;0<w-E;)_=Fa(_),w--;for(;0<E-w;)y=Fa(y),E--;for(;w--;){if(_===y||y!==null&&_===y.alternate)break t;_=Fa(_),y=Fa(y)}_=null}else _=null;g!==null&&G1(h,f,g,_,!1),v!==null&&S!==null&&G1(h,S,v,_,!0)}}e:{if(f=c?rl(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=IL;else if(V1(f))if(wR)N=AL;else{N=kL;var M=RL}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=PL);if(N&&(N=N(t,c))){_R(h,N,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&yy(f,"number",f.value)}switch(M=c?rl(c):window,t){case"focusin":(V1(M)||M.contentEditable==="true")&&(tl=M,Py=c,Su=null);break;case"focusout":Su=Py=tl=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,H1(h,n,d);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":H1(h,n,d)}var x;if(N0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else el?vR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(gR&&n.locale!=="ko"&&(el||b!=="onCompositionStart"?b==="onCompositionEnd"&&el&&(x=mR()):(jo=d,k0="value"in jo?jo.value:jo.textContent,el=!0)),M=ip(c,b),0<M.length&&(b=new L1(b,t,null,n,d),h.push({event:b,listeners:M}),x?b.data=x:(x=yR(n),x!==null&&(b.data=x)))),(x=TL?CL(t,n):bL(t,n))&&(c=ip(c,"onBeforeInput"),0<c.length&&(d=new L1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}PR(h,e)})}function rd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ip(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yu(t,n),o!=null&&r.unshift(rd(t,o,i)),o=Yu(t,e),o!=null&&r.push(rd(t,o,i))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Yu(n,o),l!=null&&s.unshift(rd(n,l,a))):i||(l=Yu(n,o),l!=null&&s.push(rd(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jL=/\r\n?/g,FL=/\u0000|\uFFFD/g;function Q1(t){return(typeof t=="string"?t:""+t).replace(jL,`
`).replace(FL,"")}function qh(t,e,n){if(e=Q1(e),Q1(t)!==e&&n)throw Error(Q(425))}function op(){}var Ny=null,Oy=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var My=typeof setTimeout=="function"?setTimeout:void 0,VL=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,UL=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(t){return Y1.resolve(null).then(t).catch(BL)}:My;function BL(t){setTimeout(function(){throw t})}function _v(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zu(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cc=Math.random().toString(36).slice(2),vi="__reactFiber$"+cc,id="__reactProps$"+cc,to="__reactContainer$"+cc,Ly="__reactEvents$"+cc,zL="__reactListeners$"+cc,WL="__reactHandles$"+cc;function Us(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[to]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X1(t);t!==null;){if(n=t[vi])return n;t=X1(t)}return e}t=n,n=t.parentNode}return null}function Vd(t){return t=t[vi]||t[to],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function um(t){return t[id]||null}var $y=[],il=-1;function ys(t){return{current:t}}function Et(t){0>il||(t.current=$y[il],$y[il]=null,il--)}function dt(t,e){il++,$y[il]=t.current,t.current=e}var cs={},Vn=ys(cs),er=ys(!1),ta=cs;function Al(t,e){var n=t.type.contextTypes;if(!n)return cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tr(t){return t=t.childContextTypes,t!=null}function sp(){Et(er),Et(Vn)}function J1(t,e,n){if(Vn.current!==cs)throw Error(Q(168));dt(Vn,e),dt(er,n)}function NR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,RM(t)||"Unknown",i));return kt({},n,r)}function ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cs,ta=Vn.current,dt(Vn,t),dt(er,er.current),!0}function Z1(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=NR(t,e,ta),r.__reactInternalMemoizedMergedChildContext=t,Et(er),Et(Vn),dt(Vn,t)):Et(er),dt(er,n)}var Ui=null,dm=!1,wv=!1;function OR(t){Ui===null?Ui=[t]:Ui.push(t)}function HL(t){dm=!0,OR(t)}function _s(){if(!wv&&Ui!==null){wv=!0;var t=0,e=nt;try{var n=Ui;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ui=null,dm=!1}catch(i){throw Ui!==null&&(Ui=Ui.slice(t+1)),iR(x0,_s),i}finally{nt=e,wv=!1}}return null}var ol=[],sl=0,lp=null,cp=0,Sr=[],Ir=0,na=null,Wi=1,Hi="";function Ds(t,e){ol[sl++]=cp,ol[sl++]=lp,lp=t,cp=e}function DR(t,e,n){Sr[Ir++]=Wi,Sr[Ir++]=Hi,Sr[Ir++]=na,na=t;var r=Wi;t=Hi;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var o=32-ti(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wi=1<<32-ti(e)+i|n<<i|r,Hi=o+t}else Wi=1<<o|n<<i|r,Hi=t}function D0(t){t.return!==null&&(Ds(t,1),DR(t,1,0))}function M0(t){for(;t===lp;)lp=ol[--sl],ol[sl]=null,cp=ol[--sl],ol[sl]=null;for(;t===na;)na=Sr[--Ir],Sr[Ir]=null,Hi=Sr[--Ir],Sr[Ir]=null,Wi=Sr[--Ir],Sr[Ir]=null}var mr=null,hr=null,St=!1,Jr=null;function MR(t,e){var n=kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,hr=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=na!==null?{id:Wi,overflow:Hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,hr=null,!0):!1;default:return!1}}function jy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fy(t){if(St){var e=hr;if(e){var n=e;if(!eC(t,e)){if(jy(t))throw Error(Q(418));e=Go(n.nextSibling);var r=mr;e&&eC(t,e)?MR(r,n):(t.flags=t.flags&-4097|2,St=!1,mr=t)}}else{if(jy(t))throw Error(Q(418));t.flags=t.flags&-4097|2,St=!1,mr=t}}}function tC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Kh(t){if(t!==mr)return!1;if(!St)return tC(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=hr)){if(jy(t))throw LR(),Error(Q(418));for(;e;)MR(t,e),e=Go(e.nextSibling)}if(tC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=mr?Go(t.stateNode.nextSibling):null;return!0}function LR(){for(var t=hr;t;)t=Go(t.nextSibling)}function Nl(){hr=mr=null,St=!1}function L0(t){Jr===null?Jr=[t]:Jr.push(t)}var qL=mo.ReactCurrentBatchConfig;function Kc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Gh(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nC(t){var e=t._init;return e(t._payload)}function $R(t){function e(y,w){if(t){var E=y.deletions;E===null?(y.deletions=[w],y.flags|=16):E.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Jo(y,w),y.index=0,y.sibling=null,y}function o(y,w,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<w?(y.flags|=2,w):E):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,E,I){return w===null||w.tag!==6?(w=Iv(E,y.mode,I),w.return=y,w):(w=i(w,E),w.return=y,w)}function l(y,w,E,I){var N=E.type;return N===Za?d(y,w,E.props.children,I,E.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ko&&nC(N)===w.type)?(I=i(w,E.props),I.ref=Kc(y,w,E),I.return=y,I):(I=Af(E.type,E.key,E.props,null,y.mode,I),I.ref=Kc(y,w,E),I.return=y,I)}function c(y,w,E,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Rv(E,y.mode,I),w.return=y,w):(w=i(w,E.children||[]),w.return=y,w)}function d(y,w,E,I,N){return w===null||w.tag!==7?(w=Ys(E,y.mode,I,N),w.return=y,w):(w=i(w,E),w.return=y,w)}function h(y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Iv(""+w,y.mode,E),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $h:return E=Af(w.type,w.key,w.props,null,y.mode,E),E.ref=Kc(y,null,w),E.return=y,E;case Ja:return w=Rv(w,y.mode,E),w.return=y,w;case ko:var I=w._init;return h(y,I(w._payload),E)}if(hu(w)||Bc(w))return w=Ys(w,y.mode,E,null),w.return=y,w;Gh(y,w)}return null}function f(y,w,E,I){var N=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(y,w,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $h:return E.key===N?l(y,w,E,I):null;case Ja:return E.key===N?c(y,w,E,I):null;case ko:return N=E._init,f(y,w,N(E._payload),I)}if(hu(E)||Bc(E))return N!==null?null:d(y,w,E,I,null);Gh(y,E)}return null}function g(y,w,E,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(E)||null,a(w,y,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $h:return y=y.get(I.key===null?E:I.key)||null,l(w,y,I,N);case Ja:return y=y.get(I.key===null?E:I.key)||null,c(w,y,I,N);case ko:var M=I._init;return g(y,w,E,M(I._payload),N)}if(hu(I)||Bc(I))return y=y.get(E)||null,d(w,y,I,N,null);Gh(w,I)}return null}function v(y,w,E,I){for(var N=null,M=null,x=w,b=w=0,k=null;x!==null&&b<E.length;b++){x.index>b?(k=x,x=null):k=x.sibling;var P=f(y,x,E[b],I);if(P===null){x===null&&(x=k);break}t&&x&&P.alternate===null&&e(y,x),w=o(P,w,b),M===null?N=P:M.sibling=P,M=P,x=k}if(b===E.length)return n(y,x),St&&Ds(y,b),N;if(x===null){for(;b<E.length;b++)x=h(y,E[b],I),x!==null&&(w=o(x,w,b),M===null?N=x:M.sibling=x,M=x);return St&&Ds(y,b),N}for(x=r(y,x);b<E.length;b++)k=g(x,y,b,E[b],I),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?b:k.key),w=o(k,w,b),M===null?N=k:M.sibling=k,M=k);return t&&x.forEach(function(D){return e(y,D)}),St&&Ds(y,b),N}function _(y,w,E,I){var N=Bc(E);if(typeof N!="function")throw Error(Q(150));if(E=N.call(E),E==null)throw Error(Q(151));for(var M=N=null,x=w,b=w=0,k=null,P=E.next();x!==null&&!P.done;b++,P=E.next()){x.index>b?(k=x,x=null):k=x.sibling;var D=f(y,x,P.value,I);if(D===null){x===null&&(x=k);break}t&&x&&D.alternate===null&&e(y,x),w=o(D,w,b),M===null?N=D:M.sibling=D,M=D,x=k}if(P.done)return n(y,x),St&&Ds(y,b),N;if(x===null){for(;!P.done;b++,P=E.next())P=h(y,P.value,I),P!==null&&(w=o(P,w,b),M===null?N=P:M.sibling=P,M=P);return St&&Ds(y,b),N}for(x=r(y,x);!P.done;b++,P=E.next())P=g(x,y,b,P.value,I),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?b:P.key),w=o(P,w,b),M===null?N=P:M.sibling=P,M=P);return t&&x.forEach(function(L){return e(y,L)}),St&&Ds(y,b),N}function S(y,w,E,I){if(typeof E=="object"&&E!==null&&E.type===Za&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case $h:e:{for(var N=E.key,M=w;M!==null;){if(M.key===N){if(N=E.type,N===Za){if(M.tag===7){n(y,M.sibling),w=i(M,E.props.children),w.return=y,y=w;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ko&&nC(N)===M.type){n(y,M.sibling),w=i(M,E.props),w.ref=Kc(y,M,E),w.return=y,y=w;break e}n(y,M);break}else e(y,M);M=M.sibling}E.type===Za?(w=Ys(E.props.children,y.mode,I,E.key),w.return=y,y=w):(I=Af(E.type,E.key,E.props,null,y.mode,I),I.ref=Kc(y,w,E),I.return=y,y=I)}return s(y);case Ja:e:{for(M=E.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(y,w.sibling),w=i(w,E.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Rv(E,y.mode,I),w.return=y,y=w}return s(y);case ko:return M=E._init,S(y,w,M(E._payload),I)}if(hu(E))return v(y,w,E,I);if(Bc(E))return _(y,w,E,I);Gh(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,E),w.return=y,y=w):(n(y,w),w=Iv(E,y.mode,I),w.return=y,y=w),s(y)):n(y,w)}return S}var Ol=$R(!0),jR=$R(!1),up=ys(null),dp=null,al=null,$0=null;function j0(){$0=al=dp=null}function F0(t){var e=up.current;Et(up),t._currentValue=e}function Vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){dp=t,$0=al=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function Lr(t){var e=t._currentValue;if($0!==t)if(t={context:t,memoizedValue:e,next:null},al===null){if(dp===null)throw Error(Q(308));al=t,dp.dependencies={lanes:0,firstContext:t}}else al=al.next=t;return e}var Bs=null;function V0(t){Bs===null?Bs=[t]:Bs.push(t)}function FR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V0(e)):(n.next=i.next,i.next=n),e.interleaved=n,no(t,r)}function no(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Po=!1;function U0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,no(t,n)}return i=r.interleaved,i===null?(e.next=e,V0(r)):(e.next=i.next,i.next=e),r.interleaved=e,no(t,n)}function xf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S0(t,n)}}function rC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hp(t,e,n,r){var i=t.updateQueue;Po=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=kt({},h,f);break e;case 2:Po=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ia|=s,t.lanes=s,t.memoizedState=h}}function iC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Ud={},Ti=ys(Ud),od=ys(Ud),sd=ys(Ud);function zs(t){if(t===Ud)throw Error(Q(174));return t}function B0(t,e){switch(dt(sd,e),dt(od,t),dt(Ti,Ud),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wy(e,t)}Et(Ti),dt(Ti,e)}function Dl(){Et(Ti),Et(od),Et(sd)}function UR(t){zs(sd.current);var e=zs(Ti.current),n=wy(e,t.type);e!==n&&(dt(od,t),dt(Ti,n))}function z0(t){od.current===t&&(Et(Ti),Et(od))}var It=ys(0);function fp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ev=[];function W0(){for(var t=0;t<Ev.length;t++)Ev[t]._workInProgressVersionPrimary=null;Ev.length=0}var Sf=mo.ReactCurrentDispatcher,Tv=mo.ReactCurrentBatchConfig,ra=0,Rt=null,Zt=null,on=null,pp=!1,Iu=!1,ad=0,KL=0;function kn(){throw Error(Q(321))}function H0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oi(t[n],e[n]))return!1;return!0}function q0(t,e,n,r,i,o){if(ra=o,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sf.current=t===null||t.memoizedState===null?XL:JL,t=n(r,i),Iu){o=0;do{if(Iu=!1,ad=0,25<=o)throw Error(Q(301));o+=1,on=Zt=null,e.updateQueue=null,Sf.current=ZL,t=n(r,i)}while(Iu)}if(Sf.current=mp,e=Zt!==null&&Zt.next!==null,ra=0,on=Zt=Rt=null,pp=!1,e)throw Error(Q(300));return t}function K0(){var t=ad!==0;return ad=0,t}function fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Rt.memoizedState=on=t:on=on.next=t,on}function $r(){if(Zt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=on===null?Rt.memoizedState:on.next;if(e!==null)on=e,Zt=t;else{if(t===null)throw Error(Q(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},on===null?Rt.memoizedState=on=t:on=on.next=t}return on}function ld(t,e){return typeof e=="function"?e(t):e}function Cv(t){var e=$r(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Zt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((ra&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Rt.lanes|=d,ia|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,oi(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Rt.lanes|=o,ia|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bv(t){var e=$r(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);oi(o,e.memoizedState)||(Jn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function BR(){}function zR(t,e){var n=Rt,r=$r(),i=e(),o=!oi(r.memoizedState,i);if(o&&(r.memoizedState=i,Jn=!0),r=r.queue,G0(qR.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,cd(9,HR.bind(null,n,r,i,e),void 0,null),cn===null)throw Error(Q(349));ra&30||WR(n,e,i)}return i}function WR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HR(t,e,n,r){e.value=n,e.getSnapshot=r,KR(e)&&GR(t)}function qR(t,e,n){return n(function(){KR(e)&&GR(t)})}function KR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oi(t,n)}catch{return!0}}function GR(t){var e=no(t,1);e!==null&&ni(e,t,1,-1)}function oC(t){var e=fi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:t},e.queue=t,t=t.dispatch=YL.bind(null,Rt,t),[e.memoizedState,t]}function cd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function QR(){return $r().memoizedState}function If(t,e,n,r){var i=fi();Rt.flags|=t,i.memoizedState=cd(1|e,n,void 0,r===void 0?null:r)}function hm(t,e,n,r){var i=$r();r=r===void 0?null:r;var o=void 0;if(Zt!==null){var s=Zt.memoizedState;if(o=s.destroy,r!==null&&H0(r,s.deps)){i.memoizedState=cd(e,n,o,r);return}}Rt.flags|=t,i.memoizedState=cd(1|e,n,o,r)}function sC(t,e){return If(8390656,8,t,e)}function G0(t,e){return hm(2048,8,t,e)}function YR(t,e){return hm(4,2,t,e)}function XR(t,e){return hm(4,4,t,e)}function JR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZR(t,e,n){return n=n!=null?n.concat([t]):null,hm(4,4,JR.bind(null,e,t),n)}function Q0(){}function ek(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tk(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nk(t,e,n){return ra&21?(oi(n,e)||(n=aR(),Rt.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function GL(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Tv.transition;Tv.transition={};try{t(!1),e()}finally{nt=n,Tv.transition=r}}function rk(){return $r().memoizedState}function QL(t,e,n){var r=Xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ik(t))ok(e,n);else if(n=FR(t,e,n,r),n!==null){var i=Hn();ni(n,t,r,i),sk(n,e,r)}}function YL(t,e,n){var r=Xo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ik(t))ok(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,oi(a,s)){var l=e.interleaved;l===null?(i.next=i,V0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FR(t,e,i,r),n!==null&&(i=Hn(),ni(n,t,r,i),sk(n,e,r))}}function ik(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function ok(t,e){Iu=pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S0(t,n)}}var mp={readContext:Lr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},XL={readContext:Lr,useCallback:function(t,e){return fi().memoizedState=[t,e===void 0?null:e],t},useContext:Lr,useEffect:sC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,If(4194308,4,JR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return If(4194308,4,t,e)},useInsertionEffect:function(t,e){return If(4,2,t,e)},useMemo:function(t,e){var n=fi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QL.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=fi();return t={current:t},e.memoizedState=t},useState:oC,useDebugValue:Q0,useDeferredValue:function(t){return fi().memoizedState=t},useTransition:function(){var t=oC(!1),e=t[0];return t=GL.bind(null,t[1]),fi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=fi();if(St){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),cn===null)throw Error(Q(349));ra&30||WR(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,sC(qR.bind(null,r,o,t),[t]),r.flags|=2048,cd(9,HR.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=fi(),e=cn.identifierPrefix;if(St){var n=Hi,r=Wi;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ad++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JL={readContext:Lr,useCallback:ek,useContext:Lr,useEffect:G0,useImperativeHandle:ZR,useInsertionEffect:YR,useLayoutEffect:XR,useMemo:tk,useReducer:Cv,useRef:QR,useState:function(){return Cv(ld)},useDebugValue:Q0,useDeferredValue:function(t){var e=$r();return nk(e,Zt.memoizedState,t)},useTransition:function(){var t=Cv(ld)[0],e=$r().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:zR,useId:rk,unstable_isNewReconciler:!1},ZL={readContext:Lr,useCallback:ek,useContext:Lr,useEffect:G0,useImperativeHandle:ZR,useInsertionEffect:YR,useLayoutEffect:XR,useMemo:tk,useReducer:bv,useRef:QR,useState:function(){return bv(ld)},useDebugValue:Q0,useDeferredValue:function(t){var e=$r();return Zt===null?e.memoizedState=t:nk(e,Zt.memoizedState,t)},useTransition:function(){var t=bv(ld)[0],e=$r().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:zR,useId:rk,unstable_isNewReconciler:!1};function Yr(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fm={isMounted:function(t){return(t=t._reactInternals)?_a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Xo(t),o=Yi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Qo(t,o,i),e!==null&&(ni(e,t,i,r),xf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Xo(t),o=Yi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Qo(t,o,i),e!==null&&(ni(e,t,i,r),xf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=Xo(t),i=Yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qo(t,i,r),e!==null&&(ni(e,t,r,n),xf(e,t,r))}};function aC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!td(n,r)||!td(i,o):!0}function ak(t,e,n){var r=!1,i=cs,o=e.contextType;return typeof o=="object"&&o!==null?o=Lr(o):(i=tr(e)?ta:Vn.current,r=e.contextTypes,o=(r=r!=null)?Al(t,i):cs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function lC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function By(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},U0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Lr(o):(o=tr(e)?ta:Vn.current,i.context=Al(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Uy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fm.enqueueReplaceState(i,i.state,null),hp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",r=e;do n+=IM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e$=typeof WeakMap=="function"?WeakMap:Map;function lk(t,e,n){n=Yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vp||(vp=!0,Zy=r),zy(t,e)},n}function ck(t,e,n){n=Yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zy(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function cC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new e$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=p$.bind(null,t,e,n),e.then(t,t))}function uC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yi(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var t$=mo.ReactCurrentOwner,Jn=!1;function zn(t,e,n,r){e.child=t===null?jR(e,null,n,r):Ol(e,t.child,n,r)}function hC(t,e,n,r,i){n=n.render;var o=e.ref;return yl(e,i),r=q0(t,e,n,r,o,i),n=K0(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ro(t,e,i)):(St&&n&&D0(e),e.flags|=1,zn(t,e,r,i),e.child)}function fC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!rw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,uk(t,e,o,r,i)):(t=Af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:td,n(s,r)&&t.ref===e.ref)return ro(t,e,i)}return e.flags|=1,t=Jo(o,r),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(td(o,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,ro(t,e,i)}return Wy(t,e,n,r,i)}function dk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(cl,ur),ur|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(cl,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dt(cl,ur),ur|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,dt(cl,ur),ur|=r;return zn(t,e,i,n),e.child}function hk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wy(t,e,n,r,i){var o=tr(n)?ta:Vn.current;return o=Al(e,o),yl(e,i),n=q0(t,e,n,r,o,i),r=K0(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ro(t,e,i)):(St&&r&&D0(e),e.flags|=1,zn(t,e,n,i),e.child)}function pC(t,e,n,r,i){if(tr(n)){var o=!0;ap(e)}else o=!1;if(yl(e,i),e.stateNode===null)Rf(t,e),ak(e,n,r),By(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Lr(c):(c=tr(n)?ta:Vn.current,c=Al(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lC(e,s,r,c),Po=!1;var f=e.memoizedState;s.state=f,hp(e,r,s,i),l=e.memoizedState,a!==r||f!==l||er.current||Po?(typeof d=="function"&&(Uy(e,n,d,r),l=e.memoizedState),(a=Po||aC(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,VR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yr(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Lr(l):(l=tr(n)?ta:Vn.current,l=Al(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&lC(e,s,r,l),Po=!1,f=e.memoizedState,s.state=f,hp(e,r,s,i);var v=e.memoizedState;a!==h||f!==v||er.current||Po?(typeof g=="function"&&(Uy(e,n,g,r),v=e.memoizedState),(c=Po||aC(e,n,c,r,f,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hy(t,e,n,r,o,i)}function Hy(t,e,n,r,i,o){hk(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Z1(e,n,!1),ro(t,e,o);r=e.stateNode,t$.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ol(e,t.child,null,o),e.child=Ol(e,null,a,o)):zn(t,e,a,o),e.memoizedState=r.state,i&&Z1(e,n,!0),e.child}function fk(t){var e=t.stateNode;e.pendingContext?J1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J1(t,e.context,!1),B0(t,e.containerInfo)}function mC(t,e,n,r,i){return Nl(),L0(i),e.flags|=256,zn(t,e,n,r),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0};function Ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function pk(t,e,n){var r=e.pendingProps,i=It.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(It,i&1),t===null)return Fy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=gm(s,r,0,null),t=Ys(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ky(n),e.memoizedState=qy,t):Y0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return n$(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Jo(a,o):(o=Ys(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ky(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=qy,r}return o=t.child,t=o.sibling,r=Jo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Y0(t,e){return e=gm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qh(t,e,n,r){return r!==null&&L0(r),Ol(e,t.child,null,n),t=Y0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n$(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=xv(Error(Q(422))),Qh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=gm({mode:"visible",children:r.children},i,0,null),o=Ys(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ol(e,t.child,null,s),e.child.memoizedState=Ky(s),e.memoizedState=qy,o);if(!(e.mode&1))return Qh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=xv(o,r,void 0),Qh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Jn||a){if(r=cn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,no(t,i),ni(r,t,i,-1))}return nw(),r=xv(Error(Q(421))),Qh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=m$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hr=Go(i.nextSibling),mr=e,St=!0,Jr=null,t!==null&&(Sr[Ir++]=Wi,Sr[Ir++]=Hi,Sr[Ir++]=na,Wi=t.id,Hi=t.overflow,na=e),e=Y0(e,r.children),e.flags|=4096,e)}function gC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vy(t.return,e,n)}function Sv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function mk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zn(t,e,r.children,n),r=It.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gC(t,n,e);else if(t.tag===19)gC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(It,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sv(e,!0,n,null,o);break;case"together":Sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ro(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function r$(t,e,n){switch(e.tag){case 3:fk(e),Nl();break;case 5:UR(e);break;case 1:tr(e.type)&&ap(e);break;case 4:B0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(up,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(It,It.current&1),e.flags|=128,null):n&e.child.childLanes?pk(t,e,n):(dt(It,It.current&1),t=ro(t,e,n),t!==null?t.sibling:null);dt(It,It.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(It,It.current),r)break;return null;case 22:case 23:return e.lanes=0,dk(t,e,n)}return ro(t,e,n)}var gk,Gy,vk,yk;gk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gy=function(){};vk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zs(Ti.current);var o=null;switch(n){case"input":i=gy(t,i),r=gy(t,r),o=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),o=[];break;case"textarea":i=_y(t,i),r=_y(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=op)}Ey(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gu.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};yk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gc(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i$(t,e,n){var r=e.pendingProps;switch(M0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(e),null;case 1:return tr(e.type)&&sp(),Pn(e),null;case 3:return r=e.stateNode,Dl(),Et(er),Et(Vn),W0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(n_(Jr),Jr=null))),Gy(t,e),Pn(e),null;case 5:z0(e);var i=zs(sd.current);if(n=e.type,t!==null&&e.stateNode!=null)vk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Pn(e),null}if(t=zs(Ti.current),Kh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[vi]=e,r[id]=o,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<pu.length;i++)gt(pu[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":x1(r,o),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gt("invalid",r);break;case"textarea":I1(r,o),gt("invalid",r)}Ey(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),i=["children",""+a]):Gu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&gt("scroll",r)}switch(n){case"input":jh(r),S1(r,o,!0);break;case"textarea":jh(r),R1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=op)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[vi]=e,t[id]=r,gk(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ty(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<pu.length;i++)gt(pu[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":x1(t,r),i=gy(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":I1(t,r),i=_y(t,r),gt("invalid",t);break;default:i=r}Ey(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?QI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qu(t,l):typeof l=="number"&&Qu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gt("scroll",t):l!=null&&w0(t,o,l,s))}switch(n){case"input":jh(t),S1(t,r,!1);break;case"textarea":jh(t),R1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ls(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?pl(t,!!r.multiple,o,!1):r.defaultValue!=null&&pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=op)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pn(e),null;case 6:if(t&&e.stateNode!=null)yk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=zs(sd.current),zs(Ti.current),Kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(o=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:qh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return Pn(e),null;case 13:if(Et(It),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&hr!==null&&e.mode&1&&!(e.flags&128))LR(),Nl(),e.flags|=98560,o=!1;else if(o=Kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[vi]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pn(e),o=!1}else Jr!==null&&(n_(Jr),Jr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||It.current&1?en===0&&(en=3):nw())),e.updateQueue!==null&&(e.flags|=4),Pn(e),null);case 4:return Dl(),Gy(t,e),t===null&&nd(e.stateNode.containerInfo),Pn(e),null;case 10:return F0(e.type._context),Pn(e),null;case 17:return tr(e.type)&&sp(),Pn(e),null;case 19:if(Et(It),o=e.memoizedState,o===null)return Pn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Gc(o,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fp(t),s!==null){for(e.flags|=128,Gc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(It,It.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ft()>Ll&&(e.flags|=128,r=!0,Gc(o,!1),e.lanes=4194304)}else{if(!r)if(t=fp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!St)return Pn(e),null}else 2*Ft()-o.renderingStartTime>Ll&&n!==1073741824&&(e.flags|=128,r=!0,Gc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ft(),e.sibling=null,n=It.current,dt(It,r?n&1|2:n&1),e):(Pn(e),null);case 22:case 23:return tw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(Pn(e),e.subtreeFlags&6&&(e.flags|=8192)):Pn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function o$(t,e){switch(M0(e),e.tag){case 1:return tr(e.type)&&sp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),Et(er),Et(Vn),W0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z0(e),null;case 13:if(Et(It),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(It),null;case 4:return Dl(),null;case 10:return F0(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Yh=!1,Dn=!1,s$=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Qy(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var vC=!1;function a$(t,e){if(Ny=np,t=CR(),O0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oy={focusedElem:t,selectionRange:n},np=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:Yr(e.type,_),S);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){Mt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return v=vC,vC=!1,v}function Ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qy(e,n,o)}i=i.next}while(i!==r)}}function pm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _k(t){var e=t.alternate;e!==null&&(t.alternate=null,_k(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[id],delete e[Ly],delete e[zL],delete e[WL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wk(t){return t.tag===5||t.tag===3||t.tag===4}function yC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=op));else if(r!==4&&(t=t.child,t!==null))for(Xy(t,e,n),t=t.sibling;t!==null;)Xy(t,e,n),t=t.sibling}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}var vn=null,Xr=!1;function bo(t,e,n){for(n=n.child;n!==null;)Ek(t,e,n),n=n.sibling}function Ek(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(sm,n)}catch{}switch(n.tag){case 5:Dn||ll(n,e);case 6:var r=vn,i=Xr;vn=null,bo(t,e,n),vn=r,Xr=i,vn!==null&&(Xr?(t=vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(Xr?(t=vn,n=n.stateNode,t.nodeType===8?_v(t.parentNode,n):t.nodeType===1&&_v(t,n),Zu(t)):_v(vn,n.stateNode));break;case 4:r=vn,i=Xr,vn=n.stateNode.containerInfo,Xr=!0,bo(t,e,n),vn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qy(n,e,s),i=i.next}while(i!==r)}bo(t,e,n);break;case 1:if(!Dn&&(ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}bo(t,e,n);break;case 21:bo(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,bo(t,e,n),Dn=r):bo(t,e,n);break;default:bo(t,e,n)}}function _C(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new s$),e.forEach(function(r){var i=g$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vn=a.stateNode,Xr=!1;break e;case 3:vn=a.stateNode.containerInfo,Xr=!0;break e;case 4:vn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(vn===null)throw Error(Q(160));Ek(o,s,i),vn=null,Xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tk(e,t),e=e.sibling}function Tk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(e,t),hi(t),r&4){try{Ru(3,t,t.return),pm(3,t)}catch(_){Mt(t,t.return,_)}try{Ru(5,t,t.return)}catch(_){Mt(t,t.return,_)}}break;case 1:Qr(e,t),hi(t),r&512&&n!==null&&ll(n,n.return);break;case 5:if(Qr(e,t),hi(t),r&512&&n!==null&&ll(n,n.return),t.flags&32){var i=t.stateNode;try{Qu(i,"")}catch(_){Mt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&WI(i,o),Ty(a,s);var c=Ty(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?QI(i,h):d==="dangerouslySetInnerHTML"?KI(i,h):d==="children"?Qu(i,h):w0(i,d,h,c)}switch(a){case"input":vy(i,o);break;case"textarea":HI(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?pl(i,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?pl(i,!!o.multiple,o.defaultValue,!0):pl(i,!!o.multiple,o.multiple?[]:"",!1))}i[id]=o}catch(_){Mt(t,t.return,_)}}break;case 6:if(Qr(e,t),hi(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Mt(t,t.return,_)}}break;case 3:if(Qr(e,t),hi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(_){Mt(t,t.return,_)}break;case 4:Qr(e,t),hi(t);break;case 13:Qr(e,t),hi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Z0=Ft())),r&4&&_C(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(c=Dn)||d,Qr(e,t),Dn=c):Qr(e,t),hi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(h=ne=d;ne!==null;){switch(f=ne,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ru(4,f,f.return);break;case 1:ll(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Mt(r,n,_)}}break;case 5:ll(f,f.return);break;case 22:if(f.memoizedState!==null){EC(h);continue}}g!==null?(g.return=f,ne=g):EC(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GI("display",s))}catch(_){Mt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Mt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qr(e,t),hi(t),r&4&&_C(t);break;case 21:break;default:Qr(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wk(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qu(i,""),r.flags&=-33);var o=yC(t);Jy(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yC(t);Xy(t,a,s);break;default:throw Error(Q(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l$(t,e,n){ne=t,Ck(t)}function Ck(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Yh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=Yh;var c=Dn;if(Yh=s,(Dn=l)&&!c)for(ne=i;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?TC(i):l!==null?(l.return=s,ne=l):TC(i);for(;o!==null;)ne=o,Ck(o),o=o.sibling;ne=i,Yh=a,Dn=c}wC(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):wC(t)}}function wC(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||pm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&iC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iC(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Dn||e.flags&512&&Yy(e)}catch(f){Mt(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function EC(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function TC(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pm(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Mt(e,i,l)}}var o=e.return;try{Yy(e)}catch(l){Mt(e,o,l)}break;case 5:var s=e.return;try{Yy(e)}catch(l){Mt(e,s,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var c$=Math.ceil,gp=mo.ReactCurrentDispatcher,X0=mo.ReactCurrentOwner,Nr=mo.ReactCurrentBatchConfig,We=0,cn=null,Kt=null,En=0,ur=0,cl=ys(0),en=0,ud=null,ia=0,mm=0,J0=0,ku=null,Yn=null,Z0=0,Ll=1/0,Vi=null,vp=!1,Zy=null,Yo=null,Xh=!1,Fo=null,yp=0,Pu=0,e_=null,kf=-1,Pf=0;function Hn(){return We&6?Ft():kf!==-1?kf:kf=Ft()}function Xo(t){return t.mode&1?We&2&&En!==0?En&-En:qL.transition!==null?(Pf===0&&(Pf=aR()),Pf):(t=nt,t!==0||(t=window.event,t=t===void 0?16:pR(t.type)),t):1}function ni(t,e,n,r){if(50<Pu)throw Pu=0,e_=null,Error(Q(185));jd(t,n,r),(!(We&2)||t!==cn)&&(t===cn&&(!(We&2)&&(mm|=n),en===4&&No(t,En)),nr(t,r),n===1&&We===0&&!(e.mode&1)&&(Ll=Ft()+500,dm&&_s()))}function nr(t,e){var n=t.callbackNode;qM(t,e);var r=tp(t,t===cn?En:0);if(r===0)n!==null&&A1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&A1(n),e===1)t.tag===0?HL(CC.bind(null,t)):OR(CC.bind(null,t)),UL(function(){!(We&6)&&_s()}),n=null;else{switch(lR(r)){case 1:n=x0;break;case 4:n=oR;break;case 16:n=ep;break;case 536870912:n=sR;break;default:n=ep}n=Ak(n,bk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bk(t,e){if(kf=-1,Pf=0,We&6)throw Error(Q(327));var n=t.callbackNode;if(_l()&&t.callbackNode!==n)return null;var r=tp(t,t===cn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_p(t,r);else{e=r;var i=We;We|=2;var o=Sk();(cn!==t||En!==e)&&(Vi=null,Ll=Ft()+500,Qs(t,e));do try{h$();break}catch(a){xk(t,a)}while(!0);j0(),gp.current=o,We=i,Kt!==null?e=0:(cn=null,En=0,e=en)}if(e!==0){if(e===2&&(i=Iy(t),i!==0&&(r=i,e=t_(t,i))),e===1)throw n=ud,Qs(t,0),No(t,r),nr(t,Ft()),n;if(e===6)No(t,r);else{if(i=t.current.alternate,!(r&30)&&!u$(i)&&(e=_p(t,r),e===2&&(o=Iy(t),o!==0&&(r=o,e=t_(t,o))),e===1))throw n=ud,Qs(t,0),No(t,r),nr(t,Ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Ms(t,Yn,Vi);break;case 3:if(No(t,r),(r&130023424)===r&&(e=Z0+500-Ft(),10<e)){if(tp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=My(Ms.bind(null,t,Yn,Vi),e);break}Ms(t,Yn,Vi);break;case 4:if(No(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ti(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c$(r/1960))-r,10<r){t.timeoutHandle=My(Ms.bind(null,t,Yn,Vi),r);break}Ms(t,Yn,Vi);break;case 5:Ms(t,Yn,Vi);break;default:throw Error(Q(329))}}}return nr(t,Ft()),t.callbackNode===n?bk.bind(null,t):null}function t_(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(Qs(t,e).flags|=256),t=_p(t,e),t!==2&&(e=Yn,Yn=n,e!==null&&n_(e)),t}function n_(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function u$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!oi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function No(t,e){for(e&=~J0,e&=~mm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ti(e),r=1<<n;t[n]=-1,e&=~r}}function CC(t){if(We&6)throw Error(Q(327));_l();var e=tp(t,0);if(!(e&1))return nr(t,Ft()),null;var n=_p(t,e);if(t.tag!==0&&n===2){var r=Iy(t);r!==0&&(e=r,n=t_(t,r))}if(n===1)throw n=ud,Qs(t,0),No(t,e),nr(t,Ft()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,Yn,Vi),nr(t,Ft()),null}function ew(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(Ll=Ft()+500,dm&&_s())}}function oa(t){Fo!==null&&Fo.tag===0&&!(We&6)&&_l();var e=We;We|=1;var n=Nr.transition,r=nt;try{if(Nr.transition=null,nt=1,t)return t()}finally{nt=r,Nr.transition=n,We=e,!(We&6)&&_s()}}function tw(){ur=cl.current,Et(cl)}function Qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VL(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(M0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sp();break;case 3:Dl(),Et(er),Et(Vn),W0();break;case 5:z0(r);break;case 4:Dl();break;case 13:Et(It);break;case 19:Et(It);break;case 10:F0(r.type._context);break;case 22:case 23:tw()}n=n.return}if(cn=t,Kt=t=Jo(t.current,null),En=ur=e,en=0,ud=null,J0=mm=ia=0,Yn=ku=null,Bs!==null){for(e=0;e<Bs.length;e++)if(n=Bs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Bs=null}return t}function xk(t,e){do{var n=Kt;try{if(j0(),Sf.current=mp,pp){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pp=!1}if(ra=0,on=Zt=Rt=null,Iu=!1,ad=0,X0.current=null,n===null||n.return===null){en=1,ud=e,Kt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=En,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=uC(s);if(g!==null){g.flags&=-257,dC(g,s,a,o,e),g.mode&1&&cC(o,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){cC(o,c,e),nw();break e}l=Error(Q(426))}}else if(St&&a.mode&1){var S=uC(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),dC(S,s,a,o,e),L0(Ml(l,a));break e}}o=l=Ml(l,a),en!==4&&(en=2),ku===null?ku=[o]:ku.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=lk(o,l,e);rC(o,y);break e;case 1:a=l;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Yo===null||!Yo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=ck(o,a,e);rC(o,I);break e}}o=o.return}while(o!==null)}Rk(n)}catch(N){e=N,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function Sk(){var t=gp.current;return gp.current=mp,t===null?mp:t}function nw(){(en===0||en===3||en===2)&&(en=4),cn===null||!(ia&268435455)&&!(mm&268435455)||No(cn,En)}function _p(t,e){var n=We;We|=2;var r=Sk();(cn!==t||En!==e)&&(Vi=null,Qs(t,e));do try{d$();break}catch(i){xk(t,i)}while(!0);if(j0(),We=n,gp.current=r,Kt!==null)throw Error(Q(261));return cn=null,En=0,en}function d$(){for(;Kt!==null;)Ik(Kt)}function h$(){for(;Kt!==null&&!$M();)Ik(Kt)}function Ik(t){var e=Pk(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?Rk(t):Kt=e,X0.current=null}function Rk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=o$(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Kt=null;return}}else if(n=i$(n,e,ur),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);en===0&&(en=5)}function Ms(t,e,n){var r=nt,i=Nr.transition;try{Nr.transition=null,nt=1,f$(t,e,n,r)}finally{Nr.transition=i,nt=r}return null}function f$(t,e,n,r){do _l();while(Fo!==null);if(We&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(KM(t,o),t===cn&&(Kt=cn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xh||(Xh=!0,Ak(ep,function(){return _l(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Nr.transition,Nr.transition=null;var s=nt;nt=1;var a=We;We|=4,X0.current=null,a$(t,n),Tk(n,t),OL(Oy),np=!!Ny,Oy=Ny=null,t.current=n,l$(n),jM(),We=a,nt=s,Nr.transition=o}else t.current=n;if(Xh&&(Xh=!1,Fo=t,yp=i),o=t.pendingLanes,o===0&&(Yo=null),UM(n.stateNode),nr(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vp)throw vp=!1,t=Zy,Zy=null,t;return yp&1&&t.tag!==0&&_l(),o=t.pendingLanes,o&1?t===e_?Pu++:(Pu=0,e_=t):Pu=0,_s(),null}function _l(){if(Fo!==null){var t=lR(yp),e=Nr.transition,n=nt;try{if(Nr.transition=null,nt=16>t?16:t,Fo===null)var r=!1;else{if(t=Fo,Fo=null,yp=0,We&6)throw Error(Q(331));var i=We;for(We|=4,ne=t.current;ne!==null;){var o=ne,s=o.child;if(ne.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Ru(8,d,o)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var f=d.sibling,g=d.return;if(_k(d),d===c){ne=null;break}if(f!==null){f.return=g,ne=f;break}ne=g}}}var v=o.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}ne=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ne=s;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ru(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ne=y;break e}ne=o.return}}var w=t.current;for(ne=w;ne!==null;){s=ne;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ne=E;else e:for(s=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pm(9,a)}}catch(N){Mt(a,a.return,N)}if(a===s){ne=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ne=I;break e}ne=a.return}}if(We=i,_s(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(sm,t)}catch{}r=!0}return r}finally{nt=n,Nr.transition=e}}return!1}function bC(t,e,n){e=Ml(n,e),e=lk(t,e,1),t=Qo(t,e,1),e=Hn(),t!==null&&(jd(t,1,e),nr(t,e))}function Mt(t,e,n){if(t.tag===3)bC(t,t,n);else for(;e!==null;){if(e.tag===3){bC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=Ml(n,t),t=ck(e,t,1),e=Qo(e,t,1),t=Hn(),e!==null&&(jd(e,1,t),nr(e,t));break}}e=e.return}}function p$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(En&n)===n&&(en===4||en===3&&(En&130023424)===En&&500>Ft()-Z0?Qs(t,0):J0|=n),nr(t,e)}function kk(t,e){e===0&&(t.mode&1?(e=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):e=1);var n=Hn();t=no(t,e),t!==null&&(jd(t,e,n),nr(t,n))}function m$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kk(t,n)}function g$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),kk(t,n)}var Pk;Pk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,r$(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,St&&e.flags&1048576&&DR(e,cp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rf(t,e),t=e.pendingProps;var i=Al(e,Vn.current);yl(e,n),i=q0(null,e,r,t,i,n);var o=K0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(o=!0,ap(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U0(e),i.updater=fm,e.stateNode=i,i._reactInternals=e,By(e,r,t,n),e=Hy(null,e,r,!0,o,n)):(e.tag=0,St&&o&&D0(e),zn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=y$(r),t=Yr(r,t),i){case 0:e=Wy(null,e,r,t,n);break e;case 1:e=pC(null,e,r,t,n);break e;case 11:e=hC(null,e,r,t,n);break e;case 14:e=fC(null,e,r,Yr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Wy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),pC(t,e,r,i,n);case 3:e:{if(fk(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,VR(t,e),hp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ml(Error(Q(423)),e),e=mC(t,e,r,n,i);break e}else if(r!==i){i=Ml(Error(Q(424)),e),e=mC(t,e,r,n,i);break e}else for(hr=Go(e.stateNode.containerInfo.firstChild),mr=e,St=!0,Jr=null,n=jR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===i){e=ro(t,e,n);break e}zn(t,e,r,n)}e=e.child}return e;case 5:return UR(e),t===null&&Fy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Dy(r,i)?s=null:o!==null&&Dy(r,o)&&(e.flags|=32),hk(t,e),zn(t,e,s,n),e.child;case 6:return t===null&&Fy(e),null;case 13:return pk(t,e,n);case 4:return B0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ol(e,null,r,n):zn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),hC(t,e,r,i,n);case 7:return zn(t,e,e.pendingProps,n),e.child;case 8:return zn(t,e,e.pendingProps.children,n),e.child;case 12:return zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,dt(up,r._currentValue),r._currentValue=s,o!==null)if(oi(o.value,s)){if(o.children===i.children&&!er.current){e=ro(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Yi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vy(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Vy(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yl(e,n),i=Lr(i),r=r(i),e.flags|=1,zn(t,e,r,n),e.child;case 14:return r=e.type,i=Yr(r,e.pendingProps),i=Yr(r.type,i),fC(t,e,r,i,n);case 15:return uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Rf(t,e),e.tag=1,tr(r)?(t=!0,ap(e)):t=!1,yl(e,n),ak(e,r,i),By(e,r,i,n),Hy(null,e,r,!0,t,n);case 19:return mk(t,e,n);case 22:return dk(t,e,n)}throw Error(Q(156,e.tag))};function Ak(t,e){return iR(t,e)}function v$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(t,e,n,r){return new v$(t,e,n,r)}function rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y$(t){if(typeof t=="function")return rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T0)return 11;if(t===C0)return 14}return 2}function Jo(t,e){var n=t.alternate;return n===null?(n=kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Af(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")rw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Za:return Ys(n.children,i,o,e);case E0:s=8,i|=8;break;case hy:return t=kr(12,n,e,i|2),t.elementType=hy,t.lanes=o,t;case fy:return t=kr(13,n,e,i),t.elementType=fy,t.lanes=o,t;case py:return t=kr(19,n,e,i),t.elementType=py,t.lanes=o,t;case UI:return gm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FI:s=10;break e;case VI:s=9;break e;case T0:s=11;break e;case C0:s=14;break e;case ko:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=kr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ys(t,e,n,r){return t=kr(7,t,r,e),t.lanes=n,t}function gm(t,e,n,r){return t=kr(22,t,r,e),t.elementType=UI,t.lanes=n,t.stateNode={isHidden:!1},t}function Iv(t,e,n){return t=kr(6,t,null,e),t.lanes=n,t}function Rv(t,e,n){return e=kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iw(t,e,n,r,i,o,s,a,l){return t=new _$(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=kr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U0(o),t}function w$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nk(t){if(!t)return cs;t=t._reactInternals;e:{if(_a(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(tr(n))return NR(t,n,e)}return e}function Ok(t,e,n,r,i,o,s,a,l){return t=iw(n,r,!0,t,i,o,s,a,l),t.context=Nk(null),n=t.current,r=Hn(),i=Xo(n),o=Yi(r,i),o.callback=e??null,Qo(n,o,i),t.current.lanes=i,jd(t,i,r),nr(t,r),t}function vm(t,e,n,r){var i=e.current,o=Hn(),s=Xo(i);return n=Nk(n),e.context===null?e.context=n:e.pendingContext=n,e=Yi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(i,e,s),t!==null&&(ni(t,i,s,o),xf(t,i,s)),s}function wp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){xC(t,e),(t=t.alternate)&&xC(t,e)}function E$(){return null}var Dk=typeof reportError=="function"?reportError:function(t){console.error(t)};function sw(t){this._internalRoot=t}ym.prototype.render=sw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));vm(t,e,null,null)};ym.prototype.unmount=sw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oa(function(){vm(null,t,null,null)}),e[to]=null}};function ym(t){this._internalRoot=t}ym.prototype.unstable_scheduleHydration=function(t){if(t){var e=dR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ao.length&&e!==0&&e<Ao[n].priority;n++);Ao.splice(n,0,t),n===0&&fR(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SC(){}function T$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=wp(s);o.call(c)}}var s=Ok(e,r,t,0,null,!1,!1,"",SC);return t._reactRootContainer=s,t[to]=s.current,nd(t.nodeType===8?t.parentNode:t),oa(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wp(l);a.call(c)}}var l=iw(t,0,!1,null,null,!1,!1,"",SC);return t._reactRootContainer=l,t[to]=l.current,nd(t.nodeType===8?t.parentNode:t),oa(function(){vm(e,l,n,r)}),l}function wm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wp(s);a.call(l)}}vm(e,s,t,i)}else s=T$(n,e,t,i,r);return wp(s)}cR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fu(e.pendingLanes);n!==0&&(S0(e,n|1),nr(e,Ft()),!(We&6)&&(Ll=Ft()+500,_s()))}break;case 13:oa(function(){var r=no(t,1);if(r!==null){var i=Hn();ni(r,t,1,i)}}),ow(t,1)}};I0=function(t){if(t.tag===13){var e=no(t,134217728);if(e!==null){var n=Hn();ni(e,t,134217728,n)}ow(t,134217728)}};uR=function(t){if(t.tag===13){var e=Xo(t),n=no(t,e);if(n!==null){var r=Hn();ni(n,t,e,r)}ow(t,e)}};dR=function(){return nt};hR=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};by=function(t,e,n){switch(e){case"input":if(vy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=um(r);if(!i)throw Error(Q(90));zI(r),vy(r,i)}}}break;case"textarea":HI(t,n);break;case"select":e=n.value,e!=null&&pl(t,!!n.multiple,e,!1)}};JI=ew;ZI=oa;var C$={usingClientEntryPoint:!1,Events:[Vd,rl,um,YI,XI,ew]},Qc={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b$={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nR(t),t===null?null:t.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||E$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{sm=Jh.inject(b$),Ei=Jh}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C$;wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(Q(200));return w$(t,e,null,n)};wr.createRoot=function(t,e){if(!aw(t))throw Error(Q(299));var n=!1,r="",i=Dk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iw(t,1,!1,null,null,n,!1,r,i),t[to]=e.current,nd(t.nodeType===8?t.parentNode:t),new sw(e)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=nR(e),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return oa(t)};wr.hydrate=function(t,e,n){if(!_m(e))throw Error(Q(200));return wm(null,t,e,!0,n)};wr.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Dk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Ok(e,null,t,1,n??null,i,!1,o,s),t[to]=e.current,nd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ym(e)};wr.render=function(t,e,n){if(!_m(e))throw Error(Q(200));return wm(null,t,e,!1,n)};wr.unmountComponentAtNode=function(t){if(!_m(t))throw Error(Q(40));return t._reactRootContainer?(oa(function(){wm(null,null,t,!1,function(){t._reactRootContainer=null,t[to]=null})}),!0):!1};wr.unstable_batchedUpdates=ew;wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_m(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return wm(t,e,n,!1,r)};wr.version="18.3.1-next-f1338f8080-20240426";function Mk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mk)}catch(t){console.error(t)}}Mk(),MI.exports=wr;var lw=MI.exports;const Zh=CI(lw);var IC=lw;uy.createRoot=IC.createRoot,uy.hydrateRoot=IC.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}var Vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vo||(Vo={}));const RC="popstate";function x$(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return r_("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ep(i)}return I$(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S$(){return Math.random().toString(36).substr(2,8)}function kC(t,e){return{usr:t.state,key:t.key,idx:e}}function r_(t,e,n,r){return n===void 0&&(n=null),dd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||S$()})}function Ep(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function I$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Vo.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(dd({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function h(){a=Vo.Pop;let S=d(),y=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:y})}function f(S,y){a=Vo.Push;let w=r_(_.location,S,y);c=d()+1;let E=kC(w,c),I=_.createHref(w);try{s.pushState(E,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}o&&l&&l({action:a,location:_.location,delta:1})}function g(S,y){a=Vo.Replace;let w=r_(_.location,S,y);c=d();let E=kC(w,c),I=_.createHref(w);s.replaceState(E,"",I),o&&l&&l({action:a,location:_.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:Ep(S);return w=w.replace(/ $/,"%20"),Vt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let _={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(RC,h),l=S,()=>{i.removeEventListener(RC,h),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(S){return s.go(S)}};return _}var PC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PC||(PC={}));function R$(t,e,n){return n===void 0&&(n="/"),k$(t,e,n,!1)}function k$(t,e,n,r){let i=typeof e=="string"?uc(e):e,o=cw(i.pathname||"/",n);if(o==null)return null;let s=$k(t);P$(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=U$(o);a=F$(s[l],c,r)}return a}function $k(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Zo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$k(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:$$(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of jk(o.path))i(o,s,l)}),e}function jk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=jk(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function P$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A$=/^:[\w-]+$/,N$=3,O$=2,D$=1,M$=10,L$=-2,AC=t=>t==="*";function $$(t,e){let n=t.split("/"),r=n.length;return n.some(AC)&&(r+=L$),e&&(r+=O$),n.filter(i=>!AC(i)).reduce((i,o)=>i+(A$.test(o)?N$:o===""?D$:M$),r)}function j$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function F$(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=NC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=NC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Zo([o,h.pathname]),pathnameBase:H$(Zo([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=Zo([o,h.pathnameBase]))}return s}function NC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function V$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uc(t):t;return{pathname:n?n.startsWith("/")?n:z$(n,e):e,search:q$(r),hash:K$(i)}}function z$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uw(t,e){let n=W$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uc(t):(i=dd({},t),Vt(!i.pathname||!i.pathname.includes("?"),kv("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),kv("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),kv("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=B$(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),H$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fk=["post","put","patch","delete"];new Set(Fk);const Q$=["get",...Fk];new Set(Q$);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}const hw=C.createContext(null),Y$=C.createContext(null),ws=C.createContext(null),Em=C.createContext(null),Es=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Vk=C.createContext(null);function X$(t,e){let{relative:n}=e===void 0?{}:e;dc()||Vt(!1);let{basename:r,navigator:i}=C.useContext(ws),{hash:o,pathname:s,search:a}=Bk(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Zo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function dc(){return C.useContext(Em)!=null}function hc(){return dc()||Vt(!1),C.useContext(Em).location}function Uk(t){C.useContext(ws).static||C.useLayoutEffect(t)}function fc(){let{isDataRoute:t}=C.useContext(Es);return t?uj():J$()}function J$(){dc()||Vt(!1);let t=C.useContext(hw),{basename:e,future:n,navigator:r}=C.useContext(ws),{matches:i}=C.useContext(Es),{pathname:o}=hc(),s=JSON.stringify(uw(i,n.v7_relativeSplatPath)),a=C.useRef(!1);return Uk(()=>{a.current=!0}),C.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=dw(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}function Bk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(ws),{matches:i}=C.useContext(Es),{pathname:o}=hc(),s=JSON.stringify(uw(i,r.v7_relativeSplatPath));return C.useMemo(()=>dw(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Z$(t,e){return ej(t,e)}function ej(t,e,n,r){dc()||Vt(!1);let{navigator:i}=C.useContext(ws),{matches:o}=C.useContext(Es),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=hc(),d;if(e){var h;let S=typeof e=="string"?uc(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||Vt(!1),d=S}else d=c;let f=d.pathname||"/",g=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=R$(t,{pathname:g}),_=oj(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Zo([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Zo([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&_?C.createElement(Em.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vo.Pop}},_):_}function tj(){let t=cj(),e=G$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const nj=C.createElement(tj,null);class rj extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Es.Provider,{value:this.props.routeContext},C.createElement(Vk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ij(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(hw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Es.Provider,{value:e},r)}function oj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Vt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let g,v=!1,_=null,S=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||nj,l&&(c<0&&f===0?(v=!0,S=null):c===f&&(v=!0,S=h.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),w=()=>{let E;return g?E=_:v?E=S:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,C.createElement(ij,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(rj,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var zk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zk||{}),Tp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tp||{});function sj(t){let e=C.useContext(hw);return e||Vt(!1),e}function aj(t){let e=C.useContext(Y$);return e||Vt(!1),e}function lj(t){let e=C.useContext(Es);return e||Vt(!1),e}function Wk(t){let e=lj(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function cj(){var t;let e=C.useContext(Vk),n=aj(Tp.UseRouteError),r=Wk(Tp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uj(){let{router:t}=sj(zk.UseNavigateStable),e=Wk(Tp.UseNavigateStable),n=C.useRef(!1);return Uk(()=>{n.current=!0}),C.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hd({fromRouteId:e},o)))},[t,e])}const OC={};function dj(t,e){OC[e]||(OC[e]=!0,console.warn(e))}const DC=(t,e,n)=>dj(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function hj(t,e){t!=null&&t.v7_startTransition||DC("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&DC("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Hk(t){let{to:e,replace:n,state:r,relative:i}=t;dc()||Vt(!1);let{future:o,static:s}=C.useContext(ws),{matches:a}=C.useContext(Es),{pathname:l}=hc(),c=fc(),d=dw(e,uw(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return C.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Ls(t){Vt(!1)}function fj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vo.Pop,navigator:o,static:s=!1,future:a}=t;dc()&&Vt(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:o,static:s,future:hd({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=uc(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:v="default"}=r,_=C.useMemo(()=>{let S=cw(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:g,key:v},navigationType:i}},[l,d,h,f,g,v,i]);return _==null?null:C.createElement(ws.Provider,{value:c},C.createElement(Em.Provider,{children:n,value:_}))}function pj(t){let{children:e,location:n}=t;return Z$(i_(e),n)}new Promise(()=>{});function i_(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,i_(r.props.children,o));return}r.type!==Ls&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=i_(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function mj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vj(t,e){return t.button===0&&(!e||e==="_self")&&!gj(t)}const yj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_j="6";try{window.__reactRouterVersion=_j}catch{}const wj="startTransition",MC=Yf[wj];function Ej(t){let{basename:e,children:n,future:r,window:i}=t,o=C.useRef();o.current==null&&(o.current=x$({window:i,v5Compat:!0}));let s=o.current,[a,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=C.useCallback(h=>{c&&MC?MC(()=>l(h)):l(h)},[l,c]);return C.useLayoutEffect(()=>s.listen(d),[s,d]),C.useEffect(()=>hj(r),[r]),C.createElement(fj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Tj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qk=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=mj(e,yj),{basename:g}=C.useContext(ws),v,_=!1;if(typeof c=="string"&&Cj.test(c)&&(v=c,Tj))try{let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=cw(I.pathname,g);I.origin===E.origin&&N!=null?c=N+I.search+I.hash:_=!0}catch{}let S=X$(c,{relative:i}),y=bj(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function w(E){r&&r(E),E.defaultPrevented||y(E)}return C.createElement("a",o_({},f,{href:v||S,onClick:_||o?r:w,ref:n,target:l}))});var LC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LC||(LC={}));var $C;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($C||($C={}));function bj(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=fc(),c=hc(),d=Bk(t,{relative:s});return C.useCallback(h=>{if(vj(h,n)){h.preventDefault();let f=r!==void 0?r:Ep(c)===Ep(d);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,d,r,i,n,t,o,s,a])}function sa(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const xj=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"})),$l="$$material";function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(null,arguments)}function Y(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Kk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Sj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ij=Kk(function(t){return Sj.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Rj=!1;function kj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Pj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Aj=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!Rj:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Pj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=kj(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Nn="-ms-",Cp="-moz-",Ze="-webkit-",Gk="comm",fw="rule",pw="decl",Nj="@import",Qk="@keyframes",Oj="@layer",Dj=Math.abs,Tm=String.fromCharCode,Mj=Object.assign;function Lj(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function Yk(t){return t.trim()}function $j(t,e){return(t=e.exec(t))?t[0]:t}function et(t,e,n){return t.replace(e,n)}function s_(t,e){return t.indexOf(e)}function yn(t,e){return t.charCodeAt(e)|0}function fd(t,e,n){return t.slice(e,n)}function pi(t){return t.length}function mw(t){return t.length}function ef(t,e){return e.push(t),t}function jj(t,e){return t.map(e).join("")}var Cm=1,jl=1,Xk=0,sr=0,qt=0,pc="";function bm(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Cm,column:jl,length:s,return:""}}function Yc(t,e){return Mj(bm("",null,null,"",null,null,0),t,{length:-t.length},e)}function Fj(){return qt}function Vj(){return qt=sr>0?yn(pc,--sr):0,jl--,qt===10&&(jl=1,Cm--),qt}function gr(){return qt=sr<Xk?yn(pc,sr++):0,jl++,qt===10&&(jl=1,Cm++),qt}function Ci(){return yn(pc,sr)}function Nf(){return sr}function Bd(t,e){return fd(pc,t,e)}function pd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jk(t){return Cm=jl=1,Xk=pi(pc=t),sr=0,[]}function Zk(t){return pc="",t}function Of(t){return Yk(Bd(sr-1,a_(t===91?t+2:t===40?t+1:t)))}function Uj(t){for(;(qt=Ci())&&qt<33;)gr();return pd(t)>2||pd(qt)>3?"":" "}function Bj(t,e){for(;--e&&gr()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return Bd(t,Nf()+(e<6&&Ci()==32&&gr()==32))}function a_(t){for(;gr();)switch(qt){case t:return sr;case 34:case 39:t!==34&&t!==39&&a_(qt);break;case 40:t===41&&a_(t);break;case 92:gr();break}return sr}function zj(t,e){for(;gr()&&t+qt!==57;)if(t+qt===84&&Ci()===47)break;return"/*"+Bd(e,sr-1)+"*"+Tm(t===47?t:gr())}function Wj(t){for(;!pd(Ci());)gr();return Bd(t,sr)}function Hj(t){return Zk(Df("",null,null,null,[""],t=Jk(t),0,[0],t))}function Df(t,e,n,r,i,o,s,a,l){for(var c=0,d=0,h=s,f=0,g=0,v=0,_=1,S=1,y=1,w=0,E="",I=i,N=o,M=r,x=E;S;)switch(v=w,w=gr()){case 40:if(v!=108&&yn(x,h-1)==58){s_(x+=et(Of(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:x+=Of(w);break;case 9:case 10:case 13:case 32:x+=Uj(v);break;case 92:x+=Bj(Nf()-1,7);continue;case 47:switch(Ci()){case 42:case 47:ef(qj(zj(gr(),Nf()),e,n),l);break;default:x+="/"}break;case 123*_:a[c++]=pi(x)*y;case 125*_:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+d:y==-1&&(x=et(x,/\f/g,"")),g>0&&pi(x)-h&&ef(g>32?FC(x+";",r,n,h-1):FC(et(x," ","")+";",r,n,h-2),l);break;case 59:x+=";";default:if(ef(M=jC(x,e,n,c,d,i,a,E,I=[],N=[],h),o),w===123)if(d===0)Df(x,e,M,M,I,o,h,a,N);else switch(f===99&&yn(x,3)===110?100:f){case 100:case 108:case 109:case 115:Df(t,M,M,r&&ef(jC(t,M,M,0,0,i,a,E,i,I=[],h),N),i,N,h,a,r?I:N);break;default:Df(x,M,M,M,[""],N,0,a,N)}}c=d=g=0,_=y=1,E=x="",h=s;break;case 58:h=1+pi(x),g=v;default:if(_<1){if(w==123)--_;else if(w==125&&_++==0&&Vj()==125)continue}switch(x+=Tm(w),w*_){case 38:y=d>0?1:(x+="\f",-1);break;case 44:a[c++]=(pi(x)-1)*y,y=1;break;case 64:Ci()===45&&(x+=Of(gr())),f=Ci(),d=h=pi(E=x+=Wj(Nf())),w++;break;case 45:v===45&&pi(x)==2&&(_=0)}}return o}function jC(t,e,n,r,i,o,s,a,l,c,d){for(var h=i-1,f=i===0?o:[""],g=mw(f),v=0,_=0,S=0;v<r;++v)for(var y=0,w=fd(t,h+1,h=Dj(_=s[v])),E=t;y<g;++y)(E=Yk(_>0?f[y]+" "+w:et(w,/&\f/g,f[y])))&&(l[S++]=E);return bm(t,e,n,i===0?fw:a,l,c,d)}function qj(t,e,n){return bm(t,e,n,Gk,Tm(Fj()),fd(t,2,-2),0)}function FC(t,e,n,r){return bm(t,e,n,pw,fd(t,0,r),fd(t,r+1,-1),r)}function wl(t,e){for(var n="",r=mw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Kj(t,e,n,r){switch(t.type){case Oj:if(t.children.length)break;case Nj:case pw:return t.return=t.return||t.value;case Gk:return"";case Qk:return t.return=t.value+"{"+wl(t.children,r)+"}";case fw:t.value=t.props.join(",")}return pi(n=wl(t.children,r))?t.return=t.value+"{"+n+"}":""}function Gj(t){var e=mw(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function Qj(t){return function(e){e.root||(e=e.return)&&t(e)}}var Yj=function(e,n,r){for(var i=0,o=0;i=o,o=Ci(),i===38&&o===12&&(n[r]=1),!pd(o);)gr();return Bd(e,sr)},Xj=function(e,n){var r=-1,i=44;do switch(pd(i)){case 0:i===38&&Ci()===12&&(n[r]=1),e[r]+=Yj(sr-1,n,r);break;case 2:e[r]+=Of(i);break;case 4:if(i===44){e[++r]=Ci()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Tm(i)}while(i=gr());return e},Jj=function(e,n){return Zk(Xj(Jk(e),n))},VC=new WeakMap,Zj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!VC.get(r))&&!i){VC.set(e,!0);for(var o=[],s=Jj(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},eF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function eP(t,e){switch(Lj(t,e)){case 5103:return Ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+t+Cp+t+Nn+t+t;case 6828:case 4268:return Ze+t+Nn+t+t;case 6165:return Ze+t+Nn+"flex-"+t+t;case 5187:return Ze+t+et(t,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+Nn+"flex-$1$2")+t;case 5443:return Ze+t+Nn+"flex-item-"+et(t,/flex-|-self/,"")+t;case 4675:return Ze+t+Nn+"flex-line-pack"+et(t,/align-content|flex-|-self/,"")+t;case 5548:return Ze+t+Nn+et(t,"shrink","negative")+t;case 5292:return Ze+t+Nn+et(t,"basis","preferred-size")+t;case 6060:return Ze+"box-"+et(t,"-grow","")+Ze+t+Nn+et(t,"grow","positive")+t;case 4554:return Ze+et(t,/([^-])(transform)/g,"$1"+Ze+"$2")+t;case 6187:return et(et(et(t,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),t,"")+t;case 5495:case 3959:return et(t,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return et(et(t,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+Nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+t+t;case 4095:case 3583:case 4068:case 2532:return et(t,/(.+)-inline(.+)/,Ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pi(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return et(t,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+Cp+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~s_(t,"stretch")?eP(et(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yn(t,e+1)!==115)break;case 6444:switch(yn(t,pi(t)-3-(~s_(t,"!important")&&10))){case 107:return et(t,":",":"+Ze)+t;case 101:return et(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(yn(t,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+Nn+"$2box$3")+t}break;case 5936:switch(yn(t,e+11)){case 114:return Ze+t+Nn+et(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ze+t+Nn+et(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ze+t+Nn+et(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ze+t+Nn+t+t}return t}var tF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case pw:e.return=eP(e.value,e.length);break;case Qk:return wl([Yc(e,{value:et(e.value,"@","@"+Ze)})],i);case fw:if(e.length)return jj(e.props,function(o){switch($j(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wl([Yc(e,{props:[et(o,/:(read-\w+)/,":"+Cp+"$1")]})],i);case"::placeholder":return wl([Yc(e,{props:[et(o,/:(plac\w+)/,":"+Ze+"input-$1")]}),Yc(e,{props:[et(o,/:(plac\w+)/,":"+Cp+"$1")]}),Yc(e,{props:[et(o,/:(plac\w+)/,Nn+"input-$1")]})],i)}return""})}},nF=[tF],tP=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||nF,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),y=1;y<S.length;y++)o[S[y]]=!0;a.push(_)});var l,c=[Zj,eF];{var d,h=[Kj,Qj(function(_){d.insert(_)})],f=Gj(c.concat(i,h)),g=function(S){return wl(Hj(S),f)};l=function(S,y,w,E){d=w,g(S?S+"{"+y.styles+"}":y.styles),E&&(v.inserted[y.name]=!0)}}var v={key:n,sheet:new Aj({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return v.sheet.hydrate(a),v},nP={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var un=typeof Symbol=="function"&&Symbol.for,gw=un?Symbol.for("react.element"):60103,vw=un?Symbol.for("react.portal"):60106,xm=un?Symbol.for("react.fragment"):60107,Sm=un?Symbol.for("react.strict_mode"):60108,Im=un?Symbol.for("react.profiler"):60114,Rm=un?Symbol.for("react.provider"):60109,km=un?Symbol.for("react.context"):60110,yw=un?Symbol.for("react.async_mode"):60111,Pm=un?Symbol.for("react.concurrent_mode"):60111,Am=un?Symbol.for("react.forward_ref"):60112,Nm=un?Symbol.for("react.suspense"):60113,rF=un?Symbol.for("react.suspense_list"):60120,Om=un?Symbol.for("react.memo"):60115,Dm=un?Symbol.for("react.lazy"):60116,iF=un?Symbol.for("react.block"):60121,oF=un?Symbol.for("react.fundamental"):60117,sF=un?Symbol.for("react.responder"):60118,aF=un?Symbol.for("react.scope"):60119;function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gw:switch(t=t.type,t){case yw:case Pm:case xm:case Im:case Sm:case Nm:return t;default:switch(t=t&&t.$$typeof,t){case km:case Am:case Dm:case Om:case Rm:return t;default:return e}}case vw:return e}}}function rP(t){return Tr(t)===Pm}it.AsyncMode=yw;it.ConcurrentMode=Pm;it.ContextConsumer=km;it.ContextProvider=Rm;it.Element=gw;it.ForwardRef=Am;it.Fragment=xm;it.Lazy=Dm;it.Memo=Om;it.Portal=vw;it.Profiler=Im;it.StrictMode=Sm;it.Suspense=Nm;it.isAsyncMode=function(t){return rP(t)||Tr(t)===yw};it.isConcurrentMode=rP;it.isContextConsumer=function(t){return Tr(t)===km};it.isContextProvider=function(t){return Tr(t)===Rm};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gw};it.isForwardRef=function(t){return Tr(t)===Am};it.isFragment=function(t){return Tr(t)===xm};it.isLazy=function(t){return Tr(t)===Dm};it.isMemo=function(t){return Tr(t)===Om};it.isPortal=function(t){return Tr(t)===vw};it.isProfiler=function(t){return Tr(t)===Im};it.isStrictMode=function(t){return Tr(t)===Sm};it.isSuspense=function(t){return Tr(t)===Nm};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xm||t===Pm||t===Im||t===Sm||t===Nm||t===rF||typeof t=="object"&&t!==null&&(t.$$typeof===Dm||t.$$typeof===Om||t.$$typeof===Rm||t.$$typeof===km||t.$$typeof===Am||t.$$typeof===oF||t.$$typeof===sF||t.$$typeof===aF||t.$$typeof===iF)};it.typeOf=Tr;nP.exports=it;var lF=nP.exports,iP=lF,cF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oP={};oP[iP.ForwardRef]=cF;oP[iP.Memo]=uF;var dF=!0;function hF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var sP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||dF===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},aP=function(e,n,r){sP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function fF(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var pF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mF=!1,gF=/[A-Z]|^ms/g,vF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lP=function(e){return e.charCodeAt(1)===45},UC=function(e){return e!=null&&typeof e!="boolean"},Pv=Kk(function(t){return lP(t)?t:t.replace(gF,"-$&").toLowerCase()}),BC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vF,function(r,i,o){return mi={name:i,styles:o,next:mi},i})}return pF[e]!==1&&!lP(e)&&typeof n=="number"&&n!==0?n+"px":n},yF="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function md(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return mi={name:i.name,styles:i.styles,next:mi},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)mi={name:s.name,styles:s.styles,next:mi},s=s.next;var a=o.styles+";";return a}return _F(t,e,n)}case"function":{if(t!==void 0){var l=mi,c=n(t);return mi=l,md(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function _F(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=md(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":UC(a)&&(r+=Pv(o)+":"+BC(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&mF)throw new Error(yF);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)UC(s[l])&&(r+=Pv(o)+":"+BC(o,s[l])+";");else{var c=md(t,e,s);switch(o){case"animation":case"animationName":{r+=Pv(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}}return r}var zC=/label:\s*([^\s;{]+)\s*(;|$)/g,mi;function _w(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";mi=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=md(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=md(n,e,t[a]),r){var l=o;i+=l[a]}zC.lastIndex=0;for(var c="",d;(d=zC.exec(i))!==null;)c+="-"+d[1];var h=fF(i)+c;return{name:h,styles:i,next:mi}}var wF=function(e){return e()},cP=Yf.useInsertionEffect?Yf.useInsertionEffect:!1,EF=cP||wF,WC=cP||C.useLayoutEffect,uP=C.createContext(typeof HTMLElement<"u"?tP({key:"css"}):null),TF=uP.Provider,dP=function(e){return C.forwardRef(function(n,r){var i=C.useContext(uP);return e(n,i,r)})},zd=C.createContext({}),Av={exports:{}},HC;function hP(){return HC||(HC=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Av)),Av.exports}hP();var CF=dP(function(t,e){var n=t.styles,r=_w([n],void 0,C.useContext(zd)),i=C.useRef();return WC(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),WC(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&aP(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function wa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _w(e)}var go=function(){var e=wa.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},bF=Ij,xF=function(e){return e!=="theme"},qC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?bF:xF},KC=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},SF=!1,IF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return sP(n,r,i),EF(function(){return aP(n,r,i)}),null},RF=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=KC(e,n,r),l=a||qC(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,g=1;g<f;g++)h.push(d[g],d[0][g])}var v=dP(function(_,S,y){var w=c&&_.as||i,E="",I=[],N=_;if(_.theme==null){N={};for(var M in _)N[M]=_[M];N.theme=C.useContext(zd)}typeof _.className=="string"?E=hF(S.registered,I,_.className):_.className!=null&&(E=_.className+" ");var x=_w(h.concat(I),S.registered,N);E+=S.key+"-"+x.name,s!==void 0&&(E+=" "+s);var b=c&&a===void 0?qC(w):l,k={};for(var P in _)c&&P==="as"||b(P)&&(k[P]=_[P]);return k.className=E,y&&(k.ref=y),C.createElement(C.Fragment,null,C.createElement(IF,{cache:S,serialized:x,isStringTag:typeof w=="string"}),C.createElement(w,k))});return v.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return s===void 0&&SF?"NO_COMPONENT_SELECTOR":"."+s}}),v.withComponent=function(_,S){return t(_,R({},n,S,{shouldForwardProp:KC(v,S,!0)})).apply(void 0,h)},v}},kF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],l_=RF.bind();kF.forEach(function(t){l_[t]=l_(t)});let c_;typeof document=="object"&&(c_=tP({key:"css",prepend:!0}));function PF(t){const{injectFirst:e,children:n}=t;return e&&c_?m.jsx(TF,{value:c_,children:n}):n}function AF(t){return t==null||Object.keys(t).length===0}function fP(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(AF(i)?n:i):e;return m.jsx(CF,{styles:r})}function ww(t,e){return l_(t,e)}const pP=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},NF=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:fP,StyledEngineProvider:PF,ThemeContext:zd,css:wa,default:ww,internal_processStyles:pP,keyframes:go},Symbol.toStringTag,{value:"Module"}));function zi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mP(t){if(!zi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=mP(t[n])}),e}function qn(t,e,n={clone:!0}){const r=n.clone?R({},t):t;return zi(t)&&zi(e)&&Object.keys(e).forEach(i=>{zi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&zi(t[i])?r[i]=qn(t[i],e[i],n):n.clone?r[i]=zi(e[i])?mP(e[i]):e[i]:r[i]=e[i]}),r}const OF=Object.freeze(Object.defineProperty({__proto__:null,default:qn,isPlainObject:zi},Symbol.toStringTag,{value:"Module"})),DF=["values","unit","step"],MF=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>R({},n,{[r.key]:r.val}),{})};function gP(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Y(t,DF),o=MF(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,g){const v=s.indexOf(g);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(v!==-1&&typeof e[s[v]]=="number"?e[s[v]]:g)-r/100}${n})`}function d(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function h(f){const g=s.indexOf(f);return g===0?a(s[1]):g===s.length-1?l(s[g]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return R({keys:s,values:o,up:a,down:l,between:c,only:d,not:h,unit:n},i)}const LF={borderRadius:4};function Au(t,e){return e?qn(t,e,{clone:!1}):t}const Ew={xs:0,sm:600,md:900,lg:1200,xl:1536},GC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Ew[t]}px)`};function ar(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||GC;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||GC;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||Ew).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function vP(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function yP(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function $F(t,...e){const n=vP(t),r=[n,...e].reduce((i,o)=>qn(i,o),{});return yP(Object.keys(n),r)}function jF(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Xs({values:t,breakpoints:e,base:n}){const r=n||jF(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function z(t){if(typeof t!="string")throw new Error(sa(7));return t.charAt(0).toUpperCase()+t.slice(1)}const FF=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));function Fl(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function bp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Fl(t,n)||r,e&&(i=e(i,r,t)),i}function Ut(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=Fl(l,r)||{};return ar(s,a,h=>{let f=bp(c,i,h);return h===f&&typeof h=="string"&&(f=bp(c,i,`${e}${h==="default"?"":z(h)}`,h)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function VF(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const UF={m:"margin",p:"padding"},BF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},QC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zF=VF(t=>{if(t.length>2)if(QC[t])t=QC[t];else return[t];const[e,n]=t.split(""),r=UF[e],i=BF[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Tw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Cw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Tw,...Cw];function Wd(t,e,n,r){var i;const o=(i=Fl(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function bw(t){return Wd(t,"spacing",8)}function aa(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function WF(t,e){return n=>t.reduce((r,i)=>(r[i]=aa(e,n),r),{})}function HF(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=zF(n),o=WF(i,r),s=t[n];return ar(t,s,o)}function _P(t,e){const n=bw(t.theme);return Object.keys(t).map(r=>HF(t,e,r,n)).reduce(Au,{})}function Ot(t){return _P(t,Tw)}Ot.propTypes={};Ot.filterProps=Tw;function Dt(t){return _P(t,Cw)}Dt.propTypes={};Dt.filterProps=Cw;function qF(t=8){if(t.mui)return t;const e=bw({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Mm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Au(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Rr(t){return typeof t!="number"?t:`${t}px solid`}function Wr(t,e){return Ut({prop:t,themeKey:"borders",transform:e})}const KF=Wr("border",Rr),GF=Wr("borderTop",Rr),QF=Wr("borderRight",Rr),YF=Wr("borderBottom",Rr),XF=Wr("borderLeft",Rr),JF=Wr("borderColor"),ZF=Wr("borderTopColor"),e4=Wr("borderRightColor"),t4=Wr("borderBottomColor"),n4=Wr("borderLeftColor"),r4=Wr("outline",Rr),i4=Wr("outlineColor"),Lm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Wd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:aa(e,r)});return ar(t,t.borderRadius,n)}return null};Lm.propTypes={};Lm.filterProps=["borderRadius"];Mm(KF,GF,QF,YF,XF,JF,ZF,e4,t4,n4,Lm,r4,i4);const $m=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Wd(t.theme,"spacing",8),n=r=>({gap:aa(e,r)});return ar(t,t.gap,n)}return null};$m.propTypes={};$m.filterProps=["gap"];const jm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Wd(t.theme,"spacing",8),n=r=>({columnGap:aa(e,r)});return ar(t,t.columnGap,n)}return null};jm.propTypes={};jm.filterProps=["columnGap"];const Fm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Wd(t.theme,"spacing",8),n=r=>({rowGap:aa(e,r)});return ar(t,t.rowGap,n)}return null};Fm.propTypes={};Fm.filterProps=["rowGap"];const o4=Ut({prop:"gridColumn"}),s4=Ut({prop:"gridRow"}),a4=Ut({prop:"gridAutoFlow"}),l4=Ut({prop:"gridAutoColumns"}),c4=Ut({prop:"gridAutoRows"}),u4=Ut({prop:"gridTemplateColumns"}),d4=Ut({prop:"gridTemplateRows"}),h4=Ut({prop:"gridTemplateAreas"}),f4=Ut({prop:"gridArea"});Mm($m,jm,Fm,o4,s4,a4,l4,c4,u4,d4,h4,f4);function El(t,e){return e==="grey"?e:t}const p4=Ut({prop:"color",themeKey:"palette",transform:El}),m4=Ut({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:El}),g4=Ut({prop:"backgroundColor",themeKey:"palette",transform:El});Mm(p4,m4,g4);function dr(t){return t<=1&&t!==0?`${t*100}%`:t}const v4=Ut({prop:"width",transform:dr}),xw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Ew[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:dr(n)}};return ar(t,t.maxWidth,e)}return null};xw.filterProps=["maxWidth"];const y4=Ut({prop:"minWidth",transform:dr}),_4=Ut({prop:"height",transform:dr}),w4=Ut({prop:"maxHeight",transform:dr}),E4=Ut({prop:"minHeight",transform:dr});Ut({prop:"size",cssProperty:"width",transform:dr});Ut({prop:"size",cssProperty:"height",transform:dr});const T4=Ut({prop:"boxSizing"});Mm(v4,xw,y4,_4,w4,E4,T4);const Hd={border:{themeKey:"borders",transform:Rr},borderTop:{themeKey:"borders",transform:Rr},borderRight:{themeKey:"borders",transform:Rr},borderBottom:{themeKey:"borders",transform:Rr},borderLeft:{themeKey:"borders",transform:Rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Rr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Lm},color:{themeKey:"palette",transform:El},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:El},backgroundColor:{themeKey:"palette",transform:El},p:{style:Dt},pt:{style:Dt},pr:{style:Dt},pb:{style:Dt},pl:{style:Dt},px:{style:Dt},py:{style:Dt},padding:{style:Dt},paddingTop:{style:Dt},paddingRight:{style:Dt},paddingBottom:{style:Dt},paddingLeft:{style:Dt},paddingX:{style:Dt},paddingY:{style:Dt},paddingInline:{style:Dt},paddingInlineStart:{style:Dt},paddingInlineEnd:{style:Dt},paddingBlock:{style:Dt},paddingBlockStart:{style:Dt},paddingBlockEnd:{style:Dt},m:{style:Ot},mt:{style:Ot},mr:{style:Ot},mb:{style:Ot},ml:{style:Ot},mx:{style:Ot},my:{style:Ot},margin:{style:Ot},marginTop:{style:Ot},marginRight:{style:Ot},marginBottom:{style:Ot},marginLeft:{style:Ot},marginX:{style:Ot},marginY:{style:Ot},marginInline:{style:Ot},marginInlineStart:{style:Ot},marginInlineEnd:{style:Ot},marginBlock:{style:Ot},marginBlockStart:{style:Ot},marginBlockEnd:{style:Ot},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$m},rowGap:{style:Fm},columnGap:{style:jm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dr},maxWidth:{style:xw},minWidth:{transform:dr},height:{transform:dr},maxHeight:{transform:dr},minHeight:{transform:dr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function C4(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function b4(t,e){return typeof t=="function"?t(e):t}function wP(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Fl(i,c)||{};return h?h(s):ar(s,r,v=>{let _=bp(f,d,v);return v===_&&typeof v=="string"&&(_=bp(f,d,`${n}${v==="default"?"":z(v)}`,v)),l===!1?_:{[l]:_}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Hd;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const d=vP(o.breakpoints),h=Object.keys(d);let f=d;return Object.keys(c).forEach(g=>{const v=b4(c[g],o);if(v!=null)if(typeof v=="object")if(s[g])f=Au(f,t(g,v,o,s));else{const _=ar({theme:o},v,S=>({[g]:S}));C4(_,v)?f[g]=e({sx:v,theme:o}):f=Au(f,_)}else f=Au(f,t(g,v,o,s))}),yP(h,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const mc=wP();mc.filterProps=["sx"];function EP(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const x4=["breakpoints","palette","spacing","shape"];function gc(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=Y(t,x4),a=gP(n),l=qF(i);let c=qn({breakpoints:a,direction:"ltr",components:{},palette:R({mode:"light"},r),spacing:l,shape:R({},LF,o)},s);return c.applyStyles=EP,c=e.reduce((d,h)=>qn(d,h),c),c.unstable_sxConfig=R({},Hd,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(h){return mc({sx:h,theme:this})},c}const S4=Object.freeze(Object.defineProperty({__proto__:null,default:gc,private_createBreakpoints:gP,unstable_applyStyles:EP},Symbol.toStringTag,{value:"Module"}));function I4(t){return Object.keys(t).length===0}function TP(t=null){const e=C.useContext(zd);return!e||I4(e)?t:e}const R4=gc();function Vm(t=R4){return TP(t)}function k4({styles:t,themeId:e,defaultTheme:n={}}){const r=Vm(n),i=typeof t=="function"?t(e&&r[e]||r):t;return m.jsx(fP,{styles:i})}const P4=["sx"],A4=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Hd;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function qd(t){const{sx:e}=t,n=Y(t,P4),{systemProps:r,otherProps:i}=A4(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return zi(a)?R({},r,a):r}:o=R({},r,e),R({},i,{sx:o})}const N4=Object.freeze(Object.defineProperty({__proto__:null,default:mc,extendSxProp:qd,unstable_createStyleFunctionSx:wP,unstable_defaultSxConfig:Hd},Symbol.toStringTag,{value:"Module"})),YC=t=>t,O4=()=>{let t=YC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=YC}}},Sw=O4();function CP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Z(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CP(t))&&(r&&(r+=" "),r+=e);return r}const D4=["className","component"];function M4(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=ww("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(mc);return C.forwardRef(function(l,c){const d=Vm(n),h=qd(l),{className:f,component:g="div"}=h,v=Y(h,D4);return m.jsx(o,R({as:g,ref:c,className:Z(f,i?i(r):r),theme:e&&d[e]||d},v))})}const L4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ue(t,e,n="Mui"){const r=L4[e];return r?`${n}-${r}`:`${Sw.generate(t)}-${e}`}function ae(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ue(t,i,n)}),r}var bP={exports:{}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=Symbol.for("react.element"),Rw=Symbol.for("react.portal"),Um=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),Hm=Symbol.for("react.context"),$4=Symbol.for("react.server_context"),qm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Ym=Symbol.for("react.lazy"),j4=Symbol.for("react.offscreen"),xP;xP=Symbol.for("react.module.reference");function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Iw:switch(t=t.type,t){case Um:case zm:case Bm:case Km:case Gm:return t;default:switch(t=t&&t.$$typeof,t){case $4:case Hm:case qm:case Ym:case Qm:case Wm:return t;default:return e}}case Rw:return e}}}ot.ContextConsumer=Hm;ot.ContextProvider=Wm;ot.Element=Iw;ot.ForwardRef=qm;ot.Fragment=Um;ot.Lazy=Ym;ot.Memo=Qm;ot.Portal=Rw;ot.Profiler=zm;ot.StrictMode=Bm;ot.Suspense=Km;ot.SuspenseList=Gm;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return Hr(t)===Hm};ot.isContextProvider=function(t){return Hr(t)===Wm};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iw};ot.isForwardRef=function(t){return Hr(t)===qm};ot.isFragment=function(t){return Hr(t)===Um};ot.isLazy=function(t){return Hr(t)===Ym};ot.isMemo=function(t){return Hr(t)===Qm};ot.isPortal=function(t){return Hr(t)===Rw};ot.isProfiler=function(t){return Hr(t)===zm};ot.isStrictMode=function(t){return Hr(t)===Bm};ot.isSuspense=function(t){return Hr(t)===Km};ot.isSuspenseList=function(t){return Hr(t)===Gm};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Um||t===zm||t===Bm||t===Km||t===Gm||t===j4||typeof t=="object"&&t!==null&&(t.$$typeof===Ym||t.$$typeof===Qm||t.$$typeof===Wm||t.$$typeof===Hm||t.$$typeof===qm||t.$$typeof===xP||t.getModuleId!==void 0)};ot.typeOf=Hr;bP.exports=ot;var XC=bP.exports;const F4=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function SP(t){const e=`${t}`.match(F4);return e&&e[1]||""}function IP(t,e=""){return t.displayName||t.name||SP(t)||e}function JC(t,e,n){const r=IP(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function V4(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return IP(t,"Component");if(typeof t=="object")switch(t.$$typeof){case XC.ForwardRef:return JC(t,t.render,"ForwardRef");case XC.Memo:return JC(t,t.type,"memo");default:return}}}const U4=Object.freeze(Object.defineProperty({__proto__:null,default:V4,getFunctionName:SP},Symbol.toStringTag,{value:"Module"})),B4=["ownerState"],z4=["variants"],W4=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function H4(t){return Object.keys(t).length===0}function q4(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Nv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const K4=gc(),G4=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function tf({defaultTheme:t,theme:e,themeId:n}){return H4(e)?t:e[n]||e}function Q4(t){return t?(e,n)=>n[t]:null}function Mf(t,e){let{ownerState:n}=e,r=Y(e,B4);const i=typeof t=="function"?t(R({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>Mf(o,R({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=Y(i,z4);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(R({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(R({ownerState:n},r,n)):l.style))}),a}return i}function Y4(t={}){const{themeId:e,defaultTheme:n=K4,rootShouldForwardProp:r=Nv,slotShouldForwardProp:i=Nv}=t,o=s=>mc(R({},s,{theme:tf(R({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{pP(s,N=>N.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:f=Q4(G4(c))}=a,g=Y(a,W4),v=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,_=h||!1;let S,y=Nv;c==="Root"||c==="root"?y=r:c?y=i:q4(s)&&(y=void 0);const w=ww(s,R({shouldForwardProp:y,label:S},g)),E=N=>typeof N=="function"&&N.__emotion_real!==N||zi(N)?M=>Mf(N,R({},M,{theme:tf({theme:M.theme,defaultTheme:n,themeId:e})})):N,I=(N,...M)=>{let x=E(N);const b=M?M.map(E):[];l&&f&&b.push(D=>{const L=tf(R({},D,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const A=L.components[l].styleOverrides,B={};return Object.entries(A).forEach(([q,W])=>{B[q]=Mf(W,R({},D,{theme:L}))}),f(D,B)}),l&&!v&&b.push(D=>{var L;const A=tf(R({},D,{defaultTheme:n,themeId:e})),B=A==null||(L=A.components)==null||(L=L[l])==null?void 0:L.variants;return Mf({variants:B},R({},D,{theme:A}))}),_||b.push(o);const k=b.length-M.length;if(Array.isArray(N)&&k>0){const D=new Array(k).fill("");x=[...N,...D],x.raw=[...N.raw,...D]}const P=w(x,...b);return s.muiName&&(P.muiName=s.muiName),P};return w.withConfig&&(I.withConfig=w.withConfig),I}}const RP=Y4();function gd(t,e){const n=R({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=R({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=R({},o),Object.keys(i).forEach(s=>{n[r][s]=gd(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function X4(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:gd(e.components[n].defaultProps,r)}function kP({props:t,name:e,defaultTheme:n,themeId:r}){let i=Vm(n);return r&&(i=i[r]||i),X4({theme:i,name:e,props:t})}const jr=typeof window<"u"?C.useLayoutEffect:C.useEffect;function J4(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Z4=Object.freeze(Object.defineProperty({__proto__:null,default:J4},Symbol.toStringTag,{value:"Module"}));function u_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function kw(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function eV(t,e){return()=>null}function Nu(t,e){var n,r;return C.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function tn(t){return t&&t.ownerDocument||document}function us(t){return tn(t).defaultView||window}function tV(t,e){return()=>null}function xp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let ZC=0;function nV(t){const[e,n]=C.useState(t),r=t||e;return C.useEffect(()=>{e==null&&(ZC+=1,n(`mui-${ZC}`))},[e]),r}const eb=Yf.useId;function Kd(t){if(eb!==void 0){const e=eb();return t??e}return nV(t)}function rV(t,e,n,r,i){return null}function Sp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=C.useRef(t!==void 0),[o,s]=C.useState(e),a=i?t:o,l=C.useCallback(c=>{i||s(c)},[]);return[a,l]}function Pr(t){const e=C.useRef(t);return jr(()=>{e.current=t}),C.useRef((...n)=>(0,e.current)(...n)).current}function Tt(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{xp(n,e)})},t)}const tb={};function iV(t,e){const n=C.useRef(tb);return n.current===tb&&(n.current=t(e)),n}const oV=[];function sV(t){C.useEffect(t,oV)}class Gd{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Gd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Uo(){const t=iV(Gd.create).current;return sV(t.disposeEffect),t}let Xm=!0,d_=!1;const aV=new Gd,lV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function cV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&lV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function uV(t){t.metaKey||t.altKey||t.ctrlKey||(Xm=!0)}function Ov(){Xm=!1}function dV(){this.visibilityState==="hidden"&&d_&&(Xm=!0)}function hV(t){t.addEventListener("keydown",uV,!0),t.addEventListener("mousedown",Ov,!0),t.addEventListener("pointerdown",Ov,!0),t.addEventListener("touchstart",Ov,!0),t.addEventListener("visibilitychange",dV,!0)}function fV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Xm||cV(e)}function Jm(){const t=C.useCallback(i=>{i!=null&&hV(i.ownerDocument)},[]),e=C.useRef(!1);function n(){return e.current?(d_=!0,aV.start(100,()=>{d_=!1}),e.current=!1,!0):!1}function r(i){return fV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function PP(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function de(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}function Vl(t){return typeof t=="string"}function ul(t,e,n){return t===void 0||Vl(t)?e:R({},e,{ownerState:R({},e.ownerState,n)})}function Ip(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function nb(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function AP(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const g=Z(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),v=R({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=R({},n,i,r);return g.length>0&&(_.className=g),Object.keys(v).length>0&&(_.style=v),{props:_,internalRef:void 0}}const s=Ip(R({},i,r)),a=nb(r),l=nb(i),c=e(s),d=Z(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h=R({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=R({},c,n,l,a);return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function NP(t,e,n){return typeof t=="function"?t(e,n):t}const pV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ds(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=Y(t,pV),a=o?{}:NP(r,i),{props:l,internalRef:c}=AP(R({},s,{externalSlotProps:a})),d=Tt(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return ul(n,R({},l,{ref:d}),i)}const OP=C.createContext(null);function DP(){return C.useContext(OP)}const mV=typeof Symbol=="function"&&Symbol.for,gV=mV?Symbol.for("mui.nested"):"__THEME_NESTED__";function vV(t,e){return typeof e=="function"?e(t):R({},t,e)}function yV(t){const{children:e,theme:n}=t,r=DP(),i=C.useMemo(()=>{const o=r===null?n:vV(r,n);return o!=null&&(o[gV]=r!==null),o},[n,r]);return m.jsx(OP.Provider,{value:i,children:e})}const _V=["value"],MP=C.createContext();function wV(t){let{value:e}=t,n=Y(t,_V);return m.jsx(MP.Provider,R({value:e??!0},n))}const Pw=()=>{const t=C.useContext(MP);return t??!1},LP=C.createContext(void 0);function EV({value:t,children:e}){return m.jsx(LP.Provider,{value:t,children:e})}function TV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?gd(i.defaultProps,r):!i.styleOverrides&&!i.variants?gd(i,r):r}function CV({props:t,name:e}){const n=C.useContext(LP);return TV({props:t,name:e,theme:{components:n}})}const rb={};function ib(t,e,n,r=!1){return C.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?R({},e,{[t]:o}):o;return r?()=>s:s}return t?R({},e,{[t]:n}):R({},e,n)},[t,e,n,r])}function bV(t){const{children:e,theme:n,themeId:r}=t,i=TP(rb),o=DP()||rb,s=ib(r,i,n),a=ib(r,o,n,!0),l=s.direction==="rtl";return m.jsx(yV,{theme:a,children:m.jsx(zd.Provider,{value:s,children:m.jsx(wV,{value:l,children:m.jsx(EV,{value:s==null?void 0:s.components,children:e})})})})}const xV=["className","component","disableGutters","fixed","maxWidth","classes"],SV=gc(),IV=RP("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${z(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),RV=t=>kP({props:t,name:"MuiContainer",defaultTheme:SV}),kV=(t,e)=>{const n=l=>ue(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${z(String(s))}`,i&&"fixed",o&&"disableGutters"]};return de(a,n,r)};function PV(t={}){const{createStyledComponent:e=IV,useThemeProps:n=RV,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>R({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const d=c,h=s.breakpoints.values[d];return h!==0&&(l[s.breakpoints.up(d)]={maxWidth:`${h}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>R({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return C.forwardRef(function(a,l){const c=n(a),{className:d,component:h="div",disableGutters:f=!1,fixed:g=!1,maxWidth:v="lg"}=c,_=Y(c,xV),S=R({},c,{component:h,disableGutters:f,fixed:g,maxWidth:v}),y=kV(S,r);return m.jsx(i,R({as:h,ownerState:S,className:Z(y.root,d),ref:l},_))})}const AV=["component","direction","spacing","divider","children","className","useFlexGap"],NV=gc(),OV=RP("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function DV(t){return kP({props:t,name:"MuiStack",defaultTheme:NV})}function MV(t,e){const n=C.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(C.cloneElement(e,{key:`separator-${o}`})),r),[])}const LV=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],$V=({ownerState:t,theme:e})=>{let n=R({display:"flex",flexDirection:"column"},ar({theme:e},Xs({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=bw(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=Xs({values:t.direction,base:i}),s=Xs({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,d)=>{if(!o[l]){const f=c>0?o[d[c-1]]:"column";o[l]=f}}),n=qn(n,ar({theme:e},s,(l,c)=>t.useFlexGap?{gap:aa(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${LV(c?o[c]:t.direction)}`]:aa(r,l)}}))}return n=$F(e.breakpoints,n),n};function jV(t={}){const{createStyledComponent:e=OV,useThemeProps:n=DV,componentName:r="MuiStack"}=t,i=()=>de({root:["root"]},l=>ue(r,l),{}),o=e($V);return C.forwardRef(function(l,c){const d=n(l),h=qd(d),{component:f="div",direction:g="column",spacing:v=0,divider:_,children:S,className:y,useFlexGap:w=!1}=h,E=Y(h,AV),I={direction:g,spacing:v,useFlexGap:w},N=i();return m.jsx(o,R({as:f,ownerState:I,ref:c,className:Z(N.root,y)},E,{children:_?MV(S,_):S}))})}function FV(t,e){return R({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Bt={},$P={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})($P);var li=$P.exports;const VV=po(xj),UV=po(Z4);var jP=li;Object.defineProperty(Bt,"__esModule",{value:!0});var je=Bt.alpha=BP;Bt.blend=ZV;Bt.colorChannel=void 0;var vd=Bt.darken=Nw;Bt.decomposeColor=Fr;var BV=Bt.emphasize=zP,zV=Bt.getContrastRatio=GV;Bt.getLuminance=Rp;Bt.hexToRgb=FP;Bt.hslToRgb=UP;var yd=Bt.lighten=Ow;Bt.private_safeAlpha=QV;Bt.private_safeColorChannel=void 0;Bt.private_safeDarken=YV;Bt.private_safeEmphasize=JV;Bt.private_safeLighten=XV;Bt.recomposeColor=vc;Bt.rgbToHex=KV;var ob=jP(VV),WV=jP(UV);function Aw(t,e=0,n=1){return(0,WV.default)(t,e,n)}function FP(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function HV(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Fr(t){if(t.type)return t;if(t.charAt(0)==="#")return Fr(FP(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,ob.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,ob.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const VP=t=>{const e=Fr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Bt.colorChannel=VP;const qV=(t,e)=>{try{return VP(t)}catch{return t}};Bt.private_safeColorChannel=qV;function vc(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function KV(t){if(t.indexOf("#")===0)return t;const{values:e}=Fr(t);return`#${e.map((n,r)=>HV(r===3?Math.round(255*n):n)).join("")}`}function UP(t){t=Fr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,d=(c+n/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),vc({type:a,values:l})}function Rp(t){t=Fr(t);let e=t.type==="hsl"||t.type==="hsla"?Fr(UP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function GV(t,e){const n=Rp(t),r=Rp(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function BP(t,e){return t=Fr(t),e=Aw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,vc(t)}function QV(t,e,n){try{return BP(t,e)}catch{return t}}function Nw(t,e){if(t=Fr(t),e=Aw(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return vc(t)}function YV(t,e,n){try{return Nw(t,e)}catch{return t}}function Ow(t,e){if(t=Fr(t),e=Aw(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return vc(t)}function XV(t,e,n){try{return Ow(t,e)}catch{return t}}function zP(t,e=.15){return Rp(t)>.5?Nw(t,e):Ow(t,e)}function JV(t,e,n){try{return zP(t,e)}catch{return t}}function ZV(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=Fr(t),s=Fr(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return vc({type:"rgb",values:a})}const _d={black:"#000",white:"#fff"},eU={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Va={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ua={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ba={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},za={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wa={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tU=["mode","contrastThreshold","tonalOffset"],sb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_d.white,default:_d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Dv={text:{primary:_d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ab(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=yd(t.main,i):e==="dark"&&(t.dark=vd(t.main,o)))}function nU(t="light"){return t==="dark"?{main:Ba[200],light:Ba[50],dark:Ba[400]}:{main:Ba[700],light:Ba[400],dark:Ba[800]}}function rU(t="light"){return t==="dark"?{main:Va[200],light:Va[50],dark:Va[400]}:{main:Va[500],light:Va[300],dark:Va[700]}}function iU(t="light"){return t==="dark"?{main:Ua[500],light:Ua[300],dark:Ua[700]}:{main:Ua[700],light:Ua[400],dark:Ua[800]}}function oU(t="light"){return t==="dark"?{main:za[400],light:za[300],dark:za[700]}:{main:za[700],light:za[500],dark:za[900]}}function sU(t="light"){return t==="dark"?{main:Wa[400],light:Wa[300],dark:Wa[700]}:{main:Wa[800],light:Wa[500],dark:Wa[900]}}function aU(t="light"){return t==="dark"?{main:Xc[400],light:Xc[300],dark:Xc[700]}:{main:"#ed6c02",light:Xc[500],dark:Xc[900]}}function lU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Y(t,tU),o=t.primary||nU(e),s=t.secondary||rU(e),a=t.error||iU(e),l=t.info||oU(e),c=t.success||sU(e),d=t.warning||aU(e);function h(_){return zV(_,Dv.text.primary)>=n?Dv.text.primary:sb.text.primary}const f=({color:_,name:S,mainShade:y=500,lightShade:w=300,darkShade:E=700})=>{if(_=R({},_),!_.main&&_[y]&&(_.main=_[y]),!_.hasOwnProperty("main"))throw new Error(sa(11,S?` (${S})`:"",y));if(typeof _.main!="string")throw new Error(sa(12,S?` (${S})`:"",JSON.stringify(_.main)));return ab(_,"light",w,r),ab(_,"dark",E,r),_.contrastText||(_.contrastText=h(_.main)),_},g={dark:Dv,light:sb};return qn(R({common:R({},_d),mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:eU,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},g[e]),i)}const cU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function uU(t){return Math.round(t*1e5)/1e5}const lb={textTransform:"uppercase"},cb='"Roboto", "Helvetica", "Arial", sans-serif';function dU(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=cb,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:h}=n,f=Y(n,cU),g=i/14,v=h||(y=>`${y/c*g}rem`),_=(y,w,E,I,N)=>R({fontFamily:r,fontWeight:y,fontSize:v(w),lineHeight:E},r===cb?{letterSpacing:`${uU(I/w)}em`}:{},N,d),S={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,lb),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,lb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qn(R({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},S),f,{clone:!1})}const hU=.2,fU=.14,pU=.12;function xt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${fU})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${pU})`].join(",")}const mU=["none",xt(0,2,1,-1,0,1,1,0,0,1,3,0),xt(0,3,1,-2,0,2,2,0,0,1,5,0),xt(0,3,3,-2,0,3,4,0,0,1,8,0),xt(0,2,4,-1,0,4,5,0,0,1,10,0),xt(0,3,5,-1,0,5,8,0,0,1,14,0),xt(0,3,5,-1,0,6,10,0,0,1,18,0),xt(0,4,5,-2,0,7,10,1,0,2,16,1),xt(0,5,5,-3,0,8,10,1,0,3,14,2),xt(0,5,6,-3,0,9,12,1,0,3,16,2),xt(0,6,6,-3,0,10,14,1,0,4,18,3),xt(0,6,7,-4,0,11,15,1,0,4,20,3),xt(0,7,8,-4,0,12,17,2,0,5,22,4),xt(0,7,8,-4,0,13,19,2,0,5,24,4),xt(0,7,9,-4,0,14,21,2,0,5,26,4),xt(0,8,9,-5,0,15,22,2,0,6,28,5),xt(0,8,10,-5,0,16,24,2,0,6,30,5),xt(0,8,11,-5,0,17,26,2,0,6,32,5),xt(0,9,11,-5,0,18,28,2,0,7,34,6),xt(0,9,12,-6,0,19,29,2,0,7,36,6),xt(0,10,13,-6,0,20,31,3,0,8,38,7),xt(0,10,13,-6,0,21,33,3,0,8,40,7),xt(0,10,14,-6,0,22,35,3,0,8,42,7),xt(0,11,14,-7,0,23,36,3,0,9,44,8),xt(0,11,15,-7,0,24,38,3,0,9,46,8)],gU=["duration","easing","delay"],vU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},WP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ub(t){return`${Math.round(t)}ms`}function yU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function _U(t){const e=R({},vU,t.easing),n=R({},WP,t.duration);return R({getAutoHeightDuration:yU,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return Y(o,gU),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:ub(s)} ${a} ${typeof l=="string"?l:ub(l)}`).join(",")}},t,{easing:e,duration:n})}const wU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},EU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Dw(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=Y(t,EU);if(t.vars)throw new Error(sa(18));const a=lU(r),l=gc(t);let c=qn(l,{mixins:FV(l.breakpoints,n),palette:a,shadows:mU.slice(),typography:dU(a,o),transitions:_U(i),zIndex:R({},wU)});return c=qn(c,s),c=e.reduce((d,h)=>qn(d,h),c),c.unstable_sxConfig=R({},Hd,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(h){return mc({sx:h,theme:this})},c}const Mw=Dw();function Ea(){const t=Vm(Mw);return t[$l]||t}var Qd={},Mv={exports:{}},hb;function TU(){return hb||(hb=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.includes(o))continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Mv)),Mv.exports}const HP=po(NF),CU=po(OF),bU=po(FF),xU=po(U4),SU=po(S4),IU=po(N4);var yc=li;Object.defineProperty(Qd,"__esModule",{value:!0});var RU=Qd.default=UU;Qd.shouldForwardProp=Lf;Qd.systemDefaultTheme=void 0;var br=yc(hP()),h_=yc(TU()),fb=MU(HP),kU=CU;yc(bU);yc(xU);var PU=yc(SU),AU=yc(IU);const NU=["ownerState"],OU=["variants"],DU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(qP=function(r){return r?n:e})(t)}function MU(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=qP(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function LU(t){return Object.keys(t).length===0}function $U(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Lf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jU=Qd.systemDefaultTheme=(0,PU.default)(),FU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function nf({defaultTheme:t,theme:e,themeId:n}){return LU(e)?t:e[n]||e}function VU(t){return t?(e,n)=>n[t]:null}function $f(t,e){let{ownerState:n}=e,r=(0,h_.default)(e,NU);const i=typeof t=="function"?t((0,br.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>$f(o,(0,br.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,h_.default)(i,OU);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,br.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,br.default)({ownerState:n},r,n)):l.style))}),a}return i}function UU(t={}){const{themeId:e,defaultTheme:n=jU,rootShouldForwardProp:r=Lf,slotShouldForwardProp:i=Lf}=t,o=s=>(0,AU.default)((0,br.default)({},s,{theme:nf((0,br.default)({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,fb.internal_processStyles)(s,N=>N.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:f=VU(FU(c))}=a,g=(0,h_.default)(a,DU),v=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,_=h||!1;let S,y=Lf;c==="Root"||c==="root"?y=r:c?y=i:$U(s)&&(y=void 0);const w=(0,fb.default)(s,(0,br.default)({shouldForwardProp:y,label:S},g)),E=N=>typeof N=="function"&&N.__emotion_real!==N||(0,kU.isPlainObject)(N)?M=>$f(N,(0,br.default)({},M,{theme:nf({theme:M.theme,defaultTheme:n,themeId:e})})):N,I=(N,...M)=>{let x=E(N);const b=M?M.map(E):[];l&&f&&b.push(D=>{const L=nf((0,br.default)({},D,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const A=L.components[l].styleOverrides,B={};return Object.entries(A).forEach(([q,W])=>{B[q]=$f(W,(0,br.default)({},D,{theme:L}))}),f(D,B)}),l&&!v&&b.push(D=>{var L;const A=nf((0,br.default)({},D,{defaultTheme:n,themeId:e})),B=A==null||(L=A.components)==null||(L=L[l])==null?void 0:L.variants;return $f({variants:B},(0,br.default)({},D,{theme:A}))}),_||b.push(o);const k=b.length-M.length;if(Array.isArray(N)&&k>0){const D=new Array(k).fill("");x=[...N,...D],x.raw=[...N.raw,...D]}const P=w(x,...b);return s.muiName&&(P.muiName=s.muiName),P};return w.withConfig&&(I.withConfig=w.withConfig),I}}function KP(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qr=t=>KP(t)&&t!=="classes",K=RU({themeId:$l,defaultTheme:Mw,rootShouldForwardProp:qr}),BU=["theme"];function zU(t){let{theme:e}=t,n=Y(t,BU);const r=e[$l];return m.jsx(bV,R({},n,{themeId:r?$l:void 0,theme:r||e}))}const pb=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},WU=Dw({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2"},error:{main:"#d32f2f"},warning:{main:"#ed6c02"},info:{main:"#0288d1"},success:{main:"#2e7d32"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h4:{fontWeight:600},h6:{fontWeight:600}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}},MuiCard:{styleOverrides:{root:{borderRadius:12}}}}});var mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw _c(e)},_c=function(t){return new Error("Firebase Database ("+GP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new qU;const f=o<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YP=function(t){const e=QP(t);return Lw.encodeByteArray(e,!0)},kp=function(t){return YP(t).replace(/\./g,"")},Pp=function(t){try{return Lw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return XP(void 0,t)}function XP(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!GU(n)||(t[n]=XP(t[n],e[n]));return t}function GU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=()=>QU().__FIREBASE_DEFAULTS__,XU=()=>{if(typeof process>"u"||typeof mb>"u")return;const t=mb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pp(t[1]);return e&&JSON.parse(e)},Zm=()=>{try{return YU()||XU()||JU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JP=t=>{var e,n;return(n=(e=Zm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$w=t=>{const e=JP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZP=()=>{var t;return(t=Zm())===null||t===void 0?void 0:t.config},eA=t=>{var e;return(e=Zm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kp(JSON.stringify(n)),kp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function ZU(){var t;const e=(t=Zm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n5(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nA(){return GP.NODE_ADMIN===!0}function r5(){return!ZU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i5(){try{return typeof indexedDB=="object"}catch{return!1}}function o5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="FirebaseError";class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s5,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yd.prototype.create)}}class Yd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Oi(i,a,r)}}function a5(t,e){return t.replace(l5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return JSON.parse(t)}function _n(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=wd(Pp(o[0])||""),n=wd(Pp(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},c5=function(t){const e=rA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u5=function(t){const e=rA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ul(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function f_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ap(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Np(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(gb(o)&&gb(s)){if(!Np(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^o&(s^a),d=1518500249):(c=o^s^a,d=1859775393):h<60?(c=o&s|a&(o|s),d=2400959708):(c=o^s^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function h5(t,e){const n=new f5(t,e);return n.subscribe.bind(n)}class f5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lv),i.error===void 0&&(i.error=Lv),i.complete===void 0&&(i.complete=Lv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lv(){}function m5(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_5(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y5(t){return t===$s?void 0:t}function _5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const E5={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},T5=Oe.INFO,C5={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},b5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=C5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=T5,this._logHandler=b5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const x5=(t,e)=>e.some(n=>t instanceof n);let vb,yb;function S5(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I5(){return yb||(yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iA=new WeakMap,p_=new WeakMap,oA=new WeakMap,$v=new WeakMap,Uw=new WeakMap;function R5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(es(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iA.set(n,t)}).catch(()=>{}),Uw.set(e,t),e}function k5(t){if(p_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});p_.set(t,e)}let m_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P5(t){m_=t(m_)}function A5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jv(this),e,...n);return oA.set(r,e.sort?e.sort():[e]),es(r)}:I5().includes(t)?function(...e){return t.apply(jv(this),e),es(iA.get(this))}:function(...e){return es(t.apply(jv(this),e))}}function N5(t){return typeof t=="function"?A5(t):(t instanceof IDBTransaction&&k5(t),x5(t,S5())?new Proxy(t,m_):t)}function es(t){if(t instanceof IDBRequest)return R5(t);if($v.has(t))return $v.get(t);const e=N5(t);return e!==t&&($v.set(t,e),Uw.set(e,t)),e}const jv=t=>Uw.get(t);function O5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=es(s);return r&&s.addEventListener("upgradeneeded",l=>{r(es(s.result),l.oldVersion,l.newVersion,es(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const D5=["get","getKey","getAll","getAllKeys","count"],M5=["put","add","delete","clear"],Fv=new Map;function _b(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D5.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Fv.set(e,o),o}P5(t=>({...t,get:(e,n,r)=>_b(e,n)||t.get(e,n,r),has:(e,n)=>!!_b(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g_="@firebase/app",wb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new tg("@firebase/app"),j5="@firebase/app-compat",F5="@firebase/analytics-compat",V5="@firebase/analytics",U5="@firebase/app-check-compat",B5="@firebase/app-check",z5="@firebase/auth",W5="@firebase/auth-compat",H5="@firebase/database",q5="@firebase/data-connect",K5="@firebase/database-compat",G5="@firebase/functions",Q5="@firebase/functions-compat",Y5="@firebase/installations",X5="@firebase/installations-compat",J5="@firebase/messaging",Z5="@firebase/messaging-compat",eB="@firebase/performance",tB="@firebase/performance-compat",nB="@firebase/remote-config",rB="@firebase/remote-config-compat",iB="@firebase/storage",oB="@firebase/storage-compat",sB="@firebase/firestore",aB="@firebase/vertexai-preview",lB="@firebase/firestore-compat",cB="firebase",uB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",dB={[g_]:"fire-core",[j5]:"fire-core-compat",[V5]:"fire-analytics",[F5]:"fire-analytics-compat",[B5]:"fire-app-check",[U5]:"fire-app-check-compat",[z5]:"fire-auth",[W5]:"fire-auth-compat",[H5]:"fire-rtdb",[q5]:"fire-data-connect",[K5]:"fire-rtdb-compat",[G5]:"fire-fn",[Q5]:"fire-fn-compat",[Y5]:"fire-iid",[X5]:"fire-iid-compat",[J5]:"fire-fcm",[Z5]:"fire-fcm-compat",[eB]:"fire-perf",[tB]:"fire-perf-compat",[nB]:"fire-rc",[rB]:"fire-rc-compat",[iB]:"fire-gcs",[oB]:"fire-gcs-compat",[sB]:"fire-fst",[lB]:"fire-fst-compat",[aB]:"fire-vertex","fire-js":"fire-js",[cB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,hB=new Map,y_=new Map;function Eb(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(y_.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;y_.set(e,t);for(const n of Ed.values())Eb(n,t);for(const n of hB.values())Eb(n,t);return!0}function Xd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Yd("app","Firebase",fB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=uB;function sA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:v_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(n||(n=ZP()),!n)throw ts.create("no-options");const o=Ed.get(i);if(o){if(Np(n,o.options)&&Np(r,o.config))return o;throw ts.create("duplicate-app",{appName:i})}const s=new w5(i);for(const l of y_.values())s.addComponent(l);const a=new pB(n,r,s);return Ed.set(i,a),a}function ng(t=v_){const e=Ed.get(t);if(!e&&t===v_&&ZP())return sA();if(!e)throw ts.create("no-app",{appName:t});return e}function Tb(){return Array.from(Ed.values())}function Or(t,e,n){var r;let i=(r=dB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}hs(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="firebase-heartbeat-database",gB=1,Td="firebase-heartbeat-store";let Vv=null;function aA(){return Vv||(Vv=O5(mB,gB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Td)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function vB(t){try{const n=(await aA()).transaction(Td),r=await n.objectStore(Td).get(lA(t));return await n.done,r}catch(e){if(e instanceof Oi)oo.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oo.warn(n.message)}}}async function Cb(t,e){try{const r=(await aA()).transaction(Td,"readwrite");await r.objectStore(Td).put(e,lA(t)),await r.done}catch(n){if(n instanceof Oi)oo.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oo.warn(r.message)}}}function lA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1024,_B=30*24*60*60*1e3;class wB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=_B}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bb(),{heartbeatsToSend:r,unsentEntries:i}=EB(this._heartbeatsCache.heartbeats),o=kp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return oo.warn(n),""}}}function bb(){return new Date().toISOString().substring(0,10)}function EB(t,e=yB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i5()?o5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xb(t){return kp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){hs(new io("platform-logger",e=>new L5(e),"PRIVATE")),hs(new io("heartbeat",e=>new wB(e),"PRIVATE")),Or(g_,wb,t),Or(g_,wb,"esm2017"),Or("fire-js","")}CB("");var bB="firebase",xB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(bB,xB,"app");function Bw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SB=cA,uA=new Yd("auth","Firebase",cA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new tg("@firebase/auth");function IB(t,...e){Op.logLevel<=Oe.WARN&&Op.warn(`Auth (${Ts}): ${t}`,...e)}function jf(t,...e){Op.logLevel<=Oe.ERROR&&Op.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw zw(t,...e)}function bi(t,...e){return zw(t,...e)}function dA(t,e,n){const r=Object.assign(Object.assign({},SB()),{[e]:n});return new Yd("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return dA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uA.create(t,...e)}function ye(t,e,...n){if(!t)throw zw(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function so(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RB(){return Sb()==="http:"||Sb()==="https:"}function Sb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RB()||t5()||"connection"in navigator)?navigator.onLine:!0}function PB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,so(n>e,"Short delay should be less than long delay!"),this.isMobile=Vw()||tA()}get(){return kB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e){so(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new Jd(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yo(t,e,n,r,i={}){return fA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=wc(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return e5()||(c.referrerPolicy="no-referrer"),hA.fetch()(pA(t,t.config.apiHost,n,a),c)})}async function fA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AB),e);try{const i=new DB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw rf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw rf(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dA(t,d,c);si(t,d)}}catch(i){if(i instanceof Oi)throw i;si(t,"network-request-failed",{message:String(i)})}}async function Zd(t,e,n,r,i={}){const o=await yo(t,e,n,r,i);return"mfaPendingCredential"in o&&si(t,"multi-factor-auth-required",{_serverResponse:o}),o}function pA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ww(t.config,i):`${t.config.apiScheme}://${i}`}function OB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),NB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bi(t,e,r);return i.customData._tokenResponse=n,i}function Ib(t){return t!==void 0&&t.enterprise!==void 0}class MB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function LB(t,e){return yo(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function mA(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jB(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Hw(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ou(Uv(i.auth_time)),issuedAtTime:Ou(Uv(i.iat)),expirationTime:Ou(Uv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Uv(t){return Number(t)*1e3}function Hw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pp(n);return i?JSON.parse(i):(jf("Failed to decode base64 JWT payload"),null)}catch(i){return jf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rb(t){const e=Hw(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oi&&FB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bl(t,mA(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gA(o.providerUserInfo):[],a=BB(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new w_(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function UB(t){const e=Ct(t);await Dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gA(t){return t.map(e=>{var{providerId:n}=e,r=Bw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e){const n=await fA(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=pA(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hA.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WB(t,e){return yo(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=Rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await zB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Tl;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Bw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new w_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jB(this,e)}reload(){return UB(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Bl(this,$B(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:I,isAnonymous:N,providerData:M,stsTokenManager:x}=n;ye(E&&x,e,"internal-error");const b=Tl.fromJSON(this.name,x);ye(typeof E=="string",e,"internal-error"),xo(h,e.name),xo(f,e.name),ye(typeof I=="boolean",e,"internal-error"),ye(typeof N=="boolean",e,"internal-error"),xo(g,e.name),xo(v,e.name),xo(_,e.name),xo(S,e.name),xo(y,e.name),xo(w,e.name);const k=new Ki({uid:E,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:N,photoURL:v,phoneNumber:g,tenantId:_,stsTokenManager:b,createdAt:y,lastLoginAt:w});return M&&Array.isArray(M)&&(k.providerData=M.map(P=>Object.assign({},P))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Tl;i.updateFromServerResponse(n);const o=new Ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?gA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Tl;a.updateFromIdToken(r);const l=new Ki({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new w_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;function Gi(t){so(t instanceof Function,"Expected a class definition");let e=kb.get(t);return e?(so(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vA.type="NONE";const Pb=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ff(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ff("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cl(Gi(Pb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Gi(Pb);const s=Ff(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const h=Ki._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Cl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Cl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(bA(e))return"Webos";if(_A(e))return"Safari";if((e.includes("chrome/")||wA(e))&&!e.includes("edge/"))return"Chrome";if(TA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yA(t=Un()){return/firefox\//i.test(t)}function _A(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wA(t=Un()){return/crios\//i.test(t)}function EA(t=Un()){return/iemobile/i.test(t)}function TA(t=Un()){return/android/i.test(t)}function CA(t=Un()){return/blackberry/i.test(t)}function bA(t=Un()){return/webos/i.test(t)}function qw(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HB(t=Un()){var e;return qw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qB(){return n5()&&document.documentMode===10}function xA(t=Un()){return qw(t)||TA(t)||bA(t)||CA(t)||/windows phone/i.test(t)||EA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e=[]){let n;switch(t){case"Browser":n=Ab(Un());break;case"Worker":n=`${Ab(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e={}){return yo(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=6;class YB{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:QB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new KB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mA(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Xi(this));const n=e?Ct(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GB(this),n=new YB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ta(t){return Ct(t)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=h5(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JB(t){rg=t}function IA(t){return rg.loadJS(t)}function ZB(){return rg.recaptchaEnterpriseScript}function e3(){return rg.gapiScript}function t3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const n3="recaptcha-enterprise",r3="NO_RECAPTCHA";class i3{constructor(e){this.type=n3,this.auth=Ta(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{LB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new MB(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Ib(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(r3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Ib(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZB();l.length!==0&&(l+=a),IA(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Ob(t,e,n,r=!1){const i=new i3(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function E_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ob(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Ob(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){const n=Xd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Np(o,e??{}))return i;si(i,"already-initialized")}return n.initialize({options:e})}function s3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a3(t,e,n){const r=Ta(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=RA(e),{host:s,port:a}=l3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),c3()}function RA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l3(t){const e=RA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Db(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Db(s)}}}function Db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function u3(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return Zd(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function f3(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Kw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,n,"signInWithPassword",d3);case"emailLink":return h3(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,r,"signUpPassword",u3);case"emailLink":return f3(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return Zd(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="http://localhost";class la extends Kw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Bw(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new la(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:p3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g3(t){const e=mu(gu(t)).link,n=e?mu(gu(e)).deep_link_id:null,r=mu(gu(t)).deep_link_id;return(r?mu(gu(r)).link:null)||r||n||e||t}class Gw{constructor(e){var n,r,i,o,s,a;const l=mu(gu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=m3((i=l.mode)!==null&&i!==void 0?i:null);ye(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g3(e);try{return new Gw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.providerId=Ec.PROVIDER_ID}static credential(e,n){return Cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gw.parseLink(n);return ye(r,"argument-error"),Cd._fromEmailAndCode(e,r.code,r.tenantId)}}Ec.PROVIDER_ID="password";Ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends kA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends eh{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends eh{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends eh{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){return Zd(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ki._fromIdTokenResponse(e,r,i),s=Mb(r);return new ca({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Mb(r);return new ca({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Mb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Oi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mp(e,n,r,i)}}function PA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(t,o,e,r):o})}async function y3(t,e,n=!1){const r=await Bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e,n=!1){const{auth:r}=t;if(yi(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const o=await Bl(t,PA(r,i,e,t),n);ye(o.idToken,r,"internal-error");const s=Hw(o.idToken);ye(s,r,"internal-error");const{sub:a}=s;return ye(t.uid===a,r,"user-mismatch"),ca._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&si(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(t,e,n=!1){if(yi(t.app))return Promise.reject(Xi(t));const r="signIn",i=await PA(t,r,e),o=await ca._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function w3(t,e){return AA(Ta(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(t){const e=Ta(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qw(t,e,n){if(yi(t.app))return Promise.reject(Xi(t));const r=Ta(t),s=await E_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&NA(t),l}),a=await ca._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function OA(t,e,n){return yi(t.app)?Promise.reject(Xi(t)):w3(Ct(t),Ec.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e){return yo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Bl(r,E3(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function T3(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function C3(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function b3(t){return Ct(t).signOut()}const Lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=1e3,S3=10;class MA extends DA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);qB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MA.type="LOCAL";const I3=MA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends DA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LA.type="SESSION";const $A=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await R3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Yw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function P3(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function A3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O3(){return jA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebaseLocalStorageDb",D3=1,$p="firebaseLocalStorage",VA="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function og(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function M3(){const t=indexedDB.deleteDatabase(FA);return new th(t).toPromise()}function C_(){const t=indexedDB.open(FA,D3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:VA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await M3(),e(await C_()))})})}async function Lb(t,e,n){const r=og(t,!0).put({[VA]:e,value:n});return new th(r).toPromise()}async function L3(t,e){const n=og(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function $b(t,e){const n=og(t,!0).delete(e);return new th(n).toPromise()}const $3=800,j3=3;class UA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(O3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A3(),!this.activeServiceWorker)return;this.sender=new k3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C_();return await Lb(e,Lp,"1"),await $b(e,Lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=og(i,!1).getAll();return new th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UA.type="LOCAL";const F3=UA;new Jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t,e){return e?Gi(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Kw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U3(t){return AA(t.auth,new Xw(t),t.bypassAuthState)}function B3(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),_3(n,new Xw(t),t.bypassAuthState)}async function z3(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),y3(n,new Xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U3;case"linkViaPopup":case"linkViaRedirect":return z3;case"reauthViaPopup":case"reauthViaRedirect":return B3;default:si(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new Jd(2e3,1e4);class dl extends BA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){so(this.filter.length===1,"Popup operations only handle one event");const e=Yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W3.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="pendingRedirect",Vf=new Map;class q3 extends BA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const r=await K3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K3(t,e){const n=Y3(e),r=Q3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function G3(t,e){Vf.set(t._key(),e)}function Q3(t){return Gi(t._redirectPersistence)}function Y3(t){return Ff(H3,t.config.apiKey,t.name)}async function X3(t,e,n=!1){if(yi(t.app))return Promise.reject(Xi(t));const r=Ta(t),i=V3(r,e),s=await new q3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=10*60*1e3;class Z3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J3&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(e))}saveEventToCache(e){this.cachedEventUids.add(jb(e)),this.lastProcessedEventTime=Date.now()}}function jb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r6=/^https?/;async function i6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t6(t);for(const n of e)try{if(o6(n))return}catch{}si(t,"unauthorized-domain")}function o6(t){const e=__(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!r6.test(n))return!1;if(n6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Jd(3e4,6e4);function Fb(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a6(t){return new Promise((e,n)=>{var r,i,o;function s(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(bi(t,"network-request-failed"))},timeout:s6.get()})}if(!((i=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xi().gapi)===null||o===void 0)&&o.load)s();else{const a=t3("iframefcb");return xi()[a]=()=>{gapi.load?s():n(bi(t,"network-request-failed"))},IA(`${e3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function l6(t){return Uf=Uf||a6(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Jd(5e3,15e3),u6="__/auth/iframe",d6="emulator/auth/iframe",h6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p6(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ww(e,d6):`https://${t.config.authDomain}/${u6}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=f6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wc(r).slice(1)}`}async function m6(t){const e=await l6(t),n=xi().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:p6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=bi(t,"network-request-failed"),a=xi().setTimeout(()=>{o(s)},c6.get());function l(){xi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,y6=600,_6="_blank",w6="http://localhost";class Vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E6(t,e,n,r=v6,i=y6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},g6),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Un().toLowerCase();n&&(a=wA(c)?_6:n),yA(c)&&(e=e||w6,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(HB(c)&&a!=="_self")return T6(e||"",a),new Vb(null);const h=window.open(e||"",a,d);ye(h,t,"popup-blocked");try{h.focus()}catch{}return new Vb(h)}function T6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="__/auth/handler",b6="emulator/auth/handler",x6=encodeURIComponent("fac");async function Ub(t,e,n,r,i,o){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof kA){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",f_(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof eh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${x6}=${encodeURIComponent(l)}`:"";return`${S6(t)}?${wc(a).slice(1)}${c}`}function S6({config:t}){return t.emulator?Ww(t,b6):`https://${t.authDomain}/${C6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class I6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$A,this._completeRedirectFn=X3,this._overrideRedirectResult=G3}async _openPopup(e,n,r,i){var o;so((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Ub(e,n,r,__(),i);return E6(e,s,Yw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Ub(e,n,r,__(),i);return P3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(so(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m6(e),r=new Z3(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bv,{type:Bv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Bv];s!==void 0&&n(!!s),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xA()||_A()||qw()}}const R6=I6;var Bb="@firebase/auth",zb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A6(t){hs(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(t)},c=new XB(r,i,o,l);return s3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new io("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(r=>new k6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Bb,zb,P6(t)),Or(Bb,zb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=5*60,O6=eA("authIdTokenMaxAge")||N6;let Wb=null;const D6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O6)return;const i=n==null?void 0:n.token;Wb!==i&&(Wb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jw(t=ng()){const e=Xd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o3(t,{popupRedirectResolver:R6,persistence:[F3,I3,$A]}),r=eA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=D6(o.toString());C3(n,s,()=>s(n.currentUser)),T3(n,a=>s(a))}}const i=JP("auth");return i&&a3(n,`http://${i}`),n}function M6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=bi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",M6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A6("Browser");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,WA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function k(){}k.prototype=b.prototype,x.D=b.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(P,D,L){for(var A=Array(arguments.length-2),B=2;B<arguments.length;B++)A[B-2]=arguments[B];return b.prototype[D].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,b,k){k||(k=0);var P=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)P[D]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(D=0;16>D;++D)P[D]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=x.g[0],k=x.g[1],D=x.g[2];var L=x.g[3],A=b+(L^k&(D^L))+P[0]+3614090360&4294967295;b=k+(A<<7&4294967295|A>>>25),A=L+(D^b&(k^D))+P[1]+3905402710&4294967295,L=b+(A<<12&4294967295|A>>>20),A=D+(k^L&(b^k))+P[2]+606105819&4294967295,D=L+(A<<17&4294967295|A>>>15),A=k+(b^D&(L^b))+P[3]+3250441966&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(L^k&(D^L))+P[4]+4118548399&4294967295,b=k+(A<<7&4294967295|A>>>25),A=L+(D^b&(k^D))+P[5]+1200080426&4294967295,L=b+(A<<12&4294967295|A>>>20),A=D+(k^L&(b^k))+P[6]+2821735955&4294967295,D=L+(A<<17&4294967295|A>>>15),A=k+(b^D&(L^b))+P[7]+4249261313&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(L^k&(D^L))+P[8]+1770035416&4294967295,b=k+(A<<7&4294967295|A>>>25),A=L+(D^b&(k^D))+P[9]+2336552879&4294967295,L=b+(A<<12&4294967295|A>>>20),A=D+(k^L&(b^k))+P[10]+4294925233&4294967295,D=L+(A<<17&4294967295|A>>>15),A=k+(b^D&(L^b))+P[11]+2304563134&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(L^k&(D^L))+P[12]+1804603682&4294967295,b=k+(A<<7&4294967295|A>>>25),A=L+(D^b&(k^D))+P[13]+4254626195&4294967295,L=b+(A<<12&4294967295|A>>>20),A=D+(k^L&(b^k))+P[14]+2792965006&4294967295,D=L+(A<<17&4294967295|A>>>15),A=k+(b^D&(L^b))+P[15]+1236535329&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(D^L&(k^D))+P[1]+4129170786&4294967295,b=k+(A<<5&4294967295|A>>>27),A=L+(k^D&(b^k))+P[6]+3225465664&4294967295,L=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(L^b))+P[11]+643717713&4294967295,D=L+(A<<14&4294967295|A>>>18),A=k+(L^b&(D^L))+P[0]+3921069994&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(D^L&(k^D))+P[5]+3593408605&4294967295,b=k+(A<<5&4294967295|A>>>27),A=L+(k^D&(b^k))+P[10]+38016083&4294967295,L=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(L^b))+P[15]+3634488961&4294967295,D=L+(A<<14&4294967295|A>>>18),A=k+(L^b&(D^L))+P[4]+3889429448&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(D^L&(k^D))+P[9]+568446438&4294967295,b=k+(A<<5&4294967295|A>>>27),A=L+(k^D&(b^k))+P[14]+3275163606&4294967295,L=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(L^b))+P[3]+4107603335&4294967295,D=L+(A<<14&4294967295|A>>>18),A=k+(L^b&(D^L))+P[8]+1163531501&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(D^L&(k^D))+P[13]+2850285829&4294967295,b=k+(A<<5&4294967295|A>>>27),A=L+(k^D&(b^k))+P[2]+4243563512&4294967295,L=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(L^b))+P[7]+1735328473&4294967295,D=L+(A<<14&4294967295|A>>>18),A=k+(L^b&(D^L))+P[12]+2368359562&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(k^D^L)+P[5]+4294588738&4294967295,b=k+(A<<4&4294967295|A>>>28),A=L+(b^k^D)+P[8]+2272392833&4294967295,L=b+(A<<11&4294967295|A>>>21),A=D+(L^b^k)+P[11]+1839030562&4294967295,D=L+(A<<16&4294967295|A>>>16),A=k+(D^L^b)+P[14]+4259657740&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(k^D^L)+P[1]+2763975236&4294967295,b=k+(A<<4&4294967295|A>>>28),A=L+(b^k^D)+P[4]+1272893353&4294967295,L=b+(A<<11&4294967295|A>>>21),A=D+(L^b^k)+P[7]+4139469664&4294967295,D=L+(A<<16&4294967295|A>>>16),A=k+(D^L^b)+P[10]+3200236656&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(k^D^L)+P[13]+681279174&4294967295,b=k+(A<<4&4294967295|A>>>28),A=L+(b^k^D)+P[0]+3936430074&4294967295,L=b+(A<<11&4294967295|A>>>21),A=D+(L^b^k)+P[3]+3572445317&4294967295,D=L+(A<<16&4294967295|A>>>16),A=k+(D^L^b)+P[6]+76029189&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(k^D^L)+P[9]+3654602809&4294967295,b=k+(A<<4&4294967295|A>>>28),A=L+(b^k^D)+P[12]+3873151461&4294967295,L=b+(A<<11&4294967295|A>>>21),A=D+(L^b^k)+P[15]+530742520&4294967295,D=L+(A<<16&4294967295|A>>>16),A=k+(D^L^b)+P[2]+3299628645&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(D^(k|~L))+P[0]+4096336452&4294967295,b=k+(A<<6&4294967295|A>>>26),A=L+(k^(b|~D))+P[7]+1126891415&4294967295,L=b+(A<<10&4294967295|A>>>22),A=D+(b^(L|~k))+P[14]+2878612391&4294967295,D=L+(A<<15&4294967295|A>>>17),A=k+(L^(D|~b))+P[5]+4237533241&4294967295,k=D+(A<<21&4294967295|A>>>11),A=b+(D^(k|~L))+P[12]+1700485571&4294967295,b=k+(A<<6&4294967295|A>>>26),A=L+(k^(b|~D))+P[3]+2399980690&4294967295,L=b+(A<<10&4294967295|A>>>22),A=D+(b^(L|~k))+P[10]+4293915773&4294967295,D=L+(A<<15&4294967295|A>>>17),A=k+(L^(D|~b))+P[1]+2240044497&4294967295,k=D+(A<<21&4294967295|A>>>11),A=b+(D^(k|~L))+P[8]+1873313359&4294967295,b=k+(A<<6&4294967295|A>>>26),A=L+(k^(b|~D))+P[15]+4264355552&4294967295,L=b+(A<<10&4294967295|A>>>22),A=D+(b^(L|~k))+P[6]+2734768916&4294967295,D=L+(A<<15&4294967295|A>>>17),A=k+(L^(D|~b))+P[13]+1309151649&4294967295,k=D+(A<<21&4294967295|A>>>11),A=b+(D^(k|~L))+P[4]+4149444226&4294967295,b=k+(A<<6&4294967295|A>>>26),A=L+(k^(b|~D))+P[11]+3174756917&4294967295,L=b+(A<<10&4294967295|A>>>22),A=D+(b^(L|~k))+P[2]+718787259&4294967295,D=L+(A<<15&4294967295|A>>>17),A=k+(L^(D|~b))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var k=b-this.blockSize,P=this.B,D=this.h,L=0;L<b;){if(D==0)for(;L<=k;)i(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<b;)if(P[D++]=x.charCodeAt(L++),D==this.blockSize){i(this,P),D=0;break}}else for(;L<b;)if(P[D++]=x[L++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var k=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=k&255,k/=256;for(this.u(x),x=Array(16),b=k=0;4>b;++b)for(var P=0;32>P;P+=8)x[k++]=this.g[b]>>>P&255;return x};function o(x,b){var k=a;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=b(x)}function s(x,b){this.h=b;for(var k=[],P=!0,D=x.length-1;0<=D;D--){var L=x[D]|0;P&&L==b||(k[D]=L,P=!1)}this.g=k}var a={};function l(x){return-128<=x&&128>x?o(x,function(b){return new s([b|0],0>b?-1:0)}):new s([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return S(c(-x));for(var b=[],k=1,P=0;x>=k;P++)b[P]=x/k|0,k*=4294967296;return new s(b,0)}function d(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return S(d(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(b,8)),P=h,D=0;D<x.length;D+=8){var L=Math.min(8,x.length-D),A=parseInt(x.substring(D,D+L),b);8>L?(L=c(Math.pow(b,L)),P=P.j(L).add(c(A))):(P=P.j(k),P=P.add(c(A)))}return P}var h=l(0),f=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-S(this).m();for(var x=0,b=1,k=0;k<this.g.length;k++){var P=this.i(k);x+=(0<=P?P:4294967296+P)*b,b*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(_(this))return"-"+S(this).toString(x);for(var b=c(Math.pow(x,6)),k=this,P="";;){var D=I(k,b).g;k=y(k,D.j(b));var L=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=D,v(k))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function _(x){return x.h==-1}t.l=function(x){return x=y(this,x),_(x)?-1:v(x)?0:1};function S(x){for(var b=x.g.length,k=[],P=0;P<b;P++)k[P]=~x.g[P];return new s(k,~x.h).add(f)}t.abs=function(){return _(this)?S(this):this},t.add=function(x){for(var b=Math.max(this.g.length,x.g.length),k=[],P=0,D=0;D<=b;D++){var L=P+(this.i(D)&65535)+(x.i(D)&65535),A=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);P=A>>>16,L&=65535,A&=65535,k[D]=A<<16|L}return new s(k,k[k.length-1]&-2147483648?-1:0)};function y(x,b){return x.add(S(b))}t.j=function(x){if(v(this)||v(x))return h;if(_(this))return _(x)?S(this).j(S(x)):S(S(this).j(x));if(_(x))return S(this.j(S(x)));if(0>this.l(g)&&0>x.l(g))return c(this.m()*x.m());for(var b=this.g.length+x.g.length,k=[],P=0;P<2*b;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<x.g.length;D++){var L=this.i(P)>>>16,A=this.i(P)&65535,B=x.i(D)>>>16,q=x.i(D)&65535;k[2*P+2*D]+=A*q,w(k,2*P+2*D),k[2*P+2*D+1]+=L*q,w(k,2*P+2*D+1),k[2*P+2*D+1]+=A*B,w(k,2*P+2*D+1),k[2*P+2*D+2]+=L*B,w(k,2*P+2*D+2)}for(P=0;P<b;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=b;P<2*b;P++)k[P]=0;return new s(k,0)};function w(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function E(x,b){this.g=x,this.h=b}function I(x,b){if(v(b))throw Error("division by zero");if(v(x))return new E(h,h);if(_(x))return b=I(S(x),b),new E(S(b.g),S(b.h));if(_(b))return b=I(x,S(b)),new E(S(b.g),b.h);if(30<x.g.length){if(_(x)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var k=f,P=b;0>=P.l(x);)k=N(k),P=N(P);var D=M(k,1),L=M(P,1);for(P=M(P,2),k=M(k,2);!v(P);){var A=L.add(P);0>=A.l(x)&&(D=D.add(k),L=A),P=M(P,1),k=M(k,1)}return b=y(x,D.j(b)),new E(D,b)}for(D=h;0<=x.l(b);){for(k=Math.max(1,Math.floor(x.m()/b.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=c(k),A=L.j(b);_(A)||0<A.l(x);)k-=P,L=c(k),A=L.j(b);v(L)&&(L=f),D=D.add(L),x=y(x,A)}return new E(D,x)}t.A=function(x){return I(this,x).h},t.and=function(x){for(var b=Math.max(this.g.length,x.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)&x.i(P);return new s(k,this.h&x.h)},t.or=function(x){for(var b=Math.max(this.g.length,x.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)|x.i(P);return new s(k,this.h|x.h)},t.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)^x.i(P);return new s(k,this.h^x.h)};function N(x){for(var b=x.g.length+1,k=[],P=0;P<b;P++)k[P]=x.i(P)<<1|x.i(P-1)>>>31;return new s(k,x.h)}function M(x,b){var k=b>>5;b%=32;for(var P=x.g.length-k,D=[],L=0;L<P;L++)D[L]=0<b?x.i(L+k)>>>b|x.i(L+k+1)<<32-b:x.i(L+k);return new s(D,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WA=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Js=s}).apply(typeof Hb<"u"?Hb:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,vu,qA,Bf,b_,KA,GA,QA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,T){return u==Array.prototype||u==Object.prototype||(u[p]=T.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var p=0;p<u.length;++p){var T=u[p];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var T=r;u=u.split(".");for(var O=0;O<u.length-1;O++){var j=u[O];if(!(j in T))break e;T=T[j]}u=u[u.length-1],O=T[u],p=p(O),p!=O&&p!=null&&e(T,u,{configurable:!0,writable:!0,value:p})}}function o(u,p){u instanceof String&&(u+="");var T=0,O=!1,j={next:function(){if(!O&&T<u.length){var V=T++;return{value:p(V,u[V]),done:!1}}return O=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(u){return u||function(){return o(this,function(p,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,T){return u.call.apply(u.bind,arguments)}function h(u,p,T){if(!u)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,O),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function f(u,p,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function v(u,p){function T(){}T.prototype=p.prototype,u.aa=p.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(O,j,V){for(var J=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)J[lt-2]=arguments[lt];return p.prototype[j].apply(O,J)}}function _(u){const p=u.length;if(0<p){const T=Array(p);for(let O=0;O<p;O++)T[O]=u[O];return T}return[]}function S(u,p){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(l(O)){const j=u.length||0,V=O.length||0;u.length=j+V;for(let J=0;J<V;J++)u[j+J]=O[J]}else u.push(O)}}class y{constructor(p,T){this.i=p,this.j=T,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,T){for(const O in u)p.call(T,u[O],O,u)}function x(u,p){for(const T in u)p.call(void 0,u[T],T,u)}function b(u){const p={};for(const T in u)p[T]=u[T];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let T,O;for(let j=1;j<arguments.length;j++){O=arguments[j];for(T in O)u[T]=O[T];for(let V=0;V<k.length;V++)T=k[V],Object.prototype.hasOwnProperty.call(O,T)&&(u[T]=O[T])}}function D(u){var p=1;u=u.split(":");const T=[];for(;0<p&&u.length;)T.push(u.shift()),p--;return u.length&&T.push(u.join(":")),T}function L(u){a.setTimeout(()=>{throw u},0)}function A(){var u=U;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class B{constructor(){this.h=this.g=null}add(p,T){const O=q.get();O.set(p,T),this.h?this.h.next=O:this.g=O,this.h=O}}var q=new y(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,T){this.h=p,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,U=new B,X=()=>{const u=a.Promise.resolve(void 0);F=()=>{u.then(se)}};var se=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(T){L(T)}var p=q;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};a.addEventListener("test",T,p),a.removeEventListener("test",T,p)}catch{}return u}();function _e(u,p){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(N){e:{try{I(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else T=="mouseover"?p=u.fromElement:T=="mouseout"&&(p=u.toElement);this.relatedTarget=p,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ee[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}v(_e,fe);var ee={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ie(u,p,T,O,j){this.listener=u,this.proxy=null,this.src=p,this.type=T,this.capture=!!O,this.ha=j,this.key=++Se,this.da=this.fa=!1}function Qe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ve(u){this.src=u,this.g={},this.h=0}ve.prototype.add=function(u,p,T,O,j){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var J=Ce(u,p,O,j);return-1<J?(p=u[J],T||(p.fa=!1)):(p=new Ie(p,this.src,V,!!O,j),p.fa=T,u.push(p)),p};function Ye(u,p){var T=p.type;if(T in u.g){var O=u.g[T],j=Array.prototype.indexOf.call(O,p,void 0),V;(V=0<=j)&&Array.prototype.splice.call(O,j,1),V&&(Qe(p),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Ce(u,p,T,O){for(var j=0;j<u.length;++j){var V=u[j];if(!V.da&&V.listener==p&&V.capture==!!T&&V.ha==O)return j}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),ke={};function dn(u,p,T,O,j){if(Array.isArray(p)){for(var V=0;V<p.length;V++)dn(u,p[V],T,O,j);return null}return T=zt(T),u&&u[we]?u.K(p,T,c(O)?!!O.capture:!!O,j):Yt(u,p,T,!1,O,j)}function Yt(u,p,T,O,j,V){if(!p)throw Error("Invalid event type");var J=c(j)?!!j.capture:!!j,lt=pt(u);if(lt||(u[Pe]=lt=new ve(u)),T=lt.add(p,T,O,J,V),T.proxy)return T;if(O=Pt(),T.proxy=O,O.src=u,O.listener=T,u.addEventListener)le||(j=J),j===void 0&&(j=!1),u.addEventListener(p.toString(),O,j);else if(u.attachEvent)u.attachEvent(Ue(p.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pt(){function u(T){return p.call(u.src,u.listener,T)}const p=Jt;return u}function Xt(u,p,T,O,j){if(Array.isArray(p))for(var V=0;V<p.length;V++)Xt(u,p[V],T,O,j);else O=c(O)?!!O.capture:!!O,T=zt(T),u&&u[we]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],T=Ce(V,T,O,j),-1<T&&(Qe(V[T]),Array.prototype.splice.call(V,T,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=pt(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ce(p,T,O,j)),(T=-1<u?p[u]:null)&&st(T))}function st(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[we])Ye(p.i,u);else{var T=u.type,O=u.proxy;p.removeEventListener?p.removeEventListener(T,O,u.capture):p.detachEvent?p.detachEvent(Ue(T),O):p.addListener&&p.removeListener&&p.removeListener(O),(T=pt(p))?(Ye(T,u),T.h==0&&(T.src=null,p[Pe]=null)):Qe(u)}}}function Ue(u){return u in ke?ke[u]:ke[u]="on"+u}function Jt(u,p){if(u.da)u=!0;else{p=new _e(p,this);var T=u.listener,O=u.ha||u.src;u.fa&&st(u),u=T.call(O,p)}return u}function pt(u){return u=u[Pe],u instanceof ve?u:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(u){return typeof u=="function"?u:(u[Me]||(u[Me]=function(p){return u.handleEvent(p)}),u[Me])}function Be(){oe.call(this),this.i=new ve(this),this.M=this,this.F=null}v(Be,oe),Be.prototype[we]=!0,Be.prototype.removeEventListener=function(u,p,T,O){Xt(this,u,p,T,O)};function Xe(u,p){var T,O=u.F;if(O)for(T=[];O;O=O.F)T.push(O);if(u=u.M,O=p.type||p,typeof p=="string")p=new fe(p,u);else if(p instanceof fe)p.target=p.target||u;else{var j=p;p=new fe(O,u),P(p,j)}if(j=!0,T)for(var V=T.length-1;0<=V;V--){var J=p.g=T[V];j=Ne(J,O,!0,p)&&j}if(J=p.g=u,j=Ne(J,O,!0,p)&&j,j=Ne(J,O,!1,p)&&j,T)for(V=0;V<T.length;V++)J=p.g=T[V],j=Ne(J,O,!1,p)&&j}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var T=u.g[p],O=0;O<T.length;O++)Qe(T[O]);delete u.g[p],u.h--}}this.F=null},Be.prototype.K=function(u,p,T,O){return this.i.add(String(u),p,!1,T,O)},Be.prototype.L=function(u,p,T,O){return this.i.add(String(u),p,!0,T,O)};function Ne(u,p,T,O){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,V=0;V<p.length;++V){var J=p[V];if(J&&!J.da&&J.capture==T){var lt=J.listener,gn=J.ha||J.src;J.fa&&Ye(u.i,J),j=lt.call(gn,O)!==!1&&j}}return j&&!O.defaultPrevented}function pe(u,p,T){if(typeof u=="function")T&&(u=f(u,T));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function At(u){u.g=pe(()=>{u.g=null,u.i&&(u.i=!1,At(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Kr extends oe{constructor(p,T){super(),this.m=p,this.l=T,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(u){oe.call(this),this.h=u,this.g={}}v(hn,oe);var ce=[];function Je(u){M(u.g,function(p,T){this.g.hasOwnProperty(T)&&st(p)},u),u.g={}}hn.prototype.N=function(){hn.aa.N.call(this),Je(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=a.JSON.stringify,lr=a.JSON.parse,wo=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ka(){}ka.prototype.h=null;function yh(u){return u.h||(u.h=u.i())}function _h(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pa(){fe.call(this,"d")}v(Pa,fe);function Aa(){fe.call(this,"c")}v(Aa,fe);var ui={},Ac=null;function Na(){return Ac=Ac||new Be}ui.La="serverreachability";function wh(u){fe.call(this,ui.La,u)}v(wh,fe);function Is(u){const p=Na();Xe(p,new wh(p))}ui.STAT_EVENT="statevent";function Oa(u,p){fe.call(this,ui.STAT_EVENT,u),this.stat=p}v(Oa,fe);function fn(u){const p=Na();Xe(p,new Oa(p,u))}ui.Ma="timingevent";function Eo(u,p){fe.call(this,ui.Ma,u),this.size=p}v(Eo,fe);function Mi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Rs(u,p,T,O,j,V){u.info(function(){if(u.g)if(V)for(var J="",lt=V.split("&"),gn=0;gn<lt.length;gn++){var qe=lt[gn].split("=");if(1<qe.length){var In=qe[0];qe=qe[1];var Rn=In.split("_");J=2<=Rn.length&&Rn[1]=="type"?J+(In+"="+qe+"&"):J+(In+"=redacted&")}}else J=null;else J=V;return"XMLHTTP REQ ("+O+") [attempt "+j+"]: "+p+`
`+T+`
`+J})}function qg(u,p,T,O,j,V,J){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+j+"]: "+p+`
`+T+`
`+V+" "+J})}function Cr(u,p,T,O){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Eh(u,T)+(O?" "+O:"")})}function Nc(u,p){u.info(function(){return"TIMEOUT: "+p})}pn.prototype.info=function(){};function Eh(u,p){if(!u.g)return p;if(!p)return null;try{var T=JSON.parse(p);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var O=T[u];if(!(2>O.length)){var j=O[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var J=1;J<j.length;J++)j[J]=""}}}}return ct(T)}catch{return p}}var ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Da;function Ma(){}v(Ma,ka),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},Da=new Ma;function di(u,p,T,O){this.j=u,this.i=p,this.l=T,this.R=O||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Th}function Th(){this.i=null,this.g="",this.h=!1}var Ch={},Re={};function mn(u,p,T){u.L=1,u.v=Ih(Li(p)),u.m=T,u.P=!0,$T(u,null)}function $T(u,p){u.F=Date.now(),bh(u),u.A=Li(u.v);var T=u.A,O=u.R;Array.isArray(O)||(O=[String(O)]),XT(T.i,"t",O),u.C=0,T=u.j.J,u.h=new Th,u.g=m1(u.j,T?p:null,!u.m),0<u.O&&(u.M=new Kr(f(u.Y,u,u.g),u.O)),p=u.U,T=u.g,O=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(ce[0]=j.toString()),j=ce);for(var V=0;V<j.length;V++){var J=dn(T,j[V],O||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Is(),Rs(u.i,u.u,u.A,u.l,u.R,u.m)}di.prototype.ca=function(u){u=u.target;const p=this.M;p&&$i(u)==3?p.j():this.Y(u)},di.prototype.Y=function(u){try{if(u==this.g)e:{const Rn=$i(this.g);var p=this.g.Ba();const ja=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||i1(this.g)))){this.J||Rn!=4||p==7||(p==8||0>=ja?Is(3):Is(2)),Kg(this);var T=this.g.Z();this.X=T;t:if(jT(this)){var O=i1(this.g);u="";var j=O.length,V=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ps(this),Dc(this);var J="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(O[p],{stream:!(V&&p==j-1)});O.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=T==200,qg(this.i,this.u,this.A,this.l,this.R,Rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,gn=this.g;if((lt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(lt)){var qe=lt;break t}}qe=null}if(T=qe)Cr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,T);else{this.o=!1,this.s=3,fn(12),Ps(this),Dc(this);break e}}if(this.P){T=!0;let Gr;for(;!this.J&&this.C<J.length;)if(Gr=ND(this,J),Gr==Re){Rn==4&&(this.s=4,fn(14),T=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gr==Ch){this.s=4,fn(15),Cr(this.i,this.l,J,"[Invalid Chunk]"),T=!1;break}else Cr(this.i,this.l,Gr,null),Gg(this,Gr);if(jT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||J.length!=0||this.h.h||(this.s=1,fn(16),T=!1),this.o=this.o&&T,!T)Cr(this.i,this.l,J,"[Invalid Chunked Response]"),Ps(this),Dc(this);else if(0<J.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ev(In),In.M=!0,fn(11))}}else Cr(this.i,this.l,J,null),Gg(this,J);Rn==4&&Ps(this),this.o&&!this.J&&(Rn==4?d1(this.j,this):(this.o=!1,bh(this)))}else QD(this.g),T==400&&0<J.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),Ps(this),Dc(this)}}}catch{}finally{}};function jT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ND(u,p){var T=u.C,O=p.indexOf(`
`,T);return O==-1?Re:(T=Number(p.substring(T,O)),isNaN(T)?Ch:(O+=1,O+T>p.length?Re:(p=p.slice(O,O+T),u.C=O+T,p)))}di.prototype.cancel=function(){this.J=!0,Ps(this)};function bh(u){u.S=Date.now()+u.I,FT(u,u.I)}function FT(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mi(f(u.ba,u),p)}function Kg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}di.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Nc(this.i,this.A),this.L!=2&&(Is(),fn(17)),Ps(this),this.s=2,Dc(this)):FT(this,this.S-u)};function Dc(u){u.j.G==0||u.J||d1(u.j,u)}function Ps(u){Kg(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Je(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Gg(u,p){try{var T=u.j;if(T.G!=0&&(T.g==u||Qg(T.h,u))){if(!u.K&&Qg(T.h,u)&&T.G==3){try{var O=T.Da.g.parse(p)}catch{O=null}if(Array.isArray(O)&&O.length==3){var j=O;if(j[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)Oh(T),Ah(T);else break e;Zg(T),fn(18)}}else T.za=j[1],0<T.za-T.T&&37500>j[2]&&T.F&&T.v==0&&!T.C&&(T.C=Mi(f(T.Za,T),6e3));if(1>=BT(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ns(T,11)}else if((u.K||T.g==u)&&Oh(T),!w(p))for(j=T.Da.g.parse(p),p=0;p<j.length;p++){let qe=j[p];if(T.T=qe[0],qe=qe[1],T.G==2)if(qe[0]=="c"){T.K=qe[1],T.ia=qe[2];const In=qe[3];In!=null&&(T.la=In,T.j.info("VER="+T.la));const Rn=qe[4];Rn!=null&&(T.Aa=Rn,T.j.info("SVER="+T.Aa));const ja=qe[5];ja!=null&&typeof ja=="number"&&0<ja&&(O=1.5*ja,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Gr=u.g;if(Gr){const Mh=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mh){var V=O.h;V.g||Mh.indexOf("spdy")==-1&&Mh.indexOf("quic")==-1&&Mh.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Yg(V,V.h),V.h=null))}if(O.D){const tv=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;tv&&(O.ya=tv,mt(O.I,O.D,tv))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var J=u;if(O.qa=p1(O,O.J?O.ia:null,O.W),J.K){zT(O.h,J);var lt=J,gn=O.L;gn&&(lt.I=gn),lt.B&&(Kg(lt),bh(lt)),O.g=J}else c1(O);0<T.i.length&&Nh(T)}else qe[0]!="stop"&&qe[0]!="close"||Ns(T,7);else T.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ns(T,7):Jg(T):qe[0]!="noop"&&T.l&&T.l.ta(qe),T.v=0)}}Is(4)}catch{}}var OD=class{constructor(u,p){this.g=u,this.map=p}};function VT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function BT(u){return u.h?1:u.g?u.g.size:0}function Qg(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Yg(u,p){u.g?u.g.add(p):u.h=p}function zT(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}VT.prototype.cancel=function(){if(this.i=WT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function WT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const T of u.g.values())p=p.concat(T.D);return p}return _(u.i)}function DD(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],T=u.length,O=0;O<T;O++)p.push(u[O]);return p}p=[],T=0;for(O in u)p[T++]=u[O];return p}function MD(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var T=0;T<u;T++)p.push(T);return p}p=[],T=0;for(const O in u)p[T++]=O;return p}}}function HT(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var T=MD(u),O=DD(u),j=O.length,V=0;V<j;V++)p.call(void 0,O[V],T&&T[V],u)}var qT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LD(u,p){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var O=u[T].indexOf("="),j=null;if(0<=O){var V=u[T].substring(0,O);j=u[T].substring(O+1)}else V=u[T];p(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function As(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof As){this.h=u.h,xh(this,u.j),this.o=u.o,this.g=u.g,Sh(this,u.s),this.l=u.l;var p=u.i,T=new $c;T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),KT(this,T),this.m=u.m}else u&&(p=String(u).match(qT))?(this.h=!1,xh(this,p[1]||"",!0),this.o=Mc(p[2]||""),this.g=Mc(p[3]||"",!0),Sh(this,p[4]),this.l=Mc(p[5]||"",!0),KT(this,p[6]||"",!0),this.m=Mc(p[7]||"")):(this.h=!1,this.i=new $c(null,this.h))}As.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Lc(p,GT,!0),":");var T=this.g;return(T||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Lc(p,GT,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Lc(T,T.charAt(0)=="/"?FD:jD,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Lc(T,UD)),u.join("")};function Li(u){return new As(u)}function xh(u,p,T){u.j=T?Mc(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Sh(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function KT(u,p,T){p instanceof $c?(u.i=p,BD(u.i,u.h)):(T||(p=Lc(p,VD)),u.i=new $c(p,u.h))}function mt(u,p,T){u.i.set(p,T)}function Ih(u){return mt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mc(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lc(u,p,T){return typeof u=="string"?(u=encodeURI(u).replace(p,$D),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $D(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var GT=/[#\/\?@]/g,jD=/[#\?:]/g,FD=/[#\?]/g,VD=/[#\?@]/g,UD=/#/g;function $c(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function To(u){u.g||(u.g=new Map,u.h=0,u.i&&LD(u.i,function(p,T){u.add(decodeURIComponent(p.replace(/\+/g," ")),T)}))}t=$c.prototype,t.add=function(u,p){To(this),this.i=null,u=La(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(p),this.h+=1,this};function QT(u,p){To(u),p=La(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function YT(u,p){return To(u),p=La(u,p),u.g.has(p)}t.forEach=function(u,p){To(this),this.g.forEach(function(T,O){T.forEach(function(j){u.call(p,j,O,this)},this)},this)},t.na=function(){To(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),T=[];for(let O=0;O<p.length;O++){const j=u[O];for(let V=0;V<j.length;V++)T.push(p[O])}return T},t.V=function(u){To(this);let p=[];if(typeof u=="string")YT(this,u)&&(p=p.concat(this.g.get(La(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)p=p.concat(u[T])}return p},t.set=function(u,p){return To(this),this.i=null,u=La(this,u),YT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function XT(u,p,T){QT(u,p),0<T.length&&(u.i=null,u.g.set(La(u,p),_(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var T=0;T<p.length;T++){var O=p[T];const V=encodeURIComponent(String(O)),J=this.V(O);for(O=0;O<J.length;O++){var j=V;J[O]!==""&&(j+="="+encodeURIComponent(String(J[O]))),u.push(j)}}return this.i=u.join("&")};function La(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function BD(u,p){p&&!u.j&&(To(u),u.i=null,u.g.forEach(function(T,O){var j=O.toLowerCase();O!=j&&(QT(this,O),XT(this,j,T))},u)),u.j=p}function zD(u,p){const T=new pn;if(a.Image){const O=new Image;O.onload=g(Co,T,"TestLoadImage: loaded",!0,p,O),O.onerror=g(Co,T,"TestLoadImage: error",!1,p,O),O.onabort=g(Co,T,"TestLoadImage: abort",!1,p,O),O.ontimeout=g(Co,T,"TestLoadImage: timeout",!1,p,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else p(!1)}function WD(u,p){const T=new pn,O=new AbortController,j=setTimeout(()=>{O.abort(),Co(T,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:O.signal}).then(V=>{clearTimeout(j),V.ok?Co(T,"TestPingServer: ok",!0,p):Co(T,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Co(T,"TestPingServer: error",!1,p)})}function Co(u,p,T,O,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),O(T)}catch{}}function HD(){this.g=new wo}function qD(u,p,T){const O=T||"";try{HT(u,function(j,V){let J=j;c(j)&&(J=ct(j)),p.push(O+V+"="+encodeURIComponent(J))})}catch(j){throw p.push(O+"type="+encodeURIComponent("_badmap")),j}}function Rh(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Rh,ka),Rh.prototype.g=function(){return new kh(this.l,this.j)},Rh.prototype.i=function(u){return function(){return u}}({});function kh(u,p){Be.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(kh,Be),t=kh.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Fc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;JT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function JT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?jc(this):Fc(this),this.readyState==3&&JT(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,jc(this))},t.Qa=function(u){this.g&&(this.response=u,jc(this))},t.ga=function(){this.g&&jc(this)};function jc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fc(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var T=p.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=p.next();return u.join(`\r
`)};function Fc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ZT(u){let p="";return M(u,function(T,O){p+=O,p+=":",p+=T,p+=`\r
`}),p}function Xg(u,p,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=ZT(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):mt(u,p,T))}function Nt(u){Be.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Nt,Be);var KD=/^https?$/i,GD=["POST","PUT"];t=Nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Da.g(),this.v=this.o?yh(this.o):yh(Da),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){e1(this,V);return}if(u=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var j in O)T.set(j,O[j]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const V of O.keys())T.set(V,O.get(V));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GD,p,void 0))||O||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of T)this.g.setRequestHeader(V,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{r1(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){e1(this,V)}};function e1(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,t1(u),Ph(u)}function t1(u){u.A||(u.A=!0,Xe(u,"complete"),Xe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xe(this,"complete"),Xe(this,"abort"),Ph(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ph(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n1(this):this.bb())},t.bb=function(){n1(this)};function n1(u){if(u.h&&typeof s<"u"&&(!u.v[1]||$i(u)!=4||u.Z()!=2)){if(u.u&&$i(u)==4)pe(u.Ea,0,u);else if(Xe(u,"readystatechange"),$i(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var T;if(!(T=p)){var O;if(O=J===0){var j=String(u.D).match(qT)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),O=!KD.test(j?j.toLowerCase():"")}T=O}if(T)Xe(u,"complete"),Xe(u,"success");else{u.m=6;try{var V=2<$i(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",t1(u)}}finally{Ph(u)}}}}function Ph(u,p){if(u.g){r1(u);const T=u.g,O=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Xe(u,"ready");try{T.onreadystatechange=O}catch{}}}function r1(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function $i(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),lr(p)}};function i1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function QD(u){const p={};u=(u.g&&2<=$i(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(w(u[O]))continue;var T=D(u[O]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const V=p[j]||[];p[j]=V,V.push(T)}x(p,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(u,p,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||p}function o1(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,u),this.cb=Vc("retryDelaySeedMs",1e4,u),this.Wa=Vc("forwardChannelMaxRetries",2,u),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new VT(u&&u.concurrentRequestLimit),this.Da=new HD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=o1.prototype,t.la=8,t.G=1,t.connect=function(u,p,T,O){fn(0),this.W=u,this.H=p||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=p1(this,null,this.W),Nh(this)};function Jg(u){if(s1(u),u.G==3){var p=u.U++,T=Li(u.I);if(mt(T,"SID",u.K),mt(T,"RID",p),mt(T,"TYPE","terminate"),Uc(u,T),p=new di(u,u.j,p),p.L=2,p.v=Ih(Li(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=p.v,T=!0),T||(p.g=m1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),bh(p)}f1(u)}function Ah(u){u.g&&(ev(u),u.g.cancel(),u.g=null)}function s1(u){Ah(u),u.u&&(a.clearTimeout(u.u),u.u=null),Oh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Nh(u){if(!UT(u.h)&&!u.s){u.s=!0;var p=u.Ga;F||X(),$||(F(),$=!0),U.add(p,u),u.B=0}}function YD(u,p){return BT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mi(f(u.Ga,u,p),h1(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new di(this,this.j,u);let V=this.o;if(this.S&&(V?(V=b(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var p=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(p+=O,4096<p){p=T;break e}if(p===4096||T===this.i.length-1){p=T+1;break e}}p=1e3}else p=1e3;p=l1(this,j,p),T=Li(this.I),mt(T,"RID",u),mt(T,"CVER",22),this.D&&mt(T,"X-HTTP-Session-Id",this.D),Uc(this,T),V&&(this.O?p="headers="+encodeURIComponent(String(ZT(V)))+"&"+p:this.m&&Xg(T,this.m,V)),Yg(this.h,j),this.Ua&&mt(T,"TYPE","init"),this.P?(mt(T,"$req",p),mt(T,"SID","null"),j.T=!0,mn(j,T,null)):mn(j,T,p),this.G=2}}else this.G==3&&(u?a1(this,u):this.i.length==0||UT(this.h)||a1(this))};function a1(u,p){var T;p?T=p.l:T=u.U++;const O=Li(u.I);mt(O,"SID",u.K),mt(O,"RID",T),mt(O,"AID",u.T),Uc(u,O),u.m&&u.o&&Xg(O,u.m,u.o),T=new di(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),p&&(u.i=p.D.concat(u.i)),p=l1(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Yg(u.h,T),mn(T,O,p)}function Uc(u,p){u.H&&M(u.H,function(T,O){mt(p,O,T)}),u.l&&HT({},function(T,O){mt(p,O,T)})}function l1(u,p,T){T=Math.min(u.i.length,T);var O=u.l?f(u.l.Na,u.l,u):null;e:{var j=u.i;let V=-1;for(;;){const J=["count="+T];V==-1?0<T?(V=j[0].g,J.push("ofs="+V)):V=0:J.push("ofs="+V);let lt=!0;for(let gn=0;gn<T;gn++){let qe=j[gn].g;const In=j[gn].map;if(qe-=V,0>qe)V=Math.max(0,j[gn].g-100),lt=!1;else try{qD(In,J,"req"+qe+"_")}catch{O&&O(In)}}if(lt){O=J.join("&");break e}}}return u=u.i.splice(0,T),p.D=u,O}function c1(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;F||X(),$||(F(),$=!0),U.add(p,u),u.v=0}}function Zg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mi(f(u.Fa,u),h1(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,u1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mi(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),Ah(this),u1(this))};function ev(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function u1(u){u.g=new di(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Li(u.qa);mt(p,"RID","rpc"),mt(p,"SID",u.K),mt(p,"AID",u.T),mt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&mt(p,"TO",u.ja),mt(p,"TYPE","xmlhttp"),Uc(u,p),u.m&&u.o&&Xg(p,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=Ih(Li(p)),T.m=null,T.P=!0,$T(T,u)}t.Za=function(){this.C!=null&&(this.C=null,Ah(this),Zg(this),fn(19))};function Oh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function d1(u,p){var T=null;if(u.g==p){Oh(u),ev(u),u.g=null;var O=2}else if(Qg(u.h,p))T=p.D,zT(u.h,p),O=1;else return;if(u.G!=0){if(p.o)if(O==1){T=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;O=Na(),Xe(O,new Eo(O,T)),Nh(u)}else c1(u);else if(j=p.s,j==3||j==0&&0<p.X||!(O==1&&YD(u,p)||O==2&&Zg(u)))switch(T&&0<T.length&&(p=u.h,p.i=p.i.concat(T)),j){case 1:Ns(u,5);break;case 4:Ns(u,10);break;case 3:Ns(u,6);break;default:Ns(u,2)}}}function h1(u,p){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*p}function Ns(u,p){if(u.j.info("Error code "+p),p==2){var T=f(u.fb,u),O=u.Xa;const j=!O;O=new As(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xh(O,"https"),Ih(O),j?zD(O.toString(),T):WD(O.toString(),T)}else fn(2);u.G=0,u.l&&u.l.sa(p),f1(u),s1(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function f1(u){if(u.G=0,u.ka=[],u.l){const p=WT(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function p1(u,p,T){var O=T instanceof As?Li(T):new As(T);if(O.g!="")p&&(O.g=p+"."+O.g),Sh(O,O.s);else{var j=a.location;O=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var V=new As(null);O&&xh(V,O),p&&(V.g=p),j&&Sh(V,j),T&&(V.l=T),O=V}return T=u.D,p=u.ya,T&&p&&mt(O,T,p),mt(O,"VER",u.la),Uc(u,O),O}function m1(u,p,T){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Nt(new Rh({eb:T})):new Nt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function g1(){}t=g1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dh(){}Dh.prototype.g=function(u,p){return new cr(u,p)};function cr(u,p){Be.call(this),this.g=new o1(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new $a(this)}v(cr,Be),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Jg(this.g)},cr.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=ct(u),u=T);p.i.push(new OD(p.Ya++,u)),p.G==3&&Nh(p)},cr.prototype.N=function(){this.g.l=null,delete this.j,Jg(this.g),delete this.g,cr.aa.N.call(this)};function v1(u){Pa.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const T in p){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(v1,Pa);function y1(){Aa.call(this),this.status=1}v(y1,Aa);function $a(u){this.g=u}v($a,g1),$a.prototype.ua=function(){Xe(this.g,"a")},$a.prototype.ta=function(u){Xe(this.g,new v1(u))},$a.prototype.sa=function(u){Xe(this.g,new y1)},$a.prototype.ra=function(){Xe(this.g,"b")},Dh.prototype.createWebChannel=Dh.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,QA=function(){return new Dh},GA=function(){return Na()},KA=ui,b_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Bf=ks,Oc.COMPLETE="complete",qA=Oc,_h.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Be.prototype.listen=Be.prototype.K,vu=_h,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,HA=Nt}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new tg("@firebase/firestore");function Jc(){return ua.logLevel}function ie(t,...e){if(ua.logLevel<=Oe.DEBUG){const n=e.map(Zw);ua.debug(`Firestore (${Tc}): ${t}`,...n)}}function ao(t,...e){if(ua.logLevel<=Oe.ERROR){const n=e.map(Zw);ua.error(`Firestore (${Tc}): ${t}`,...n)}}function zl(t,...e){if(ua.logLevel<=Oe.WARN){const n=e.map(Zw);ua.warn(`Firestore (${Tc}): ${t}`,...n)}}function Zw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: `+t;throw ao(e),new Error(e)}function rt(t,e){t||Te()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class $6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j6{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ji)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new YA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new On(e)}}class F6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rt(this.o===void 0);const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new U6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Wl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new He(0,0))}static max(){return new be(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class wt extends bd{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const W6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends bd{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return W6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(wt.fromString(e))}static fromName(e){return new me(wt.fromString(e).popFirst(5))}static empty(){return new me(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new wt(e.slice()))}}function H6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new fs(i,me.empty(),e)}function q6(t){return new fs(t.readTime,t.key,-1)}class fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fs(be.min(),me.empty(),-1)}static max(){return new fs(be.max(),me.empty(),-1)}}function K6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==G6)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new G((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Y6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eE.oe=-1;function sg(t){return t==null}function jp(t){return t===0&&1/t==-1/0}function X6(t){return typeof t=="number"&&Number.isInteger(t)&&!jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt=class x_{constructor(e,n){this.comparator=e,this.root=n||ns.EMPTY}insert(e,n){return new x_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new x_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}},sf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ns=class Fi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Fi.RED,this.left=i??Fi.EMPTY,this.right=o??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Fi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}};ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1;ns.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ns(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new fr([])}unionWith(e){let n=new Tn(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZA("Invalid base64 string: "+o):o}}(e);return new xn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const J6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(rt(!!t),typeof t=="string"){let e=0;const n=J6.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nE(t){const e=t.mapValue.fields.__previous_value__;return tE(e)?nE(e):e}function xd(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Sd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tE(t)?4:tz(t)?9007199254740991:ez(t)?10:11:Te()}function ki(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ps(i.timestampValue),a=ps(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return da(i.bytesValue).isEqual(da(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=jt(i.doubleValue),a=jt(o.doubleValue);return s===a?jp(s)===jp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Kb(s)!==Kb(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ki(s[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function Id(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function Hl(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=jt(o.integerValue||o.doubleValue),l=jt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Qb(t.timestampValue,e.timestampValue);case 4:return Qb(xd(t),xd(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(o,s){const a=da(o),l=da(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ge(a[c],l[c]);if(d!==0)return d}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ge(jt(o.latitude),jt(s.latitude));return a!==0?a:Ge(jt(o.longitude),jt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,d;const h=o.fields||{},f=s.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Ge(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Yb(g,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===af.mapValue&&s===af.mapValue)return 0;if(o===af.mapValue)return 1;if(s===af.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Ge(l[h],d[h]);if(f!==0)return f;const g=Hl(a[l[h]],c[d[h]]);if(g!==0)return g}return Ge(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Te()}}function Qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=ps(t),r=ps(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function Yb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Hl(n[i],r[i]);if(o)return o}return Ge(n.length,r.length)}function ql(t){return S_(t)}function S_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=S_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${S_(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function Xb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I_(t){return!!t&&"integerValue"in t}function rE(t){return!!t&&"arrayValue"in t}function Jb(t){return!!t&&"nullValue"in t}function Zb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zf(t){return!!t&&"mapValue"in t}function ez(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Du(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ca(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xn(Du(this.value))}}function eN(t){const e=[];return Ca(t.fields,(n,r)=>{const i=new wn([n]);if(zf(r)){const o=eN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mn(e,0,be.min(),be.min(),be.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,be.min(),be.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,be.min(),be.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.position=e,this.inclusive=n}}function ex(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=Hl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n="asc"){this.field=e,this.dir=n}}function nz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class Gt extends tN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iz(e,n,r):n==="array-contains"?new az(e,r):n==="in"?new lz(e,r):n==="not-in"?new cz(e,r):n==="array-contains-any"?new uz(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oz(e,r):new sz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hl(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends tN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ai(e,n)}matches(e){return nN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nN(t){return t.op==="and"}function rN(t){return rz(t)&&nN(t)}function rz(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function R_(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(rN(t))return t.filters.map(e=>R_(e)).join(",");{const e=t.filters.map(n=>R_(n)).join(",");return`${t.op}(${e})`}}function iN(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&ki(r.value,i.value)}(t,e):t instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&iN(s,i.filters[a]),!0):!1}(t,e):void Te()}function oN(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(oN).join(" ,")+"}"}(t):"Filter"}class iz extends Gt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class oz extends Gt{constructor(e,n){super(e,"in",n),this.keys=sN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sz extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=sN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class az extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rE(n)&&Id(n.arrayValue,this.value)}}class lz extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Id(this.value.arrayValue,n)}}class cz extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Id(this.value.arrayValue,n)}}class uz extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function nx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dz(t,e,n,r,i,o,s)}function iE(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.ue=n}return e.ue}function oE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tx(t.startAt,e.startAt)&&tx(t.endAt,e.endAt)}function k_(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hz(t,e,n,r,i,o,s,a){return new ih(t,e,n,r,i,o,s,a)}function ag(t){return new ih(t)}function rx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aN(t){return t.collectionGroup!==null}function Mu(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Tn(wn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Vp(o,r))}),n.has(wn.keyField().canonicalString())||e.ce.push(new Vp(wn.keyField(),r))}return e.ce}function Si(t){const e=xe(t);return e.le||(e.le=fz(e,Mu(t))),e.le}function fz(t,e){if(t.limitType==="F")return nx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Vp(i.field,o)});const n=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return nx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P_(t,e){const n=t.filters.concat([e]);return new ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A_(t,e,n){return new ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lg(t,e){return oE(Si(t),Si(e))&&t.limitType===e.limitType}function lN(t){return`${iE(Si(t))}|lt:${t.limitType}`}function Ka(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oN(i)).join(", ")}]`),sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ql(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ql(i)).join(",")),`Target(${r})`}(Si(t))}; limitType=${t.limitType})`}function cg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=ex(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Mu(r),i)||r.endAt&&!function(s,a,l){const c=ex(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Mu(r),i))}(t,e)}function pz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cN(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const o=mz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mz(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Hl(l,c):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return JA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new Qt(me.comparator);function lo(){return gz}const uN=new Qt(me.comparator);function yu(...t){let e=uN;for(const n of t)e=e.insert(n.key,n);return e}function dN(t){let e=uN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return Lu()}function hN(){return Lu()}function Lu(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const vz=new Qt(me.comparator),yz=new Tn(me.comparator);function De(...t){let e=yz;for(const n of t)e=e.add(n);return e}const _z=new Tn(Ge);function wz(){return _z}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jp(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function pN(t,e){return X6(e)?fN(e):sE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this._=void 0}}function Ez(t,e,n){return t instanceof Up?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tE(o)&&(o=nE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Rd?gN(t,e):t instanceof kd?vN(t,e):function(i,o){const s=mN(i,o),a=ix(s)+ix(i.Pe);return I_(s)&&I_(i.Pe)?fN(a):sE(i.serializer,a)}(t,e)}function Tz(t,e,n){return t instanceof Rd?gN(t,e):t instanceof kd?vN(t,e):n}function mN(t,e){return t instanceof Pd?function(r){return I_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Up extends ug{}class Rd extends ug{constructor(e){super(),this.elements=e}}function gN(t,e){const n=yN(e);for(const r of t.elements)n.some(i=>ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class kd extends ug{constructor(e){super(),this.elements=e}}function vN(t,e){let n=yN(e);for(const r of t.elements)n=n.filter(i=>!ki(i,r));return{arrayValue:{values:n}}}class Pd extends ug{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ix(t){return jt(t.integerValue||t.doubleValue)}function yN(t){return rE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n){this.field=e,this.transform=n}}function bz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rd&&i instanceof Rd||r instanceof kd&&i instanceof kd?Wl(r.elements,i.elements,ki):r instanceof Pd&&i instanceof Pd?ki(r.Pe,i.Pe):r instanceof Up&&i instanceof Up}(t.transform,e.transform)}class xz{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dg{}function _N(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aE(t.key,Dr.none()):new oh(t.key,t.data,Dr.none());{const n=t.data,r=Xn.empty();let i=new Tn(wn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bs(t.key,r,new fr(i.toArray()),Dr.none())}}function Sz(t,e,n){t instanceof oh?function(i,o,s){const a=i.value.clone(),l=sx(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(i,o,s){if(!Wf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=sx(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(wN(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $u(t,e,n,r){return t instanceof oh?function(o,s,a,l){if(!Wf(o.precondition,s))return a;const c=o.value.clone(),d=ax(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(o,s,a,l){if(!Wf(o.precondition,s))return a;const c=ax(o.fieldTransforms,l,s),d=s.data;return d.setAll(wN(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Wf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Iz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mN(r.transform,i||null);o!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,o))}return n||null}function ox(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wl(r,i,(o,s)=>bz(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oh extends dg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends dg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sx(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Tz(s,a,n[i]))}return r}function ax(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Ez(o,s,e))}return r}class aE extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rz extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Sz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=_N(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(n,r)=>ox(n,r))&&Wl(this.baseMutations,e.baseMutations,(n,r)=>ox(n,r))}}class lE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return vz}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,$e;function Nz(t){switch(t){default:return Te();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function EN(t){if(t===void 0)return ao("GRPC error has no .code"),H.UNKNOWN;switch(t){case Wt.OK:return H.OK;case Wt.CANCELLED:return H.CANCELLED;case Wt.UNKNOWN:return H.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return H.INTERNAL;case Wt.UNAVAILABLE:return H.UNAVAILABLE;case Wt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Wt.NOT_FOUND:return H.NOT_FOUND;case Wt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Wt.ABORTED:return H.ABORTED;case Wt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Wt.DATA_LOSS:return H.DATA_LOSS;default:return Te()}}($e=Wt||(Wt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=new Js([4294967295,4294967295],0);function lx(t){const e=Oz().encode(t),n=new WA;return n.update(e),new Uint8Array(n.digest())}function cx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Js([n,r],0),new Js([i,o],0)]}class cE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Js.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Js.fromNumber(r)));return i.compare(Dz)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lx(e),[r,i]=cx(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=lx(e),[r,i]=cx(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hg(be.min(),i,new Qt(Ge),lo(),De())}}class sh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sh(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class TN{constructor(e,n){this.targetId=e,this.me=n}}class CN{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ux{constructor(){this.fe=0,this.ge=hx(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new sh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=hx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Mz{constructor(e){this.Le=e,this.Be=new Map,this.ke=lo(),this.qe=dx(),this.Qe=new Qt(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(k_(o))if(r===0){const s=new me(o.path);this.Ue(n,s,Mn.newNoDocument(s,be.min()))}else rt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=da(r).toUint8Array()}catch(l){if(l instanceof ZA)return zl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cE(s,i,o)}catch(l){return zl(l instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&k_(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Mn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=De();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new hg(e,n,this.Qe,this.ke,r);return this.ke=lo(),this.qe=dx(),this.Qe=new Qt(Ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ux,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tn(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ux),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dx(){return new Qt(me.comparator)}function hx(){return new Qt(me.comparator)}const Lz={asc:"ASCENDING",desc:"DESCENDING"},$z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jz={and:"AND",or:"OR"};class Fz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N_(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function Bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vz(t,e){return Bp(t,e.toTimestamp())}function Ii(t){return rt(!!t),be.fromTimestamp(function(n){const r=ps(n);return new He(r.seconds,r.nanos)}(t))}function uE(t,e){return O_(t,e).canonicalString()}function O_(t,e){const n=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xN(t){const e=wt.fromString(t);return rt(PN(e)),e}function D_(t,e){return uE(t.databaseId,e.path)}function zv(t,e){const n=xN(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(IN(n))}function SN(t,e){return uE(t.databaseId,e)}function Uz(t){const e=xN(t);return e.length===4?wt.emptyPath():IN(e)}function M_(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IN(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fx(t,e,n){return{name:D_(t,e),fields:n.value.mapValue.fields}}function Bz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(rt(d===void 0||typeof d=="string"),xn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?H.UNKNOWN:EN(c.code);return new re(d,c.message||"")}(s);n=new CN(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zv(t,r.document.name),o=Ii(r.document.updateTime),s=r.document.createTime?Ii(r.document.createTime):be.min(),a=new Xn({mapValue:{fields:r.document.fields}}),l=Mn.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Hf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zv(t,r.document),o=r.readTime?Ii(r.readTime):be.min(),s=Mn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Hf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zv(t,r.document),o=r.removedTargetIds||[];n=new Hf([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Az(i,o),a=r.targetId;n=new TN(a,s)}}return n}function zz(t,e){let n;if(e instanceof oh)n={update:fx(t,e.key,e.value)};else if(e instanceof aE)n={delete:D_(t,e.key)};else if(e instanceof bs)n={update:fx(t,e.key,e.data),updateMask:Jz(e.fieldMask)};else{if(!(e instanceof Rz))return Te();n={verify:D_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Up)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Vz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function Wz(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ii(i.updateTime):Ii(o);return s.isEqual(be.min())&&(s=Ii(o)),new xz(s,i.transformResults||[])}(n,e))):[]}function Hz(t,e){return{documents:[SN(t,e.path)]}}function qz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SN(t,i);const o=function(c){if(c.length!==0)return kN(ai.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Ga(f.field),direction:Qz(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=N_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Kz(t){let e=Uz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=RN(h);return f instanceof ai&&rN(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(v){return new Vp(Qa(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,sg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Fp(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Fp(g,f)}(n.endAt)),hz(e,i,s,o,a,"F",l,c)}function Gz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qa(n.unaryFilter.field);return Gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qa(n.unaryFilter.field);return Gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(Qa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(r=>RN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function Qz(t){return Lz[t]}function Yz(t){return $z[t]}function Xz(t){return jz[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Qa(t){return wn.fromServerFormat(t.fieldPath)}function kN(t){return t instanceof Gt?function(n){if(n.op==="=="){if(Zb(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Jb(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zb(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Jb(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:Yz(n.op),value:n.value}}}(t):t instanceof ai?function(n){const r=n.getFilters().map(i=>kN(i));return r.length===1?r[0]:{compositeFilter:{op:Xz(n.op),filters:r}}}(t):Te()}function Jz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r,i,o=be.min(),s=be.min(),a=xn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.ct=e}}function e9(t){const e=Kz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.un=new n9}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(fs.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class n9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Kl(0)}static kn(){return new Kl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$u(r.mutation,i,fr.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=yu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=lo();const s=Lu(),a=function(){return Lu()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof bs)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),$u(d.mutation,c,d.mutation.getFieldMask(),He.now())):s.set(c.key,fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new i9(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Lu();let i=new Qt((s,a)=>s-a),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||fr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||De()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=hN();d.forEach(f=>{if(!o.has(f)){const g=_N(n.get(f),r.get(f));g!==null&&h.set(f,g),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return G.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):G.resolve(Ws());let a=-1,l=o;return s.next(c=>G.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,De())).next(d=>({batchId:a,changes:dN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=yu();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,l=>{const c=function(h,f){return new ih(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Mn.newInvalidDocument(d)))});let a=yu();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&$u(d.mutation,c,fr.empty(),He.now()),cg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:e9(i.bundledQuery),readTime:Ii(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.overlays=new Qt(me.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return G.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=Ws(),o=n.length+1,s=new me(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qt((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Ws(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ws(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return G.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Pz(n,r));let o=this.Ir.get(n);o===void 0&&(o=De(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Tr=new Tn(rn.Er),this.dr=new Tn(rn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new wt([])),r=new rn(n,e),i=new rn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new wt([])),r=new rn(n,e),i=new rn(n,e+1);let o=De();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new rn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tn(rn.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kz(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new rn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),i=new rn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(Ge);return n.forEach(i=>{const o=new rn(i,0),s=new rn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const s=new rn(new me(o),0);let a=new Tn(Ge);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),G.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(n.mutations,i=>{const o=new rn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rn(n,0),i=this.br.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.Mr=e,this.docs=function(){return new Qt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=lo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mn.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=lo();const s=n.path,a=new me(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||K6(q6(d),r)<=0||(i.has(d.key)||cg(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new d9(this)}getSize(e){return G.resolve(this.size)}}class d9 extends r9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.persistence=e,this.Nr=new Cc(n=>iE(n),oE),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dE,this.targetCount=0,this.kr=Kl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new eE(0),this.Kr=!1,this.Kr=!0,this.$r=new l9,this.referenceDelegate=e(this),this.Ur=new h9(this),this.indexManager=new t9,this.remoteDocumentCache=function(i){return new u9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Zz(n),this.Gr=new s9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new c9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new p9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class p9 extends Q6{constructor(e){super(),this.currentSequenceNumber=e}}class hE{constructor(e){this.persistence=e,this.Jr=new dE,this.Yr=null}static Zr(e){return new hE(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=De(),i=De();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new fE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return r5()?8:Y6(Un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new m9;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Jc()<=Oe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Jc()<=Oe.DEBUG&&ie("QueryEngine","Query:",Ka(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Jc()<=Oe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):G.resolve())}Yi(e,n){if(rx(n))return G.resolve(null);let r=Si(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=A_(n,null,"F"),r=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=De(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,s,l.readTime)?this.Yi(e,A_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return rx(n)||i.isEqual(be.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?G.resolve(null):(Jc()<=Oe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ka(n)),this.rs(e,s,n,H6(i,-1)).next(a=>a))})}ts(e,n){let r=new Tn(cN(e));return n.forEach((i,o)=>{cg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Jc()<=Oe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.Ji.getDocumentsMatchingQuery(e,n,fs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Qt(Ge),this._s=new Cc(o=>iE(o),oE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function y9(t,e,n,r){return new v9(t,e,n,r)}async function AN(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=De();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function _9(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let g=G.resolve();return f.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(_=>{const S=c.docVersions.get(v);rt(S!==null),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=De();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NN(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function w9(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let g=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(xn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(_,S,y){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,d)&&a.push(n.Ur.updateTargetData(o,g))});let l=lo(),c=De();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(E9(o,s,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(be.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=i,o))}function E9(t,e,n){let r=De(),i=De();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=lo();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function T9(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C9(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Bo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function L_(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!rh(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function px(t,e,n){const r=xe(t);let i=be.min(),o=De();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=xe(l),f=h._s.get(d);return f!==void 0?G.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,s,Si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:be.min(),n?o:De())).next(a=>(b9(r,pz(e),a),{documents:a,Ts:o})))}function b9(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class mx{constructor(){this.activeTargetIds=wz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x9{constructor(){this.so=new mx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function Wv(){return lf===null?lf=function(){return 268435456+Math.round(2147483648*Math.random())}():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class k9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Wv(),l=this.xo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,l,c,i).then(d=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw zl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=I9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Wv();return new Promise((s,a)=>{const l=new HA;l.setWithCredentials(!0),l.listenOnce(qA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bf.NO_ERROR:const d=l.getResponseJson();ie(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Bf.TIMEOUT:ie(An,`RPC '${e}' ${o} timed out`),a(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const h=l.getStatus();if(ie(An,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(y)>=0?y:H.UNKNOWN}(g.status);a(new re(v,g.message))}else a(new re(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(H.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ie(An,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ie(An,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Wv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QA(),a=GA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ie(An,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let f=!1,g=!1;const v=new R9({Io:S=>{g?ie(An,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(ie(An,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ie(An,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),_=(S,y,w)=>{S.listen(y,E=>{try{w(E)}catch(I){setTimeout(()=>{throw I},0)}})};return _(h,vu.EventType.OPEN,()=>{g||(ie(An,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),_(h,vu.EventType.CLOSE,()=>{g||(g=!0,ie(An,`RPC '${e}' stream ${i} transport closed`),v.So())}),_(h,vu.EventType.ERROR,S=>{g||(g=!0,zl(An,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new re(H.UNAVAILABLE,"The operation could not be completed")))}),_(h,vu.EventType.MESSAGE,S=>{var y;if(!g){const w=S.data[0];rt(!!w);const E=w,I=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(I){ie(An,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let M=function(k){const P=Wt[k];if(P!==void 0)return EN(P)}(N),x=I.message;M===void 0&&(M=H.INTERNAL,x="Unknown error status: "+N+" with message "+I.message),g=!0,v.So(new re(M,x)),h.close()}else ie(An,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),_(a,KA.STAT_EVENT,S=>{S.stat===b_.PROXY?ie(An,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===b_.NOPROXY&&ie(An,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){return new Fz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ON(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(ao(n.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P9 extends DN{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Bz(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?Ii(s.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=M_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=k_(l)?{documents:Hz(o,l)}:{query:qz(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bN(o,s.resumeToken);const c=N_(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=Bp(o,s.snapshotVersion.toTimestamp());const c=N_(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Gz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=M_(this.serializer),n.removeTarget=e,this.a_(n)}}class A9 extends DN{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Wz(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=M_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zz(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,O_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,O_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(H.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class O9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ao(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ba(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=xe(l);c.L_.add(4),await ah(c),c.q_.set("Unknown"),c.L_.delete(4),await pg(c)}(this))})}),this.q_=new O9(r,i)}}async function pg(t){if(ba(t))for(const e of t.B_)await e(!0)}async function ah(t){for(const e of t.B_)await e(!1)}function MN(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),vE(n)?gE(n):bc(n).r_()&&mE(n,e))}function pE(t,e){const n=xe(t),r=bc(n);n.N_.delete(e),r.r_()&&LN(n,e),n.N_.size===0&&(r.r_()?r.o_():ba(n)&&n.q_.set("Unknown"))}function mE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bc(t).A_(e)}function LN(t,e){t.Q_.xe(e),bc(t).R_(e)}function gE(t){t.Q_=new Mz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bc(t).start(),t.q_.v_()}function vE(t){return ba(t)&&!bc(t).n_()&&t.N_.size>0}function ba(t){return xe(t).L_.size===0}function $N(t){t.Q_=void 0}async function M9(t){t.q_.set("Online")}async function L9(t){t.N_.forEach((e,n)=>{mE(t,e)})}async function $9(t,e){$N(t),vE(t)?(t.q_.M_(e),gE(t)):t.q_.set("Unknown")}async function j9(t,e,n){if(t.q_.set("Online"),e instanceof CN&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zp(t,r)}else if(e instanceof Hf?t.Q_.Ke(e):e instanceof TN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await NN(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(xn.EMPTY_BYTE_STRING,d.snapshotVersion)),LN(o,l);const h=new Bo(d.target,l,c,d.sequenceNumber);mE(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await zp(t,r)}}async function zp(t,e,n){if(!rh(e))throw e;t.L_.add(1),await ah(t),t.q_.set("Offline"),n||(n=()=>NN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await pg(t)})}function jN(t,e){return e().catch(n=>zp(t,n,e))}async function mg(t){const e=xe(t),n=ms(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;F9(e);)try{const i=await T9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,V9(e,i)}catch(i){await zp(e,i)}FN(e)&&VN(e)}function F9(t){return ba(t)&&t.O_.length<10}function V9(t,e){t.O_.push(e);const n=ms(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FN(t){return ba(t)&&!ms(t).n_()&&t.O_.length>0}function VN(t){ms(t).start()}async function U9(t){ms(t).p_()}async function B9(t){const e=ms(t);for(const n of t.O_)e.m_(n.mutations)}async function z9(t,e,n){const r=t.O_.shift(),i=lE.from(r,e,n);await jN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mg(t)}async function W9(t,e){e&&ms(t).V_&&await async function(r,i){if(function(s){return Nz(s)&&s!==H.ABORTED}(i.code)){const o=r.O_.shift();ms(r).s_(),await jN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mg(r)}}(t,e),FN(t)&&VN(t)}async function vx(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=ba(n);n.L_.add(3),await ah(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await pg(n)}async function H9(t,e){const n=xe(t);e?(n.L_.delete(2),await pg(n)):e||(n.L_.add(2),await ah(n),n.q_.set("Unknown"))}function bc(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new P9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:M9.bind(null,t),Ro:L9.bind(null,t),mo:$9.bind(null,t),d_:j9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),vE(t)?gE(t):t.q_.set("Unknown")):(await t.K_.stop(),$N(t))})),t.K_}function ms(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new A9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U9.bind(null,t),mo:W9.bind(null,t),f_:B9.bind(null,t),g_:z9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await mg(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new yE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if(ao("AsyncQueue",`${e}: ${t}`),rh(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=yu(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new xl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.W_=new Qt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gl{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Gl(e,n,xl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class K9{constructor(){this.queries=_x(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=_x(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new re(H.ABORTED,"Firestore shutting down"))}}function _x(){return new Cc(t=>lN(t),lg)}async function wE(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new q9,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=_E(s,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&TE(n)}async function EE(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G9(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&TE(n)}function Q9(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function TE(t){t.Y_.forEach(e=>{e.next()})}var $_,wx;(wx=$_||($_={})).ea="default",wx.Cache="cache";class CE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.key=e}}class BN{constructor(e){this.key=e}}class Y9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=cN(e),this.Ra=new xl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new yx,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=cg(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?v!==_&&(r.track({type:3,doc:g}),S=!0):this.ga(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(g?(s=s.add(g),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(g,v){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return _(g)-_(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new Gl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new BN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new UN(r))}),n}ba(e){this.Ta=e.Ts,this.da=De();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Gl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class X9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J9{constructor(e){this.key=e,this.va=!1}}class Z9{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Cc(a=>lN(a),lg),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(me.comparator),this.Na=new Map,this.La=new dE,this.Ba={},this.ka=new Map,this.qa=Kl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function eW(t,e,n=!0){const r=GN(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await zN(r,e,n,!0),i}async function tW(t,e){const n=GN(t);await zN(n,e,!0,!1)}async function zN(t,e,n,r){const i=await C9(t.localStore,Si(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await nW(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&MN(t.remoteStore,i),a}async function nW(t,e,n,r,i){t.Ka=(h,f,g)=>async function(_,S,y,w){let E=S.view.ma(y);E.ns&&(E=await px(_.localStore,S.query,!1).then(({documents:x})=>S.view.ma(x,E)));const I=w&&w.targetChanges.get(S.targetId),N=w&&w.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(E,_.isPrimaryClient,I,N);return Tx(_,S.targetId,M.wa),M.snapshot}(t,h,f,g);const o=await px(t.localStore,e,!0),s=new Y9(e,o.Ts),a=s.ma(o.documents),l=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);Tx(t,n,c.wa);const d=new X9(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function rW(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!lg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await L_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pE(r.remoteStore,i.targetId),j_(r,i.targetId)}).catch(nh)):(j_(r,i.targetId),await L_(r.localStore,i.targetId,!0))}async function iW(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pE(n.remoteStore,r.targetId))}async function oW(t,e,n){const r=hW(t);try{const i=await function(s,a){const l=xe(s),c=He.now(),d=a.reduce((g,v)=>g.add(v.key),De());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=lo(),_=De();return l.cs.getEntries(g,d).next(S=>{v=S,v.forEach((y,w)=>{w.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{h=S;const y=[];for(const w of a){const E=Iz(w,h.get(w.key).overlayedDocument);E!=null&&y.push(new bs(w.key,E,eN(E.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,a)}).next(S=>{f=S;const y=S.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(g,S.batchId,y)})}).then(()=>({batchId:f.batchId,changes:dN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new Qt(Ge)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await lh(r,i.changes),await mg(r.remoteStore)}catch(i){const o=_E(i,"Failed to persist write");n.reject(o)}}async function WN(t,e){const n=xe(t);try{const r=await w9(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?rt(s.va):i.removedDocuments.size>0&&(rt(s.va),s.va=!1))}),await lh(n,r,e)}catch(r){await nh(r)}}function Ex(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=xe(s);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&TE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sW(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Qt(me.comparator);s=s.insert(o,Mn.newNoDocument(o,be.min()));const a=De().add(o),l=new hg(be.min(),new Map,new Qt(Ge),s,a);await WN(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),bE(r)}else await L_(r.localStore,e,!1).then(()=>j_(r,e,n)).catch(nh)}async function aW(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await _9(n.localStore,e);qN(n,r,null),HN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lh(n,i)}catch(i){await nh(i)}}async function lW(t,e,n){const r=xe(t);try{const i=await function(s,a){const l=xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(rt(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);qN(r,e,n),HN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lh(r,i)}catch(i){await nh(i)}}function HN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qN(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function j_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||KN(t,r)})}function KN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(pE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bE(t))}function Tx(t,e,n){for(const r of n)r instanceof UN?(t.La.addReference(r.key,e),cW(t,r)):r instanceof BN?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||KN(t,r.key)):Te()}function cW(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(r),bE(t))}function bE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(wt.fromString(e)),r=t.qa.next();t.Na.set(r,new J9(n)),t.Oa=t.Oa.insert(n,r),MN(t.remoteStore,new Bo(Si(ag(n.path)),r,"TargetPurposeLimboResolution",eE.oe))}}async function lh(t,e,n){const r=xe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=fE.Wi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const d=xe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(c,f=>G.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>G.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!rh(h))throw h;ie("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),v=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(f,_)}}}(r.localStore,o))}async function uW(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await AN(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new re(H.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lh(n,r.hs)}}function dW(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return De().add(r.key);{let i=De();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function GN(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sW.bind(null,e),e.Ca.d_=G9.bind(null,e.eventManager),e.Ca.$a=Q9.bind(null,e.eventManager),e}function hW(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lW.bind(null,e),e}class Wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return y9(this.persistence,new g9,e.initialUser,this.serializer)}Ga(e){return new f9(hE.Zr,this.serializer)}Wa(e){return new x9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wp.provider={build:()=>new Wp};class F_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ex(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uW.bind(null,this.syncEngine),await H9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K9}()}createDatastore(e){const n=fg(e.databaseInfo.databaseId),r=function(o){return new k9(o)}(e.databaseInfo);return function(o,s,a,l){return new N9(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new D9(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ex(this.syncEngine,n,0),function(){return gx.D()?new gx:new S9}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const h=new Z9(i,o,s,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);ie("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ah(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}F_.provider={build:()=>new F_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ao("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=XA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ie("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qv(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pW(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vx(e.remoteStore,i)),t._onlineComponents=e}async function pW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zl("Error using user provided cache. Falling back to memory cache: "+n),await qv(t,new Wp)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await qv(t,new Wp);return t._offlineComponents}async function QN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Cx(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Cx(t,new F_))),t._onlineComponents}function mW(t){return QN(t).then(e=>e.syncEngine)}async function Hp(t){const e=await QN(t),n=e.eventManager;return n.onListen=eW.bind(null,e.syncEngine),n.onUnlisten=rW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iW.bind(null,e.syncEngine),n}function gW(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new xE({next:f=>{d.Za(),s.enqueueAndForget(()=>EE(o,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new CE(ag(a.path),d,{includeMetadataChanges:!0,_a:!0});return wE(o,h)}(await Hp(t),t.asyncQueue,e,n,r)),r.promise}function vW(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new xE({next:f=>{d.Za(),s.enqueueAndForget(()=>EE(o,h)),f.fromCache&&l.source==="server"?c.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new CE(a,d,{includeMetadataChanges:!0,_a:!0});return wE(o,h)}(await Hp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yW(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xx(t){if(!me.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sx(t){if(me.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gg(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ix({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ix(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L6;switch(r.type){case"firstParty":return new V6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bx.get(n);r&&(ie("ComponentProvider","Removing Datastore"),bx.delete(n),r.terminate())}(this),Promise.resolve()}}function _W(t,e,n,r={}){var i;const o=(t=rr(t,vg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=On.MOCK_USER;else{a=Fw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new On(c)}t._authCredentials=new $6(new YA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class Fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class rs extends xa{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new me(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Kn(t,e,...n){if(t=Ct(t),XN("collection","path",e),t instanceof vg){const r=wt.fromString(e,...n);return Sx(r),new rs(t,null,r)}{if(!(t instanceof Fn||t instanceof rs))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return Sx(r),new rs(t.firestore,null,r)}}function Wn(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=XA.newId()),XN("doc","path",e),t instanceof vg){const r=wt.fromString(e,...n);return xx(r),new Fn(t,null,new me(r))}{if(!(t instanceof Fn||t instanceof rs))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return xx(r),new Fn(t.firestore,t instanceof rs?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ON(this,"async_queue_retry"),this.Vu=()=>{const r=Hv();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ji;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!rh(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ao("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=yE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function kx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class co extends vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rx(e),this._firestoreClient=void 0,await e}}}function wW(t,e){const n=typeof t=="object"?t:ng(),r=typeof t=="string"?t:"(default)",i=Xd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$w("firestore");o&&_W(i,...o)}return i}function yg(t){if(t._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EW(t),t._firestoreClient}function EW(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,d){return new Z6(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fW(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(xn.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=/^__.*__$/;class CW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new oh(e,this.data,n,this.fieldTransforms)}}class JN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class RE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new RE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return qp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ZN(this.Cu)&&TW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fg(e)}Qu(e,n,r,i=!1){return new RE({Cu:e,methodName:n,qu:r,path:wn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(t){const e=t._freezeSettings(),n=fg(t._databaseId);return new bW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eO(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);PE("Data must be an object, but it was:",s,r);const a=tO(r,s);let l,c;if(o.merge)l=new fr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=V_(e,h,n);if(!s.contains(f))throw new re(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);rO(d,f)||d.push(f)}l=new fr(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new CW(new Xn(a),l,c)}class Tg extends wg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tg}}class kE extends wg{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Pd(e.serializer,pN(e.serializer,this.$u));return new Cz(e.path,n)}isEqual(e){return e instanceof kE&&this.$u===e.$u}}function xW(t,e,n,r){const i=t.Qu(1,e,n);PE("Data must be an object, but it was:",i,r);const o=[],s=Xn.empty();Ca(r,(l,c)=>{const d=AE(e,l,n);c=Ct(c);const h=i.Nu(d);if(c instanceof Tg)o.push(d);else{const f=ch(c,h);f!=null&&(o.push(d),s.set(d,f))}});const a=new fr(o);return new JN(s,a,i.fieldTransforms)}function SW(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[V_(e,r,n)],l=[i];if(o.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(V_(e,o[f])),l.push(o[f+1]);const c=[],d=Xn.empty();for(let f=a.length-1;f>=0;--f)if(!rO(c,a[f])){const g=a[f];let v=l[f];v=Ct(v);const _=s.Nu(g);if(v instanceof Tg)c.push(g);else{const S=ch(v,_);S!=null&&(c.push(g),d.set(g,S))}}const h=new fr(c);return new JN(d,h,s.fieldTransforms)}function IW(t,e,n,r=!1){return ch(n,t.Qu(r?4:3,e))}function ch(t,e){if(nO(t=Ct(t)))return PE("Unsupported field value:",e,t),tO(t,e);if(t instanceof wg)return function(r,i){if(!ZN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ch(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=He.fromDate(r);return{timestampValue:Bp(i.serializer,o)}}if(r instanceof He){const o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bp(i.serializer,o)}}if(r instanceof SE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:bN(i.serializer,r._byteString)};if(r instanceof Fn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof IE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return sE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${gg(r)}`)}(t,e)}function tO(t,e){const n={};return JA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,(r,i)=>{const o=ch(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof SE||t instanceof Ql||t instanceof Fn||t instanceof wg||t instanceof IE)}function PE(t,e,n){if(!nO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function V_(t,e,n){if((e=Ct(e))instanceof _g)return e._internalPath;if(typeof e=="string")return AE(t,e);throw qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const RW=new RegExp("[~\\*/\\[\\]]");function AE(t,e,n){if(e.search(RW)>=0)throw qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _g(...e.split("."))._internalPath}catch{throw qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new re(H.INVALID_ARGUMENT,a+t+l)}function rO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kW extends iO{data(){return super.data()}}function NE(t,e){return typeof e=="string"?AE(t,e):e instanceof _g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OE{}class PW extends OE{}function Pi(t,e,...n){let r=[];e instanceof OE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof DE).length,a=o.filter(l=>l instanceof Cg).length;if(s>1||s>0&&a>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cg extends PW{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=this._parse(e);return sO(e._query,n),new xa(e.firestore,e.converter,P_(e._query,n))}_parse(e){const n=Eg(e.firestore);return function(o,s,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ax(h,d);const g=[];for(const v of h)g.push(Px(l,o,v));f={arrayValue:{values:g}}}else f=Px(l,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ax(h,d),f=IW(a,s,h,d==="in"||d==="not-in");return Gt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ai(t,e,n){const r=e,i=NE("where",t);return Cg._create(i,r,n)}class DE extends OE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)sO(s,l),s=P_(s,l)}(e._query,n),new xa(e.firestore,e.converter,P_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Px(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aN(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!me.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xb(t,new me(r))}if(n instanceof Fn)return Xb(t,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gg(n)}.`)}function Ax(t,e){if(!Array.isArray(t)||t.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AW{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ca(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>jt(s.doubleValue));return new IE(o)}convertGeoPoint(e){return new SE(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=ps(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);rt(PN(r));const i=new Sd(r.get(1),r.get(3)),o=new me(r.popFirst(5));return i.isEqual(n)||ao(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lO extends iO{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qf extends lO{data(e={}){return super.data(e)}}class cO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qf(this._firestore,this._userDataWriter,r.key,r,new wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new qf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new qf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:NW(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){t=rr(t,Fn);const e=rr(t.firestore,co);return gW(yg(e),t._key).then(n=>hO(e,t,n))}class ME extends AW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function uo(t){t=rr(t,xa);const e=rr(t.firestore,co),n=yg(e),r=new ME(e);return oO(t._query),vW(n,t._query).then(i=>new cO(e,r,t,i))}function ju(t,e,n){t=rr(t,Fn);const r=rr(t.firestore,co),i=aO(t.converter,e);return xg(r,[eO(Eg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function bg(t,e,n,...r){t=rr(t,Fn);const i=rr(t.firestore,co),o=Eg(i);let s;return s=typeof(e=Ct(e))=="string"||e instanceof _g?SW(o,"updateDoc",t._key,e,n,r):xW(o,"updateDoc",t._key,e),xg(i,[s.toMutation(t._key,Dr.exists(!0))])}function uO(t){return xg(rr(t.firestore,co),[new aE(t._key,Dr.none())])}function LE(t,e){const n=rr(t.firestore,co),r=Wn(t),i=aO(t.converter,e);return xg(n,[eO(Eg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function dO(t,...e){var n,r,i;t=Ct(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(kx(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Fn)c=rr(t.firestore,co),d=ag(t._key.path),l={next:h=>{e[s]&&e[s](hO(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=rr(t,xa);c=rr(h.firestore,co),d=h._query;const f=new ME(c);l={next:g=>{e[s]&&e[s](new cO(c,f,h,g))},error:e[s+1],complete:e[s+2]},oO(t._query)}return function(f,g,v,_){const S=new xE(_),y=new CE(g,S,v);return f.asyncQueue.enqueueAndForget(async()=>wE(await Hp(f),y)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>EE(await Hp(f),y))}}(yg(c),d,a,l)}function xg(t,e){return function(r,i){const o=new Ji;return r.asyncQueue.enqueueAndForget(async()=>oW(await mW(r),i,o)),o.promise}(yg(t),e)}function hO(t,e,n){const r=n.docs.get(e._key),i=new ME(t);return new lO(t,i,e._key,r,new wu(n.hasPendingWrites,n.fromCache),e.converter)}function OW(t){return new kE("increment",t)}(function(e,n=!0){(function(i){Tc=i})(Ts),hs(new io("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new co(new j6(r.getProvider("auth-internal")),new B6(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Or(qb,"4.7.3",e),Or(qb,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="firebasestorage.googleapis.com",pO="storageBucket",DW=2*60*1e3,MW=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends Oi{constructor(e,n,r=0){super(Kv(e),`Firebase Storage: ${n} (${Kv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function Kv(t){return"storage/"+t}function $E(){const t="An unknown error occurred, please check the error payload for server response.";return new $t(Lt.UNKNOWN,t)}function LW(t){return new $t(Lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $W(t){return new $t(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t(Lt.UNAUTHENTICATED,t)}function FW(){return new $t(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VW(t){return new $t(Lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function UW(){return new $t(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BW(){return new $t(Lt.CANCELED,"User canceled the upload/download.")}function zW(t){return new $t(Lt.INVALID_URL,"Invalid URL '"+t+"'.")}function WW(t){return new $t(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HW(){return new $t(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pO+"' property when initializing the app?")}function qW(){return new $t(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KW(){return new $t(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function GW(t){return new $t(Lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function B_(t){return new $t(Lt.INVALID_ARGUMENT,t)}function mO(){return new $t(Lt.APP_DELETED,"The Firebase app was deleted.")}function QW(t){return new $t(Lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fu(t,e){return new $t(Lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zc(t){throw new $t(Lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pr.makeFromUrl(e,n)}catch{return new pr(e,"")}if(r.path==="")return r;throw WW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},_=n===fO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${_}/${i}/${S}`,"i"),E=[{regex:a,indices:l,postModify:o},{regex:g,indices:v,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<E.length;I++){const N=E[I],M=N.regex.exec(e);if(M){const x=M[N.indices.bucket];let b=M[N.indices.path];b||(b=""),r=new pr(x,b),N.postModify(r);break}}if(r==null)throw zW(e);return r}}class YW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function d(...S){c||(c=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function f(){o&&clearTimeout(o)}function g(S,...y){if(c){f();return}if(S){f(),d.call(null,S,...y);return}if(l()||s){f(),d.call(null,S,...y);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let v=!1;function _(S){v||(v=!0,f(),!c&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function JW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){return t!==void 0}function eH(t){return typeof t=="object"&&!Array.isArray(t)}function jE(t){return typeof t=="string"||t instanceof String}function Nx(t){return FE()&&t instanceof Blob}function FE(){return typeof Blob<"u"}function Ox(t,e,n,r){if(r<e)throw B_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw B_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zs||(Zs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,i,o,s,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Zs.NO_ERROR,l=o.getStatus();if(!a||tH(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Zs.ABORT;r(!1,new cf(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new cf(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ZW(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=$E();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?mO():BW();s(l)}else{const l=UW();s(l)}};this.canceled_?n(!1,new cf(!1,null,!0)):this.backoffId_=XW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aH(t,e,n,r,i,o,s=!0){const a=gO(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return oH(c,e),rH(c,n),iH(c,o),sH(c,r),new nH(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cH(...t){const e=lH();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(FE())return new Blob(t);throw new $t(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){if(typeof atob>"u")throw GW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gv{constructor(e,n){this.data=e,this.contentType=n||null}}function hH(t,e){switch(t){case _i.RAW:return new Gv(vO(e));case _i.BASE64:case _i.BASE64URL:return new Gv(yO(t,e));case _i.DATA_URL:return new Gv(pH(e),mH(e))}throw $E()}function vO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fH(t){let e;try{e=decodeURIComponent(t)}catch{throw Fu(_i.DATA_URL,"Malformed data URL.")}return vO(e)}function yO(t,e){switch(t){case _i.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Fu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _i.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Fu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dH(e)}catch(i){throw i.message.includes("polyfill")?i:Fu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _O{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fu(_i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pH(t){const e=new _O(t);return e.base64?yO(_i.BASE64,e.rest):fH(e.rest)}function mH(t){return new _O(t).contentType}function gH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){let r=0,i="";Nx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Nx(this.data_)){const r=this.data_,i=uH(r,e,n);return i===null?null:new $o(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $o(r,!0)}}static getBlob(...e){if(FE()){const n=e.map(r=>r instanceof $o?r.data_:r);return new $o(cH.apply(null,n))}else{const n=e.map(s=>jE(s)?hH(_i.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new $o(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){let e;try{e=JSON.parse(t)}catch{return null}return eH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t,e){return e}class Bn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||_H}}let uf=null;function wH(t){return!jE(t)||t.length<2?t:EO(t)}function TO(){if(uf)return uf;const t=[];t.push(new Bn("bucket")),t.push(new Bn("generation")),t.push(new Bn("metageneration")),t.push(new Bn("name","fullPath",!0));function e(o,s){return wH(s)}const n=new Bn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Bn("size");return i.xform=r,t.push(i),t.push(new Bn("timeCreated")),t.push(new Bn("updated")),t.push(new Bn("md5Hash",null,!0)),t.push(new Bn("cacheControl",null,!0)),t.push(new Bn("contentDisposition",null,!0)),t.push(new Bn("contentEncoding",null,!0)),t.push(new Bn("contentLanguage",null,!0)),t.push(new Bn("contentType",null,!0)),t.push(new Bn("metadata","customMetadata",!0)),uf=t,uf}function EH(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new pr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function TH(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return EH(r,t),r}function CO(t,e,n){const r=wO(e);return r===null?null:TH(t,r,n)}function CH(t,e,n,r){const i=wO(e);if(i===null||!jE(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+s(d)+"/o/"+s(h),g=VE(f,n,r),v=gO({alt:"media",token:c});return g+v})[0]}function bH(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class bO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){if(!t)throw $E()}function xH(t,e){function n(r,i){const o=CO(t,i,e);return xO(o!==null),o}return n}function SH(t,e){function n(r,i){const o=CO(t,i,e);return xO(o!==null),CH(o,i,t.host,t._protocol)}return n}function SO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=FW():i=jW():n.getStatus()===402?i=$W(t.bucket):n.getStatus()===403?i=VW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function IH(t){const e=SO(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=LW(t.path)),o.serverResponse=i.serverResponse,o}return n}function RH(t,e,n){const r=e.fullServerUrl(),i=VE(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new bO(i,o,SH(t,n),s);return a.errorHandler=IH(e),a}function kH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kH(null,e)),r}function AH(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let I=0;I<2;I++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=PH(e,r,i),d=bH(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=$o.getBlob(h,r,f);if(g===null)throw qW();const v={name:c.fullPath},_=VE(o,t.host,t._protocol),S="POST",y=t.maxUploadRetryTime,w=new bO(_,S,xH(t,n),y);return w.urlParams=v,w.headers=s,w.body=g.uploadData(),w.errorHandler=SO(e),w}class NH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Zc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OH extends NH{initXhr(){this.xhr_.responseType="text"}}function IO(){return new OH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this._service=e,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fa(e,n)}get root(){const e=new pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EO(this._location.path)}get storage(){return this._service}get parent(){const e=vH(this._location.path);if(e===null)return null;const n=new pr(this._location.bucket,e);return new fa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QW(e)}}function DH(t,e,n){t._throwIfRoot("uploadBytes");const r=AH(t.storage,t._location,TO(),new $o(e,!0),n);return t.storage.makeRequestWithTokens(r,IO).then(i=>({metadata:i,ref:t}))}function MH(t){t._throwIfRoot("getDownloadURL");const e=RH(t.storage,t._location,TO());return t.storage.makeRequestWithTokens(e,IO).then(n=>{if(n===null)throw KW();return n})}function LH(t,e){const n=yH(t._location.path,e),r=new pr(t._location.bucket,n);return new fa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(t){return/^[A-Za-z]+:\/\//.test(t)}function jH(t,e){return new fa(t,e)}function RO(t,e){if(t instanceof UE){const n=t;if(n._bucket==null)throw HW();const r=new fa(n,n._bucket);return e!=null?RO(r,e):r}else return e!==void 0?LH(t,e):t}function FH(t,e){if(e&&$H(e)){if(t instanceof UE)return jH(t,e);throw B_("To use ref(service, url), the first argument must be a Storage instance.")}else return RO(t,e)}function Dx(t,e){const n=e==null?void 0:e[pO];return n==null?null:pr.makeFromBucketSpec(n,t)}function VH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Fw(i,t.app.options.projectId))}class UE{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=fO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DW,this._maxUploadRetryTime=MW,this._requests=new Set,i!=null?this._bucket=pr.makeFromBucketSpec(i,this._host):this._bucket=Dx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,e):this._bucket=Dx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new YW(mO());{const s=aH(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Mx="@firebase/storage",Lx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="storage";function UH(t,e,n){return t=Ct(t),DH(t,e,n)}function BH(t){return t=Ct(t),MH(t)}function zH(t,e){return t=Ct(t),FH(t,e)}function PO(t=ng(),e){t=Ct(t);const r=Xd(t,kO).getImmediate({identifier:e}),i=$w("storage");return i&&WH(r,...i),r}function WH(t,e,n,r={}){VH(t,e,n,r)}function HH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new UE(n,r,i,e,Ts)}function qH(){hs(new io(kO,HH,"PUBLIC").setMultipleInstances(!0)),Or(Mx,Lx,""),Or(Mx,Lx,"esm2017")}qH();var $x={};const jx="@firebase/database",Fx="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AO="";function KH(t){AO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_n(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new GH(e)}}catch{}return new QH},Hs=NO("localStorage"),YH=NO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new tg("@firebase/database"),XH=function(){let t=1;return function(){return t++}}(),OO=function(t){const e=g5(t),n=new d5;n.update(e);const r=n.digest();return Lw.encodeByteArray(r)},uh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=uh.apply(null,r):typeof r=="object"?e+=_n(r):e+=r,e+=" "}return e};let Vu=null,Vx=!0;const JH=function(t,e){te(!e,"Can't turn on custom loggers persistently."),Sl.logLevel=Oe.VERBOSE,Vu=Sl.log.bind(Sl)},Ln=function(...t){if(Vx===!0&&(Vx=!1,Vu===null&&YH.get("logging_enabled")===!0&&JH()),Vu){const e=uh.apply(null,t);Vu(e)}},dh=function(t){return function(...e){Ln(t,...e)}},z_=function(...t){const e="FIREBASE INTERNAL ERROR: "+uh(...t);Sl.error(e)},ho=function(...t){const e=`FIREBASE FATAL ERROR: ${uh(...t)}`;throw Sl.error(e),new Error(e)},vr=function(...t){const e="FIREBASE WARNING: "+uh(...t);Sl.warn(e)},ZH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},DO=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},e8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yl="[MIN_NAME]",pa="[MAX_NAME]",xc=function(t,e){if(t===e)return 0;if(t===Yl||e===pa)return-1;if(e===Yl||t===pa)return 1;{const n=Ux(t),r=Ux(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},t8=function(t,e){return t===e?0:t<e?-1:1},eu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_n(e))},BE=function(t){if(typeof t!="object"||t===null)return _n(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_n(e[r]),n+=":",n+=BE(t[e[r]]);return n+="}",n},MO=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const LO=function(t){te(!DO(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},n8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},r8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},i8=new RegExp("^-?(0*)\\d{1,10}$"),o8=-2147483648,s8=2147483647,Ux=function(t){if(i8.test(t)){const e=Number(t);if(e>=o8&&e<=s8)return e}return null},hh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vr("Exception was thrown by user callback.",n),e},Math.floor(0))}},a8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vr(e)}}class Kf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Kf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="5",$O="v",jO="s",FO="r",VO="f",UO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BO="ls",zO="p",W_="ac",WO="websocket",HO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function u8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function KO(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(e===WO)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HO)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);u8(t)&&(n.ns=t.namespace);const i=[];return Vr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.counters_={}}incrementCounter(e,n=1){vo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return KU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={},Yv={};function WE(t){const e=t.toString();return Qv[e]||(Qv[e]=new d8),Qv[e]}function h8(t,e){const n=t.toString();return Yv[n]||(Yv[n]=e()),Yv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="start",p8="close",m8="pLPCommand",g8="pRTLPCB",GO="id",QO="pw",YO="ser",v8="cb",y8="seg",_8="ts",w8="d",E8="dframe",XO=1870,JO=30,T8=XO-JO,C8=25e3,b8=3e4;class hl{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dh(e),this.stats_=WE(n),this.urlFn=l=>(this.appCheckToken&&(l[W_]=this.appCheckToken),KO(n,HO,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new f8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(b8)),e8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HE((...o)=>{const[s,a,l,c,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Bx)this.id=a,this.password=l;else if(s===p8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Bx]="t",r[YO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[v8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$O]=zE,this.transportSessionId&&(r[jO]=this.transportSessionId),this.lastSessionId&&(r[BO]=this.lastSessionId),this.applicationId&&(r[zO]=this.applicationId),this.appCheckToken&&(r[W_]=this.appCheckToken),typeof location<"u"&&location.hostname&&UO.test(location.hostname)&&(r[FO]=VO);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hl.forceAllow_=!0}static forceDisallow(){hl.forceDisallow_=!0}static isAvailable(){return hl.forceAllow_?!0:!hl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!n8()&&!r8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=_n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=YP(n),i=MO(r,T8);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[E8]="t",r[GO]=e,r[QO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=_n(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class HE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XH(),window[m8+this.uniqueCallbackIdentifier]=e,window[g8+this.uniqueCallbackIdentifier]=n,this.myIFrame=HE.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ln("frame writing exception"),a.stack&&Ln(a.stack),Ln(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ln("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GO]=this.myID,e[QO]=this.myPW,e[YO]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+JO+r.length<=XO;){const s=this.pendingSegs.shift();r=r+"&"+y8+i+"="+s.seg+"&"+_8+i+"="+s.ts+"&"+w8+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(C8)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ln("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=16384,S8=45e3;let Kp=null;typeof MozWebSocket<"u"?Kp=MozWebSocket:typeof WebSocket<"u"&&(Kp=WebSocket);class Zr{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dh(this.connId),this.stats_=WE(n),this.connURL=Zr.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[$O]=zE,typeof location<"u"&&location.hostname&&UO.test(location.hostname)&&(s[FO]=VO),n&&(s[jO]=n),r&&(s[BO]=r),i&&(s[W_]=i),o&&(s[zO]=o),KO(e,WO,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hs.set("previous_websocket_failure",!0);try{let r;nA(),this.mySock=new Kp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Kp!==null&&!Zr.forceDisallow_}static previouslyFailed(){return Hs.isInMemoryStorage||Hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=_n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=MO(n,x8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(S8))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zr.responsesRequiredToBeHealthy=2;Zr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hl,Zr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Zr&&Zr.isAvailable();let r=n&&!Zr.previouslyFailed();if(e.webSocketOnly&&(n||vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zr];else{const i=this.transports_=[];for(const o of Ad.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Ad.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ad.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=6e4,R8=5e3,k8=10*1024,P8=100*1024,Xv="t",zx="d",A8="s",Wx="r",N8="e",Hx="o",qx="a",Kx="n",Gx="p",O8="h";class D8{constructor(e,n,r,i,o,s,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dh("c:"+this.id+":"),this.transportManager_=new Ad(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>P8?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>k8?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xv in e){const n=e[Xv];n===qx?this.upgradeIfSecondaryHealthy_():n===Wx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Hx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eu("t",e),r=eu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Kx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eu("t",e),r=eu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eu(Xv,e);if(zx in e){const r=e[zx];if(n===O8){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Kx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===A8?this.onConnectionShutdown_(r):n===Wx?this.onReset_(r):n===N8?z_("Server Error: "+r):n===Hx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):z_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zE!==r&&vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I8))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(R8))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends e2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gp}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=32,Yx=768;class bt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function at(){return new bt("")}function Fe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gs(t){return t.pieces_.length-t.pieceNum_}function yt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new bt(t.pieces_,e)}function t2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function M8(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function n2(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function r2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new bt(e,0)}function ln(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof bt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new bt(n,0)}function Le(t){return t.pieceNum_>=t.pieces_.length}function Ar(t,e){const n=Fe(t),r=Fe(e);if(n===null)return e;if(n===r)return Ar(yt(t),yt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function i2(t,e){if(gs(t)!==gs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gs(t)>gs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class L8{constructor(e,n){this.errorPrefix_=n,this.parts_=n2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=eg(this.parts_[r]);o2(this)}}function $8(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=eg(e),o2(t)}function j8(t){const e=t.parts_.pop();t.byteLength_-=eg(e),t.parts_.length>0&&(t.byteLength_-=1)}function o2(t){if(t.byteLength_>Yx)throw new Error(t.errorPrefix_+"has a key path longer than "+Yx+" bytes ("+t.byteLength_+").");if(t.parts_.length>Qx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qx+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends e2{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qE}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=1e3,F8=60*5*1e3,Xx=30*1e3,V8=1.3,U8=3e4,B8="server_kill",Jx=3;class Zi extends ZO{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Zi.nextPersistentConnectionId_++,this.log_=dh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tu,this.maxReconnectDelay_=F8,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!nA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(_n(o)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new jw,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;Zi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vo(e,"w")){const r=Ul(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||u5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=c5(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_n(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):z_("Unrecognized action received from server: "+_n(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U8&&(this.reconnectDelay_=tu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V8)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Zi.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(h){te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Ln("getToken() completed but was canceled"):(Ln("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new D8(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{vr(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(B8)},o))}catch(h){this.log_("Failed to get token: "+h),s||(this.repoInfo_.nodeAdmin&&vr(h),l())}}}interrupt(e){Ln("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ln("Resuming connection for reason: "+e),delete this.interruptReasons_[e],f_(this.interruptReasons_)&&(this.reconnectDelay_=tu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>BE(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new bt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ln("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jx&&(this.reconnectDelay_=Xx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ln("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+AO.replace(/\./g,"-")]=1,Vw()?e["framework.cordova"]=1:tA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gp.getInstance().currentlyOnline();return f_(this.interruptReasons_)&&e}}Zi.nextPersistentConnectionId_=0;Zi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ve(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ve(Yl,e),i=new Ve(Yl,n);return this.compare(r,i)!==0}minPost(){return Ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;class s2 extends Sg{static get __EMPTY_NODE(){return df}static set __EMPTY_NODE(e){df=e}compare(e,n){return xc(e.name,n.name)}isDefinedOn(e){throw _c("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ve.MIN}maxPost(){return new Ve(pa,df)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Ve(e,df)}toString(){return".key"}}const Il=new s2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??Zn.EMPTY_NODE,this.right=o??Zn.EMPTY_NODE}copy(e,n,r,i,o){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}sn.RED=!0;sn.BLACK=!1;class z8{copy(e,n,r,i,o){return this}insert(e,n,r){return new sn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zn{constructor(e,n=Zn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Zn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,sn.BLACK,null,null))}remove(e){return new Zn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,sn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hf(this.root_,null,this.comparator_,!0,e)}}Zn.EMPTY_NODE=new z8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t,e){return xc(t.name,e.name)}function KE(t,e){return xc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_;function H8(t){H_=t}const a2=function(t){return typeof t=="number"?"number:"+LO(t):"string:"+t},l2=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vo(e,".sv"),"Priority must be a string or number.")}else te(t===H_||t.isEmpty(),"priority of unexpected type.");te(t===H_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zx;class nn{constructor(e,n=nn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),l2(this.priorityNode_)}static set __childrenNodeConstructor(e){Zx=e}static get __childrenNodeConstructor(){return Zx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Le(e)?this:Fe(e)===".priority"?this.priorityNode_:nn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:nn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Fe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||gs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,nn.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+a2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=LO(this.value_):e+=this.value_,this.lazyHash_=OO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nn.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=nn.VALUE_TYPE_ORDER.indexOf(n),o=nn.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}nn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c2,u2;function q8(t){c2=t}function K8(t){u2=t}class G8 extends Sg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?xc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ve.MIN}maxPost(){return new Ve(pa,new nn("[PRIORITY-POST]",u2))}makePost(e,n){const r=c2(e);return new Ve(n,new nn("[PRIORITY-POST]",r))}toString(){return".priority"}}const jn=new G8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=Math.log(2);class Y8{constructor(e){const n=o=>parseInt(Math.log(o)/Q8,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qp=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new sn(f,h.node,sn.BLACK,null,null);{const g=parseInt(d/2,10)+l,v=i(l,g),_=i(g+1,c);return h=t[g],f=n?n(h):h,new sn(f,h.node,sn.BLACK,v,_)}},o=function(l){let c=null,d=null,h=t.length;const f=function(v,_){const S=h-v,y=h;h-=v;const w=i(S+1,y),E=t[S],I=n?n(E):E;g(new sn(I,E.node,_,null,w))},g=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const _=l.nextBitIsOne(),S=Math.pow(2,l.count-(v+1));_?f(S,sn.BLACK):(f(S,sn.BLACK),f(S,sn.RED))}return d},s=new Y8(t.length),a=o(s);return new Zn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;const Ha={};class Qi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return te(Ha&&jn,"ChildrenNode.ts has not been loaded"),Jv=Jv||new Qi({".priority":Ha},{".priority":jn}),Jv}get(e){const n=Ul(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zn?n:null}hasIndex(e){return vo(this.indexSet_,e.toString())}addIndex(e,n){te(e!==Il,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ve.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Qp(r,e.getCompare()):a=Ha;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Qi(d,c)}addToIndexes(e,n){const r=Ap(this.indexes_,(i,o)=>{const s=Ul(this.indexSet_,o);if(te(s,"Missing index implementation for "+o),i===Ha)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ve.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Qp(a,s.getCompare())}else return Ha;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ve(e.name,a))),l.insert(e,e.node)}});return new Qi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ap(this.indexes_,i=>{if(i===Ha)return i;{const o=n.get(e.name);return o?i.remove(new Ve(e.name,o)):i}});return new Qi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu;class tt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&l2(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nu||(nu=new tt(new Zn(KE),null,Qi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nu}updatePriority(e){return this.children_.isEmpty()?this:new tt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?nu:n}}getChild(e){const n=Fe(e);return n===null?this:this.getImmediateChild(n).getChild(yt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ve(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?nu:this.priorityNode_;return new tt(i,s,o)}}updateChild(e,n){const r=Fe(e);if(r===null)return n;{te(Fe(e)!==".priority"||gs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(yt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(jn,(s,a)=>{n[s]=a.val(e),r++,o&&tt.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+a2(this.getPriority().val())+":"),this.forEachChild(jn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":OO(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ve(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ve(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ve(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ve.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ve.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fh?-1:0}withIndex(e){if(e===Il||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new tt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Il||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(jn),i=n.getIterator(jn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Il?null:this.indexMap_.get(e.toString())}}tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class X8 extends tt{constructor(){super(new Zn(KE),tt.EMPTY_NODE,Qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}}const fh=new X8;Object.defineProperties(Ve,{MIN:{value:new Ve(Yl,tt.EMPTY_NODE)},MAX:{value:new Ve(pa,fh)}});s2.__EMPTY_NODE=tt.EMPTY_NODE;nn.__childrenNodeConstructor=tt;H8(fh);K8(fh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=!0;function $n(t,e=null){if(t===null)return tt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new nn(n,$n(e))}if(!(t instanceof Array)&&J8){const n=[];let r=!1;if(Vr(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=$n(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ve(s,l)))}}),n.length===0)return tt.EMPTY_NODE;const o=Qp(n,W8,s=>s.name,KE);if(r){const s=Qp(n,jn.getCompare());return new tt(o,$n(e),new Qi({".priority":s},{".priority":jn}))}else return new tt(o,$n(e),Qi.Default)}else{let n=tt.EMPTY_NODE;return Vr(t,(r,i)=>{if(vo(t,r)&&r.substring(0,1)!=="."){const o=$n(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority($n(e))}}q8($n);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8 extends Sg{constructor(e){super(),this.indexPath_=e,te(!Le(e)&&Fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?xc(e.name,n.name):o}makePost(e,n){const r=$n(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ve(n,i)}maxPost(){const e=tt.EMPTY_NODE.updateChild(this.indexPath_,fh);return new Ve(pa,e)}toString(){return n2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7 extends Sg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?xc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ve.MIN}maxPost(){return Ve.MAX}makePost(e,n){const r=$n(e);return new Ve(n,r)}toString(){return".value"}}const t7=new e7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){return{type:"value",snapshotNode:t}}function r7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function i7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function eS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function o7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yl}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jn}copy(){const e=new GE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===jn?n="$priority":t.index_===t7?n="$value":t.index_===Il?n="$key":(te(t.index_ instanceof Z8,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_n(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=_n(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_n(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_n(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_n(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function nS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==jn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends ZO{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=dh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Yp.getListenId_(e,r),a={};this.listens_[s]=a;const l=tS(e._queryParams);this.restRequest_(o+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(o,h,!1,r),Ul(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Yp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=tS(e._queryParams),r=e._path.toString(),i=new jw;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wc(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wd(a.responseText)}catch{vr("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&vr("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){return{value:null,children:new Map}}function d2(t,e,n){if(Le(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Fe(e);t.children.has(r)||t.children.set(r,Xp());const i=t.children.get(r);e=yt(e),d2(i,e,n)}}function q_(t,e,n){t.value!==null?n(e,t.value):a7(t,(r,i)=>{const o=new bt(e.toString()+"/"+r);q_(i,o,n)})}function a7(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=10*1e3,c7=30*1e3,u7=5*60*1e3;class d7{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new l7(e);const r=rS+(c7-rS)*Math.random();Uu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Vr(e,(i,o)=>{o>0&&vo(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Uu(this.reportStats_.bind(this),Math.floor(Math.random()*2*u7))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wi||(wi={}));function h2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function f2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function p2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wi.ACK_USER_WRITE,this.source=h2()}operationForChild(e){if(Le(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new bt(e));return new Jp(at(),n,this.revert)}}else return te(Fe(this.path)===e,"operationForChild called for unrelated child."),new Jp(yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wi.OVERWRITE}operationForChild(e){return Le(this.path)?new ma(this.source,at(),this.snap.getImmediateChild(e)):new ma(this.source,yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wi.MERGE}operationForChild(e){if(Le(this.path)){const n=this.children.subtree(new bt(e));return n.isEmpty()?null:n.value?new ma(this.source,at(),n.value):new Nd(this.source,at(),n)}else return te(Fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Nd(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;const n=Fe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function h7(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(o7(s.childName,s.snapshotNode))}),ru(t,i,"child_removed",e,r,n),ru(t,i,"child_added",e,r,n),ru(t,i,"child_moved",o,r,n),ru(t,i,"child_changed",e,r,n),ru(t,i,"value",e,r,n),i}function ru(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>p7(t,a,l)),s.forEach(a=>{const l=f7(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function f7(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function p7(t,e,n){if(e.childName==null||n.childName==null)throw _c("Should only compare child_ events.");const r=new Ve(e.childName,e.snapshotNode),i=new Ve(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e){return{eventCache:t,serverCache:e}}function Bu(t,e,n,r){return m2(new QE(e,n,r),t.serverCache)}function g2(t,e,n,r){return m2(t.eventCache,new QE(e,n,r))}function K_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ga(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zv;const m7=()=>(Zv||(Zv=new Zn(t8)),Zv);class vt{constructor(e,n=m7()){this.value=e,this.children=n}static fromObject(e){let n=new vt(null);return Vr(e,(r,i)=>{n=n.set(new bt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:at(),value:this.value};if(Le(e))return null;{const r=Fe(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(yt(e),n);return o!=null?{path:ln(new bt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Le(e))return this;{const n=Fe(e),r=this.children.get(n);return r!==null?r.subtree(yt(e)):new vt(null)}}set(e,n){if(Le(e))return new vt(n,this.children);{const r=Fe(e),o=(this.children.get(r)||new vt(null)).set(yt(e),n),s=this.children.insert(r,o);return new vt(this.value,s)}}remove(e){if(Le(e))return this.children.isEmpty()?new vt(null):new vt(null,this.children);{const n=Fe(e),r=this.children.get(n);if(r){const i=r.remove(yt(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new vt(null):new vt(this.value,o)}else return this}}get(e){if(Le(e))return this.value;{const n=Fe(e),r=this.children.get(n);return r?r.get(yt(e)):null}}setTree(e,n){if(Le(e))return n;{const r=Fe(e),o=(this.children.get(r)||new vt(null)).setTree(yt(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new vt(this.value,s)}}fold(e){return this.fold_(at(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ln(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,at(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Le(e))return null;{const o=Fe(e),s=this.children.get(o);return s?s.findOnPath_(yt(e),ln(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,at(),n)}foreachOnPath_(e,n,r){if(Le(e))return this;{this.value&&r(n,this.value);const i=Fe(e),o=this.children.get(i);return o?o.foreachOnPath_(yt(e),ln(n,i),r):new vt(null)}}foreach(e){this.foreach_(at(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ln(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.writeTree_=e}static empty(){return new ri(new vt(null))}}function zu(t,e,n){if(Le(e))return new ri(new vt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Ar(i,e);return o=o.updateChild(s,n),new ri(t.writeTree_.set(i,o))}else{const i=new vt(n),o=t.writeTree_.setTree(e,i);return new ri(o)}}}function iS(t,e,n){let r=t;return Vr(n,(i,o)=>{r=zu(r,ln(e,i),o)}),r}function oS(t,e){if(Le(e))return ri.empty();{const n=t.writeTree_.setTree(e,new vt(null));return new ri(n)}}function G_(t,e){return Sa(t,e)!=null}function Sa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ar(n.path,e)):null}function sS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(jn,(r,i)=>{e.push(new Ve(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ve(r,i.value))}),e}function is(t,e){if(Le(e))return t;{const n=Sa(t,e);return n!=null?new ri(new vt(n)):new ri(t.writeTree_.subtree(e))}}function Q_(t){return t.writeTree_.isEmpty()}function Xl(t,e){return v2(at(),t.writeTree_,e)}function v2(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(te(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=v2(ln(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ln(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t,e){return C2(e,t)}function g7(t,e,n,r,i){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=zu(t.visibleWrites,e,n)),t.lastWriteId=r}function v7(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function y7(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&_7(a,r.path)?i=!1:ei(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return w7(t),!0;if(r.snap)t.visibleWrites=oS(t.visibleWrites,r.path);else{const a=r.children;Vr(a,l=>{t.visibleWrites=oS(t.visibleWrites,ln(r.path,l))})}return!0}else return!1}function _7(t,e){if(t.snap)return ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ei(ln(t.path,n),e))return!0;return!1}function w7(t){t.visibleWrites=_2(t.allWrites,E7,at()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function E7(t){return t.visible}function _2(t,e,n){let r=ri.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)ei(n,s)?(a=Ar(n,s),r=zu(r,a,o.snap)):ei(s,n)&&(a=Ar(s,n),r=zu(r,at(),o.snap.getChild(a)));else if(o.children){if(ei(n,s))a=Ar(n,s),r=iS(r,a,o.children);else if(ei(s,n))if(a=Ar(s,n),Le(a))r=iS(r,at(),o.children);else{const l=Ul(o.children,Fe(a));if(l){const c=l.getChild(yt(a));r=zu(r,at(),c)}}}else throw _c("WriteRecord should have .snap or .children")}}return r}function w2(t,e,n,r,i){if(!r&&!i){const o=Sa(t.visibleWrites,e);if(o!=null)return o;{const s=is(t.visibleWrites,e);if(Q_(s))return n;if(n==null&&!G_(s,at()))return null;{const a=n||tt.EMPTY_NODE;return Xl(s,a)}}}else{const o=is(t.visibleWrites,e);if(!i&&Q_(o))return n;if(!i&&n==null&&!G_(o,at()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ei(c.path,e)||ei(e,c.path))},a=_2(t.allWrites,s,e),l=n||tt.EMPTY_NODE;return Xl(a,l)}}}function T7(t,e,n){let r=tt.EMPTY_NODE;const i=Sa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(jn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=is(t.visibleWrites,e);return n.forEachChild(jn,(s,a)=>{const l=Xl(is(o,new bt(s)),a);r=r.updateImmediateChild(s,l)}),sS(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=is(t.visibleWrites,e);return sS(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function C7(t,e,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ln(e,n);if(G_(t.visibleWrites,o))return null;{const s=is(t.visibleWrites,o);return Q_(s)?i.getChild(n):Xl(s,i.getChild(n))}}function b7(t,e,n,r){const i=ln(e,n),o=Sa(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=is(t.visibleWrites,i);return Xl(s,r.getNode().getImmediateChild(n))}else return null}function x7(t,e){return Sa(t.visibleWrites,e)}function S7(t,e,n,r,i,o,s){let a;const l=is(t.visibleWrites,e),c=Sa(l,at());if(c!=null)a=c;else if(n!=null)a=Xl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let g=f.getNext();for(;g&&d.length<i;)h(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function I7(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}function Y_(t,e,n,r){return w2(t.writeTree,t.treePath,e,n,r)}function E2(t,e){return T7(t.writeTree,t.treePath,e)}function aS(t,e,n,r){return C7(t.writeTree,t.treePath,e,n,r)}function Zp(t,e){return x7(t.writeTree,ln(t.treePath,e))}function R7(t,e,n,r,i,o){return S7(t.writeTree,t.treePath,e,n,r,i,o)}function YE(t,e,n){return b7(t.writeTree,t.treePath,e,n)}function T2(t,e){return C2(ln(t.treePath,e),t.writeTree)}function C2(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,eS(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,i7(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,r7(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,eS(r,e.snapshotNode,i.oldSnap));else throw _c("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const b2=new P7;class XE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new QE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ga(this.viewCache_),o=R7(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function A7(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function N7(t,e,n,r,i){const o=new k7;let s,a;if(n.type===wi.OVERWRITE){const c=n;c.source.fromUser?s=X_(t,e,c.path,c.snap,r,i,o):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Le(c.path),s=em(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===wi.MERGE){const c=n;c.source.fromUser?s=D7(t,e,c.path,c.children,r,i,o):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=J_(t,e,c.path,c.children,r,i,a,o))}else if(n.type===wi.ACK_USER_WRITE){const c=n;c.revert?s=$7(t,e,c.path,r,i,o):s=M7(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===wi.LISTEN_COMPLETE)s=L7(t,e,n.path,r,o);else throw _c("Unknown operation type: "+n.type);const l=o.getChanges();return O7(e,s,l),{viewCache:s,changes:l}}function O7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=K_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(n7(K_(e)))}}function x2(t,e,n,r,i,o){const s=e.eventCache;if(Zp(r,n)!=null)return e;{let a,l;if(Le(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ga(e),d=c instanceof tt?c:tt.EMPTY_NODE,h=E2(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{const c=Y_(r,ga(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Fe(n);if(c===".priority"){te(gs(n)===1,"Can't have a priority with additional path components");const d=s.getNode();l=e.serverCache.getNode();const h=aS(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=s.getNode()}else{const d=yt(n);let h;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const f=aS(r,n,s.getNode(),l);f!=null?h=s.getNode().getImmediateChild(c).updateChild(d,f):h=s.getNode().getImmediateChild(c)}else h=YE(r,c,e.serverCache);h!=null?a=t.filter.updateChild(s.getNode(),c,h,d,i,o):a=s.getNode()}}return Bu(e,a,s.isFullyInitialized()||Le(n),t.filter.filtersNodes())}}function em(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const d=s?t.filter:t.filter.getIndexedFilter();if(Le(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{const g=Fe(n);if(!l.isCompleteForPath(n)&&gs(n)>1)return e;const v=yt(n),S=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?c=d.updatePriority(l.getNode(),S):c=d.updateChild(l.getNode(),g,S,v,b2,null)}const h=g2(e,c,l.isFullyInitialized()||Le(n),d.filtersNodes()),f=new XE(i,h,o);return x2(t,h,n,i,f,a)}function X_(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const d=new XE(i,e,o);if(Le(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Bu(e,c,!0,t.filter.filtersNodes());else{const h=Fe(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Bu(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=yt(n),g=a.getNode().getImmediateChild(h);let v;if(Le(f))v=r;else{const _=d.getCompleteChild(h);_!=null?t2(f)===".priority"&&_.getChild(r2(f)).isEmpty()?v=_:v=_.updateChild(f,r):v=tt.EMPTY_NODE}if(g.equals(v))l=e;else{const _=t.filter.updateChild(a.getNode(),h,v,f,d,s);l=Bu(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lS(t,e){return t.eventCache.isCompleteForChild(e)}function D7(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const d=ln(n,l);lS(e,Fe(d))&&(a=X_(t,a,d,c,i,o,s))}),r.foreach((l,c)=>{const d=ln(n,l);lS(e,Fe(d))||(a=X_(t,a,d,c,i,o,s))}),a}function cS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function J_(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Le(n)?c=r:c=new vt(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const g=e.serverCache.getNode().getImmediateChild(h),v=cS(t,g,f);l=em(t,l,new bt(h),v,i,o,s,a)}}),c.children.inorderTraversal((h,f)=>{const g=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!g){const v=e.serverCache.getNode().getImmediateChild(h),_=cS(t,v,f);l=em(t,l,new bt(h),_,i,o,s,a)}}),l}function M7(t,e,n,r,i,o,s){if(Zp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Le(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return em(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Le(n)){let c=new vt(null);return l.getNode().forEachChild(Il,(d,h)=>{c=c.set(new bt(d),h)}),J_(t,e,n,c,i,o,a,s)}else return e}else{let c=new vt(null);return r.foreach((d,h)=>{const f=ln(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),J_(t,e,n,c,i,o,a,s)}}function L7(t,e,n,r,i){const o=e.serverCache,s=g2(e,o.getNode(),o.isFullyInitialized()||Le(n),o.isFiltered());return x2(t,s,n,r,b2,i)}function $7(t,e,n,r,i,o){let s;if(Zp(r,n)!=null)return e;{const a=new XE(r,e,i),l=e.eventCache.getNode();let c;if(Le(n)||Fe(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Y_(r,ga(e));else{const h=e.serverCache.getNode();te(h instanceof tt,"serverChildren would be complete if leaf node"),d=E2(r,h)}d=d,c=t.filter.updateFullNode(l,d,o)}else{const d=Fe(n);let h=YE(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,yt(n),a,o):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,tt.EMPTY_NODE,yt(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Y_(r,ga(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Zp(r,at())!=null,Bu(e,c,s,t.filter.filtersNodes())}}function j7(t,e){const n=ga(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Le(e)&&!n.getImmediateChild(Fe(e)).isEmpty())?n.getChild(e):null}function uS(t,e,n,r){e.type===wi.MERGE&&e.source.queryId!==null&&(te(ga(t.viewCache_),"We should always have a full cache before handling merges"),te(K_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=N7(t.processor_,i,e,n,r);return A7(t.processor_,o.viewCache),te(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,F7(t,o.changes,o.viewCache.eventCache.getNode())}function F7(t,e,n,r){const i=t.eventRegistrations_;return h7(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dS;function V7(t){te(!dS,"__referenceConstructor has already been defined"),dS=t}function JE(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return te(o!=null,"SyncTree gave us an op for an invalid query."),uS(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(uS(s,e,n,r));return o}}function ZE(t,e){let n=null;for(const r of t.views.values())n=n||j7(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hS;function U7(t){te(!hS,"__referenceConstructor has already been defined"),hS=t}class fS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vt(null),this.pendingWriteTree_=I7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function B7(t,e,n,r,i){return g7(t.pendingWriteTree_,e,n,r,i),i?Rg(t,new ma(h2(),e,n)):[]}function fl(t,e,n=!1){const r=v7(t.pendingWriteTree_,e);if(y7(t.pendingWriteTree_,e)){let o=new vt(null);return r.snap!=null?o=o.set(at(),!0):Vr(r.children,s=>{o=o.set(new bt(s),!0)}),Rg(t,new Jp(r.path,o,n))}else return[]}function Ig(t,e,n){return Rg(t,new ma(f2(),e,n))}function z7(t,e,n){const r=vt.fromObject(n);return Rg(t,new Nd(f2(),e,r))}function W7(t,e,n,r){const i=k2(t,r);if(i!=null){const o=P2(i),s=o.path,a=o.queryId,l=Ar(s,e),c=new ma(p2(a),l,n);return A2(t,s,c)}else return[]}function H7(t,e,n,r){const i=k2(t,r);if(i){const o=P2(i),s=o.path,a=o.queryId,l=Ar(s,e),c=vt.fromObject(n),d=new Nd(p2(a),l,c);return A2(t,s,d)}else return[]}function S2(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Ar(s,e),c=ZE(a,l);if(c)return c});return w2(i,e,o,n,!0)}function Rg(t,e){return I2(e,t.syncPointTree_,null,y2(t.pendingWriteTree_,at()))}function I2(t,e,n,r){if(Le(t.path))return R2(t,e,n,r);{const i=e.get(at());n==null&&i!=null&&(n=ZE(i,at()));let o=[];const s=Fe(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,d=T2(r,s);o=o.concat(I2(a,l,c,d))}return i&&(o=o.concat(JE(i,t,r,n))),o}}function R2(t,e,n,r){const i=e.get(at());n==null&&i!=null&&(n=ZE(i,at()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=T2(r,s),d=t.operationForChild(s);d&&(o=o.concat(R2(d,a,l,c)))}),i&&(o=o.concat(JE(i,t,r,n))),o}function k2(t,e){return t.tagToQueryMap.get(e)}function P2(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new bt(t.substr(0,e))}}function A2(t,e,n){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const i=y2(t.pendingWriteTree_,e);return JE(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new eT(n)}node(){return this.node_}}class tT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ln(this.path_,e);return new tT(this.syncTree_,n)}node(){return S2(this.syncTree_,this.path_)}}const q7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pS=function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return K7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return G7(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},K7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},G7=function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Q7=function(t,e,n,r){return nT(e,new tT(n,t),r)},Y7=function(t,e,n){return nT(t,new eT(e),n)};function nT(t,e,n){const r=t.getPriority().val(),i=pS(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=pS(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new nn(a,$n(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new nn(i))),s.forEachChild(jn,(a,l)=>{const c=nT(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function iT(t,e){let n=e instanceof bt?e:new bt(e),r=t,i=Fe(n);for(;i!==null;){const o=Ul(r.node.children,i)||{children:{},childCount:0};r=new rT(i,r,o),n=yt(n),i=Fe(n)}return r}function Sc(t){return t.node.value}function N2(t,e){t.node.value=e,Z_(t)}function O2(t){return t.node.childCount>0}function X7(t){return Sc(t)===void 0&&!O2(t)}function kg(t,e){Vr(t.node.children,(n,r)=>{e(new rT(n,t,r))})}function D2(t,e,n,r){n&&!r&&e(t),kg(t,i=>{D2(i,e,!0,r)}),n&&r&&e(t)}function J7(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ph(t){return new bt(t.parent===null?t.name:ph(t.parent)+"/"+t.name)}function Z_(t){t.parent!==null&&Z7(t.parent,t.name,t)}function Z7(t,e,n){const r=X7(n),i=vo(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Z_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Z_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/[\[\].#$\/\u0000-\u001F\u007F]/,tq=/[\[\].#$\u0000-\u001F\u007F]/,ey=10*1024*1024,M2=function(t){return typeof t=="string"&&t.length!==0&&!eq.test(t)},nq=function(t){return typeof t=="string"&&t.length!==0&&!tq.test(t)},rq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nq(t)},L2=function(t,e,n){const r=n instanceof bt?new L8(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+js(r));if(typeof e=="function")throw new Error(t+"contains a function "+js(r)+" with contents = "+e.toString());if(DO(e))throw new Error(t+"contains "+e.toString()+" "+js(r));if(typeof e=="string"&&e.length>ey/3&&eg(e)>ey)throw new Error(t+"contains a string greater than "+ey+" utf8 bytes "+js(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Vr(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!M2(s)))throw new Error(t+" contains an invalid key ("+s+") "+js(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$8(r,s),L2(t,a,r),j8(r)}),i&&o)throw new Error(t+' contains ".value" child '+js(r)+" in addition to actual children.")}},iq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!M2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rq(n))throw new Error(m5(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sq(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!i2(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ia(t,e,n){sq(t,n),aq(t,r=>ei(r,e)||ei(e,r))}function aq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(lq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Vu&&Ln("event: "+n.toString()),hh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq="repo_interrupt",uq=25;class dq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xp(),this.transactionQueueTree_=new rT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hq(t,e,n){if(t.stats_=WE(t.repoInfo_),t.forceRestClient_||a8())t.server_=new Yp(t.repoInfo_,(r,i,o,s)=>{mS(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_n(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Zi(t.repoInfo_,e,(r,i,o,s)=>{mS(t,r,i,o,s)},r=>{gS(t,r)},r=>{pq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=h8(t.repoInfo_,()=>new d7(t.stats_,t.server_)),t.infoData_=new s7,t.infoSyncTree_=new fS({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ig(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),oT(t,"connected",!1),t.serverSyncTree_=new fS({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Ia(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fq(t){const n=t.infoData_.getNode(new bt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $2(t){return q7({timestamp:fq(t)})}function mS(t,e,n,r,i){t.dataUpdateCount++;const o=new bt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Ap(n,c=>$n(c));s=H7(t.serverSyncTree_,o,l,i)}else{const l=$n(n);s=W7(t.serverSyncTree_,o,l,i)}else if(r){const l=Ap(n,c=>$n(c));s=z7(t.serverSyncTree_,o,l)}else{const l=$n(n);s=Ig(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=aT(t,o)),Ia(t.eventQueue_,a,s)}function gS(t,e){oT(t,"connected",e),e===!1&&gq(t)}function pq(t,e){Vr(e,(n,r)=>{oT(t,n,r)})}function oT(t,e,n){const r=new bt("/.info/"+e),i=$n(n);t.infoData_.updateSnapshot(r,i);const o=Ig(t.infoSyncTree_,r,i);Ia(t.eventQueue_,r,o)}function mq(t){return t.nextWriteId_++}function gq(t){j2(t,"onDisconnectEvents");const e=$2(t),n=Xp();q_(t.onDisconnect_,at(),(i,o)=>{const s=Q7(i,o,t.serverSyncTree_,e);d2(n,i,s)});let r=[];q_(n,at(),(i,o)=>{r=r.concat(Ig(t.serverSyncTree_,i,o));const s=wq(t,i);aT(t,s)}),t.onDisconnect_=Xp(),Ia(t.eventQueue_,at(),r)}function vq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cq)}function j2(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ln(n,...e)}function F2(t,e,n){return S2(t.serverSyncTree_,e,n)||tt.EMPTY_NODE}function sT(t,e=t.transactionQueueTree_){if(e||Pg(t,e),Sc(e)){const n=U2(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&yq(t,ph(e),n)}else O2(e)&&kg(e,n=>{sT(t,n)})}function yq(t,e,n){const r=n.map(c=>c.currentWriteId),i=F2(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const d=n[c];te(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ar(e,d.path);o=o.updateChild(h,d.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{j2(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(fl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Pg(t,iT(t.transactionQueueTree_,e)),sT(t,t.transactionQueueTree_),Ia(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)hh(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{vr("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}aT(t,e)}},s)}function aT(t,e){const n=V2(t,e),r=ph(n),i=U2(t,n);return _q(t,i,r),r}function _q(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ar(n,l.path);let d=!1,h;if(te(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(fl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=uq)d=!0,h="maxretry",i=i.concat(fl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=F2(t,l.path,s);l.currentInputSnapshot=f;const g=e[a].update(f.val());if(g!==void 0){L2("transaction failed: Data returned ",g,l.path);let v=$n(g);typeof g=="object"&&g!=null&&vo(g,".priority")||(v=v.updatePriority(f.getPriority()));const S=l.currentWriteId,y=$2(t),w=Y7(v,f,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=w,l.currentWriteId=mq(t),s.splice(s.indexOf(S),1),i=i.concat(B7(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(fl(t.serverSyncTree_,S,!0))}else d=!0,h="nodata",i=i.concat(fl(t.serverSyncTree_,l.currentWriteId,!0))}Ia(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Pg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)hh(r[a]);sT(t,t.transactionQueueTree_)}function V2(t,e){let n,r=t.transactionQueueTree_;for(n=Fe(e);n!==null&&Sc(r)===void 0;)r=iT(r,n),e=yt(e),n=Fe(e);return r}function U2(t,e){const n=[];return B2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function B2(t,e,n){const r=Sc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kg(e,i=>{B2(t,i,n)})}function Pg(t,e){const n=Sc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,N2(e,n.length>0?n:void 0)}kg(e,r=>{Pg(t,r)})}function wq(t,e){const n=ph(V2(t,e)),r=iT(t.transactionQueueTree_,e);return J7(r,i=>{ty(t,i)}),ty(t,r),D2(r,i=>{ty(t,i)}),n}function ty(t,e){const n=Sc(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(te(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(te(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(fl(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?N2(e,void 0):n.length=o+1,Ia(t.eventQueue_,ph(e),i);for(let s=0;s<r.length;s++)hh(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Tq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vr(`Invalid query segment '${n}' in query '${t}'`)}return e}const vS=function(t,e){const n=Cq(t),r=n.namespace;n.domain==="firebase.com"&&ho(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ho("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ZH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qO(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new bt(n.pathString)}},Cq=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=Eq(t.substring(d,h)));const f=Tq(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Le(this._path)?null:t2(this._path)}get ref(){return new Ic(this._repo,this._path)}get _queryIdentifier(){const e=nS(this._queryParams),n=BE(e);return n==="{}"?"default":n}get _queryObject(){return nS(this._queryParams)}isEqual(e){if(e=Ct(e),!(e instanceof lT))return!1;const n=this._repo===e._repo,r=i2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+M8(this._path)}}class Ic extends lT{constructor(e,n){super(e,n,new GE,!1)}get parent(){const e=r2(this._path);return e===null?null:new Ic(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}V7(Ic);U7(Ic);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="FIREBASE_DATABASE_EMULATOR_HOST",e0={};let xq=!1;function Sq(t,e,n,r){t.repoInfo_=new qO(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Iq(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ho("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ln("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=vS(o,i),a=s.repoInfo,l;typeof process<"u"&&$x&&(l=$x[bq]),l?(o=`http://${l}?ns=${a.namespace}`,s=vS(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new c8(t.name,t.options,e);iq("Invalid Firebase Database URL",s),Le(s.path)||ho("Database URL must point to the root of a Firebase Database (not including a child path).");const d=kq(a,t,c,new l8(t.name,n));return new Pq(d,t)}function Rq(t,e){const n=e0[e];(!n||n[t.key]!==t)&&ho(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vq(t),delete n[t.key]}function kq(t,e,n,r){let i=e0[e.name];i||(i={},e0[e.name]=i);let o=i[t.toURLString()];return o&&ho("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dq(t,xq,n,r),i[t.toURLString()]=o,o}class Pq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ic(this._repo,at())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Rq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ho("Cannot call "+e+" on a deleted database.")}}function Aq(t=ng(),e){const n=Xd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=$w("database");r&&Nq(n,...r)}return n}function Nq(t,e,n,r={}){t=Ct(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ho("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ho('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Kf(Kf.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:Fw(r.mockUserToken,t.app.options.projectId);o=new Kf(s)}Sq(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t){KH(Ts),hs(new io("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Iq(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Or(jx,Fx,t),Or(jx,Fx,"esm2017")}Zi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Oq();const Ro={apiKey:"AIzaSyDokKD80yNPJ98qIyt7ufLfv51ycZ5a_-c",authDomain:"timetrackingwindsurf.firebaseapp.com",databaseURL:"https://timetrackingwindsurf-default-rtdb.europe-west1.firebasedatabase.app",projectId:"timetrackingwindsurf",storageBucket:"timetrackingwindsurf.appspot.com",messagingSenderId:"931541456661",appId:"1:931541456661:web:080921c60c2b154413fb1c"};console.log("Firebase Config:",{apiKey:Ro.apiKey?"present":"missing",authDomain:Ro.authDomain?"present":"missing",projectId:Ro.projectId?"present":"missing",storageBucket:Ro.storageBucket?"present":"missing",messagingSenderId:Ro.messagingSenderId?"present":"missing",appId:Ro.appId?"present":"missing",databaseURL:Ro.databaseURL?"present":"missing"});let Jl;Tb().length?Jl=Tb()[0]:Jl=sA(Ro);const os=Jw(Jl),ut=wW(Jl);PO(Jl);Aq(Jl);var _t=(t=>(t.ADMIN="ADMIN",t.PROJECT_LEADER="PROJECT_LEADER",t.USER="USER",t.READ="READ",t))(_t||{});const Dq={ADMIN:{canManageUsers:!0,canManageProjects:!0,canAddLogs:!0,canRead:!0,description:"Peut tout faire"},PROJECT_LEADER:{canManageUsers:!1,canManageProjects:!0,canAddLogs:!0,canRead:!0,description:"Peut gérer les projets et ajouter des logs"},USER:{canManageUsers:!1,canManageProjects:!1,canAddLogs:!0,canRead:!0,description:"Peut uniquement ajouter des logs"},READ:{canManageUsers:!1,canManageProjects:!1,canAddLogs:!1,canRead:!0,description:"Ne peut faire que de la consultation"}},ji="users",gi={async checkUserExists(t){try{const e=Pi(Kn(ut,ji),Ai("email","==",t));return!(await uo(e)).empty}catch(e){throw console.error("Erreur lors de la vérification de l'existence de l'utilisateur:",e),e}},async createUserInFirestore(t,e,n){try{console.log("Création d'un utilisateur dans Firestore:",{uid:t,email:e,role:n});const r={uid:t,email:e,role:n,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),firstName:"",lastName:""};return await ju(Wn(ut,ji,t),r),console.log("Utilisateur créé dans Firestore avec succès:",r),r}catch(r){throw console.error("Erreur lors de la création de l'utilisateur dans Firestore:",r),r}},async createUser(t,e,n){try{if(console.log("Création d'un nouvel utilisateur:",{email:t,role:n}),await this.checkUserExists(t))throw console.error("Un utilisateur avec cet email existe déjà:",t),new Error("Un utilisateur avec cet email existe déjà");let i,o;if(t==="pierre.thonon@gmail.com"){const c=os.currentUser;if(!c)throw new Error("No authenticated user");i=c.uid}else try{o=(await Qw(os,t,e)).user,i=o.uid,console.log("Utilisateur créé dans Firebase Auth:",{uid:i,email:t})}catch(c){throw console.error("Erreur lors de la création de l'utilisateur dans Firebase Auth:",c),c.code==="auth/email-already-in-use"?new Error("Cet email est déjà utilisé dans Firebase Auth"):c}const s={uid:i,email:t,role:n,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),firstName:"",lastName:""};console.log("Sauvegarde de l'utilisateur dans Firestore:",s),await ju(Wn(ut,ji,i),s);const a=await U_(Wn(ut,ji,i));if(!a.exists())throw console.error("L'utilisateur n'a pas été créé dans Firestore"),new Error("Erreur lors de la création de l'utilisateur");console.log("Utilisateur créé avec succès:",a.data());const l=await this.getAllUsers();return console.log("Liste mise à jour des utilisateurs après création:",l),s}catch(r){throw console.error("Erreur lors de la création de l'utilisateur:",r),r}},async getAllUsers(){try{console.log("Récupération de tous les utilisateurs...");const t=await uo(Kn(ut,ji));console.log("Nombre total d'utilisateurs trouvés:",t.size);const e=t.docs.map(o=>{const s=o.data();return console.log("Document ID:",o.id),console.log("User data complet:",JSON.stringify(s,null,2)),!s.email||!s.role?(console.error("Document utilisateur invalide:",o.id,s),null):{uid:o.id,email:s.email,role:s.role,createdAt:s.createdAt||new Date().toISOString(),lastLogin:s.lastLogin,firstName:s.firstName||"",lastName:s.lastName||"",displayName:s.displayName}}).filter(o=>o!==null),r=e.filter(o=>o.role===_t.ADMIN).length===1,i=e.map(o=>({...o,isLastAdmin:r&&o.role===_t.ADMIN}));return console.log("Liste complète des utilisateurs:",JSON.stringify(i,null,2)),i}catch(t){throw console.error("Erreur lors de la récupération des utilisateurs:",t),t}},async getUserByEmail(t){try{return(await this.getAllUsers()).find(n=>n.email===t)||null}catch(e){throw console.error("Erreur lors de la recherche de l'utilisateur par email:",e),e}},async ensureTestUserExists(){try{const t="thononpierre@yahoo.fr",e=await this.getUserByEmail(t);if(e)console.log("L'utilisateur de test existe déjà:",e);else{console.log("Création de l'utilisateur de test:",t);const n={uid:"test-user-id",email:t,role:_t.USER,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),firstName:"Pierre",lastName:"Thonon"};await ju(Wn(ut,ji,n.uid),n),console.log("Utilisateur de test créé avec succès")}}catch(t){throw console.error("Erreur lors de la création de l'utilisateur de test:",t),t}},async updateUserRole(t,e){try{if(e!==_t.ADMIN){const r=(await this.getAllUsers()).filter(i=>i.role===_t.ADMIN);if(r.length===1&&r[0].uid===t)throw new Error("Cannot change role of the last admin")}await bg(Wn(ut,ji,t),{role:e})}catch(n){throw console.error("Error updating user role:",n),n}},async deleteUser(t){try{const e=await U_(Wn(ut,ji,t));if(!e.exists())throw new Error("User not found");if(e.data().role===_t.ADMIN&&(await this.getAllUsers()).filter(o=>o.role===_t.ADMIN).length===1)throw new Error("Cannot delete the last admin");await uO(Wn(ut,ji,t))}catch(e){throw console.error("Error deleting user:",e),e}}},z2=C.createContext({currentUser:null,userRole:null,loading:!0}),Di=()=>C.useContext(z2),Mq=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(null),[o,s]=C.useState(!0);C.useEffect(()=>os.onAuthStateChanged(async c=>{if(n(c),c&&c.email)try{let h=(await gi.getAllUsers()).find(f=>f.uid===c.uid);c.email==="pierre.thonon@gmail.com"?(i(_t.ADMIN),h||(await gi.createUserInFirestore(c.uid,c.email,_t.ADMIN),h=(await gi.getAllUsers()).find(f=>f.uid===c.uid)),await gi.ensureTestUserExists()):h||(console.log("Création d'un nouvel utilisateur dans Firestore:",c.email),await gi.createUserInFirestore(c.uid,c.email,_t.USER),h=(await gi.getAllUsers()).find(f=>f.uid===c.uid)),i((h==null?void 0:h.role)||null)}catch(d){console.error("Erreur lors de la gestion de l'utilisateur:",d),i(null)}else i(null);s(!1)}),[]);const a={currentUser:e,userRole:r,loading:o};return m.jsx(z2.Provider,{value:a,children:!o&&t})};function he(t){return CV(t)}function Lq(t){return ue("MuiSvgIcon",t)}ae("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $q=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jq=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${z(e)}`,`fontSize${z(n)}`]};return de(i,Lq,r)},Fq=K("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${z(n.color)}`],e[`fontSize${z(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,c,d,h,f,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),t0=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,g=Y(r,$q),v=C.isValidElement(i)&&i.type==="svg",_=R({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:v}),S={};d||(S.viewBox=f);const y=jq(_);return m.jsxs(Fq,R({as:a,className:Z(y.root,o),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},S,g,v&&i.props,{ownerState:_,children:[v?i.props.children:i,h?m.jsx("title",{children:h}):null]}))});t0.muiName="SvgIcon";function Sn(t,e){function n(r,i){return m.jsx(t0,R({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=t0.muiName,C.memo(C.forwardRef(n))}const Vq={configure:t=>{Sw.configure(t)}},Uq=Object.freeze(Object.defineProperty({__proto__:null,capitalize:z,createChainedFunction:u_,createSvgIcon:Sn,debounce:kw,deprecatedPropType:eV,isMuiElement:Nu,ownerDocument:tn,ownerWindow:us,requirePropFactory:tV,setRef:xp,unstable_ClassNameGenerator:Vq,unstable_useEnhancedEffect:jr,unstable_useId:Kd,unsupportedProp:rV,useControlled:Sp,useEventCallback:Pr,useForkRef:Tt,useIsFocusVisible:Jm},Symbol.toStringTag,{value:"Module"}));function n0(t,e){return n0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},n0(t,e)}function W2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n0(t,e)}const yS={disabled:!1},tm=an.createContext(null);var Bq=function(e){return e.scrollTop},Eu="unmounted",Fs="exited",Vs="entering",Ya="entered",r0="exiting",ci=function(t){W2(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Fs,o.appearStatus=Vs):l=Ya:r.unmountOnExit||r.mountOnEnter?l=Eu:l=Fs,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Eu?{status:Fs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Vs&&s!==Ya&&(o=Vs):(s===Vs||s===Ya)&&(o=r0)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Vs){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Zh.findDOMNode(this);s&&Bq(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fs&&this.setState({status:Eu})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Zh.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!s||yS.disabled){this.safeSetState({status:Ya},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Vs},function(){o.props.onEntering(c,d),o.onTransitionEnd(f,function(){o.safeSetState({status:Ya},function(){o.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Zh.findDOMNode(this);if(!o||yS.disabled){this.safeSetState({status:Fs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:r0},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Fs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Zh.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Eu)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Y(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return an.createElement(tm.Provider,{value:null},typeof s=="function"?s(i,a):an.cloneElement(an.Children.only(s),a))},e}(an.Component);ci.contextType=tm;ci.propTypes={};function qa(){}ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qa,onEntering:qa,onEntered:qa,onExit:qa,onExiting:qa,onExited:qa};ci.UNMOUNTED=Eu;ci.EXITED=Fs;ci.ENTERING=Vs;ci.ENTERED=Ya;ci.EXITING=r0;function zq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cT(t,e){var n=function(o){return e&&C.isValidElement(o)?e(o):o},r=Object.create(null);return t&&C.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Wq(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function qs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Hq(t,e){return cT(t.children,function(n){return C.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:qs(n,"appear",t),enter:qs(n,"enter",t),exit:qs(n,"exit",t)})})}function qq(t,e,n){var r=cT(t.children),i=Wq(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(C.isValidElement(s)){var a=o in e,l=o in r,c=e[o],d=C.isValidElement(c)&&!c.props.in;l&&(!a||d)?i[o]=C.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:qs(s,"exit",t),enter:qs(s,"enter",t)}):!l&&a&&!d?i[o]=C.cloneElement(s,{in:!1}):l&&a&&C.isValidElement(c)&&(i[o]=C.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:qs(s,"exit",t),enter:qs(s,"enter",t)}))}}),i}var Kq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Gq={component:"div",childFactory:function(e){return e}},uT=function(t){W2(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(zq(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Hq(i,a):qq(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=cT(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=R({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Y(i,["component","childFactory"]),l=this.state.contextValue,c=Kq(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?an.createElement(tm.Provider,{value:l},c):an.createElement(tm.Provider,{value:l},an.createElement(o,a,c))},e}(an.Component);uT.propTypes={};uT.defaultProps=Gq;const H2=t=>t.scrollTop;function Zl(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function Qq(t){return ue("MuiCollapse",t)}ae("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Yq=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Xq=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return de(r,Qq,n)},Jq=K("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>R({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&R({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),Zq=K("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>R({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),eK=K("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>R({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),i0=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:d,onEnter:h,onEntered:f,onEntering:g,onExit:v,onExited:_,onExiting:S,orientation:y="vertical",style:w,timeout:E=WP.standard,TransitionComponent:I=ci}=r,N=Y(r,Yq),M=R({},r,{orientation:y,collapsedSize:a}),x=Xq(M),b=Ea(),k=Uo(),P=C.useRef(null),D=C.useRef(),L=typeof a=="number"?`${a}px`:a,A=y==="horizontal",B=A?"width":"height",q=C.useRef(null),W=Tt(n,q),F=ee=>we=>{if(ee){const Se=q.current;we===void 0?ee(Se):ee(Se,we)}},$=()=>P.current?P.current[A?"clientWidth":"clientHeight"]:0,U=F((ee,we)=>{P.current&&A&&(P.current.style.position="absolute"),ee.style[B]=L,h&&h(ee,we)}),X=F((ee,we)=>{const Se=$();P.current&&A&&(P.current.style.position="");const{duration:Ie,easing:Qe}=Zl({style:w,timeout:E,easing:c},{mode:"enter"});if(E==="auto"){const ve=b.transitions.getAutoHeightDuration(Se);ee.style.transitionDuration=`${ve}ms`,D.current=ve}else ee.style.transitionDuration=typeof Ie=="string"?Ie:`${Ie}ms`;ee.style[B]=`${Se}px`,ee.style.transitionTimingFunction=Qe,g&&g(ee,we)}),se=F((ee,we)=>{ee.style[B]="auto",f&&f(ee,we)}),oe=F(ee=>{ee.style[B]=`${$()}px`,v&&v(ee)}),fe=F(_),le=F(ee=>{const we=$(),{duration:Se,easing:Ie}=Zl({style:w,timeout:E,easing:c},{mode:"exit"});if(E==="auto"){const Qe=b.transitions.getAutoHeightDuration(we);ee.style.transitionDuration=`${Qe}ms`,D.current=Qe}else ee.style.transitionDuration=typeof Se=="string"?Se:`${Se}ms`;ee.style[B]=L,ee.style.transitionTimingFunction=Ie,S&&S(ee)}),_e=ee=>{E==="auto"&&k.start(D.current||0,ee),i&&i(q.current,ee)};return m.jsx(I,R({in:d,onEnter:U,onEntered:se,onEntering:X,onExit:oe,onExited:fe,onExiting:le,addEndListener:_e,nodeRef:q,timeout:E==="auto"?null:E},N,{children:(ee,we)=>m.jsx(Jq,R({as:l,className:Z(x.root,s,{entered:x.entered,exited:!d&&L==="0px"&&x.hidden}[ee]),style:R({[A?"minWidth":"minHeight"]:L},w),ref:W},we,{ownerState:R({},M,{state:ee}),children:m.jsx(Zq,{ownerState:R({},M,{state:ee}),className:x.wrapper,ref:P,children:m.jsx(eK,{ownerState:R({},M,{state:ee}),className:x.wrapperInner,children:o})})}))}))});i0.muiSupportAuto=!0;function tK(t){return ue("MuiPaper",t)}ae("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const nK=["className","component","elevation","square","variant"],rK=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return de(o,tK,i)},iK=K("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return R({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&R({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${je("#fff",pb(e.elevation))}, ${je("#fff",pb(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Cn=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=Y(r,nK),d=R({},r,{component:o,elevation:s,square:a,variant:l}),h=rK(d);return m.jsx(iK,R({as:o,ownerState:d,className:Z(h.root,i),ref:n},c))}),oK=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],sK=["component","slots","slotProps"],aK=["component"];function o0(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=Y(e,oK),{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0}}=o,f=Y(o,sK),g=d[t]||r,v=NP(h[t],i),_=AP(R({className:n},l,{externalForwardedProps:t==="root"?f:void 0,externalSlotProps:v})),{props:{component:S},internalRef:y}=_,w=Y(_.props,aK),E=Tt(y,v==null?void 0:v.ref,e.ref),I=s?s(w):{},N=R({},i,I),M=t==="root"?S||c:S,x=ul(g,R({},t==="root"&&!c&&!d[t]&&a,t!=="root"&&!d[t]&&a,w,M&&{as:M},{ref:E}),N);return Object.keys(I).forEach(b=>{delete x[b]}),[g,x]}function lK(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[d,h]=C.useState(!1),f=Z(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},v=Z(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&h(!0),C.useEffect(()=>{if(!a&&l!=null){const _=setTimeout(l,c);return()=>{clearTimeout(_)}}},[l,a,c]),m.jsx("span",{className:f,style:g,children:m.jsx("span",{className:v})})}const xr=ae("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cK=["center","classes","className"];let Ag=t=>t,_S,wS,ES,TS;const s0=550,uK=80,dK=go(_S||(_S=Ag`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),hK=go(wS||(wS=Ag`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),fK=go(ES||(ES=Ag`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),pK=K("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),mK=K(lK,{name:"MuiTouchRipple",slot:"Ripple"})(TS||(TS=Ag`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xr.rippleVisible,dK,s0,({theme:t})=>t.transitions.easing.easeInOut,xr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,xr.child,xr.childLeaving,hK,s0,({theme:t})=>t.transitions.easing.easeInOut,xr.childPulsate,fK,({theme:t})=>t.transitions.easing.easeInOut),gK=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=Y(r,cK),[l,c]=C.useState([]),d=C.useRef(0),h=C.useRef(null);C.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=C.useRef(!1),g=Uo(),v=C.useRef(null),_=C.useRef(null),S=C.useCallback(I=>{const{pulsate:N,rippleX:M,rippleY:x,rippleSize:b,cb:k}=I;c(P=>[...P,m.jsx(mK,{classes:{ripple:Z(o.ripple,xr.ripple),rippleVisible:Z(o.rippleVisible,xr.rippleVisible),ripplePulsate:Z(o.ripplePulsate,xr.ripplePulsate),child:Z(o.child,xr.child),childLeaving:Z(o.childLeaving,xr.childLeaving),childPulsate:Z(o.childPulsate,xr.childPulsate)},timeout:s0,pulsate:N,rippleX:M,rippleY:x,rippleSize:b},d.current)]),d.current+=1,h.current=k},[o]),y=C.useCallback((I={},N={},M=()=>{})=>{const{pulsate:x=!1,center:b=i||N.pulsate,fakeElement:k=!1}=N;if((I==null?void 0:I.type)==="mousedown"&&f.current){f.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(f.current=!0);const P=k?null:_.current,D=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,A,B;if(b||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)L=Math.round(D.width/2),A=Math.round(D.height/2);else{const{clientX:q,clientY:W}=I.touches&&I.touches.length>0?I.touches[0]:I;L=Math.round(q-D.left),A=Math.round(W-D.top)}if(b)B=Math.sqrt((2*D.width**2+D.height**2)/3),B%2===0&&(B+=1);else{const q=Math.max(Math.abs((P?P.clientWidth:0)-L),L)*2+2,W=Math.max(Math.abs((P?P.clientHeight:0)-A),A)*2+2;B=Math.sqrt(q**2+W**2)}I!=null&&I.touches?v.current===null&&(v.current=()=>{S({pulsate:x,rippleX:L,rippleY:A,rippleSize:B,cb:M})},g.start(uK,()=>{v.current&&(v.current(),v.current=null)})):S({pulsate:x,rippleX:L,rippleY:A,rippleSize:B,cb:M})},[i,S,g]),w=C.useCallback(()=>{y({},{pulsate:!0})},[y]),E=C.useCallback((I,N)=>{if(g.clear(),(I==null?void 0:I.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{E(I,N)});return}v.current=null,c(M=>M.length>0?M.slice(1):M),h.current=N},[g]);return C.useImperativeHandle(n,()=>({pulsate:w,start:y,stop:E}),[w,y,E]),m.jsx(pK,R({className:Z(xr.root,o.root,s),ref:_},a,{children:m.jsx(uT,{component:null,exit:!0,children:l})}))});function vK(t){return ue("MuiButtonBase",t)}const yK=ae("MuiButtonBase",["root","disabled","focusVisible"]),_K=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wK=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=de({root:["root",e&&"disabled",n&&"focusVisible"]},vK,i);return n&&r&&(s.root+=` ${r}`),s},EK=K("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yK.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ec=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:g="a",onBlur:v,onClick:_,onContextMenu:S,onDragLeave:y,onFocus:w,onFocusVisible:E,onKeyDown:I,onKeyUp:N,onMouseDown:M,onMouseLeave:x,onMouseUp:b,onTouchEnd:k,onTouchMove:P,onTouchStart:D,tabIndex:L=0,TouchRippleProps:A,touchRippleRef:B,type:q}=r,W=Y(r,_K),F=C.useRef(null),$=C.useRef(null),U=Tt($,B),{isFocusVisibleRef:X,onFocus:se,onBlur:oe,ref:fe}=Jm(),[le,_e]=C.useState(!1);c&&le&&_e(!1),C.useImperativeHandle(i,()=>({focusVisible:()=>{_e(!0),F.current.focus()}}),[]);const[ee,we]=C.useState(!1);C.useEffect(()=>{we(!0)},[]);const Se=ee&&!d&&!c;C.useEffect(()=>{le&&f&&!d&&ee&&$.current.pulsate()},[d,f,le,ee]);function Ie(pe,At,Kr=h){return Pr(hn=>(At&&At(hn),!Kr&&$.current&&$.current[pe](hn),!0))}const Qe=Ie("start",M),ve=Ie("stop",S),Ye=Ie("stop",y),Ce=Ie("stop",b),Pe=Ie("stop",pe=>{le&&pe.preventDefault(),x&&x(pe)}),ke=Ie("start",D),dn=Ie("stop",k),Yt=Ie("stop",P),Pt=Ie("stop",pe=>{oe(pe),X.current===!1&&_e(!1),v&&v(pe)},!1),Xt=Pr(pe=>{F.current||(F.current=pe.currentTarget),se(pe),X.current===!0&&(_e(!0),E&&E(pe)),w&&w(pe)}),st=()=>{const pe=F.current;return l&&l!=="button"&&!(pe.tagName==="A"&&pe.href)},Ue=C.useRef(!1),Jt=Pr(pe=>{f&&!Ue.current&&le&&$.current&&pe.key===" "&&(Ue.current=!0,$.current.stop(pe,()=>{$.current.start(pe)})),pe.target===pe.currentTarget&&st()&&pe.key===" "&&pe.preventDefault(),I&&I(pe),pe.target===pe.currentTarget&&st()&&pe.key==="Enter"&&!c&&(pe.preventDefault(),_&&_(pe))}),pt=Pr(pe=>{f&&pe.key===" "&&$.current&&le&&!pe.defaultPrevented&&(Ue.current=!1,$.current.stop(pe,()=>{$.current.pulsate(pe)})),N&&N(pe),_&&pe.target===pe.currentTarget&&st()&&pe.key===" "&&!pe.defaultPrevented&&_(pe)});let Me=l;Me==="button"&&(W.href||W.to)&&(Me=g);const zt={};Me==="button"?(zt.type=q===void 0?"button":q,zt.disabled=c):(!W.href&&!W.to&&(zt.role="button"),c&&(zt["aria-disabled"]=c));const Be=Tt(n,fe,F),Xe=R({},r,{centerRipple:o,component:l,disabled:c,disableRipple:d,disableTouchRipple:h,focusRipple:f,tabIndex:L,focusVisible:le}),Ne=wK(Xe);return m.jsxs(EK,R({as:Me,className:Z(Ne.root,a),ownerState:Xe,onBlur:Pt,onClick:_,onContextMenu:ve,onFocus:Xt,onKeyDown:Jt,onKeyUp:pt,onMouseDown:Qe,onMouseLeave:Pe,onMouseUp:Ce,onDragLeave:Ye,onTouchEnd:dn,onTouchMove:Yt,onTouchStart:ke,ref:Be,tabIndex:c?-1:L,type:q},zt,W,{children:[s,Se?m.jsx(gK,R({ref:U,center:o},A)):null]}))});function TK(t){return ue("MuiAlert",t)}const CS=ae("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function CK(t){return ue("MuiIconButton",t)}const bK=ae("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),xK=["edge","children","className","color","disabled","disableFocusRipple","size"],SK=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${z(r)}`,i&&`edge${z(i)}`,`size${z(o)}`]};return de(s,CK,e)},IK=K(ec,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${z(n.color)}`],n.edge&&e[`edge${z(n.edge)}`],e[`size${z(n.size)}`]]}})(({theme:t,ownerState:e})=>R({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:je(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return R({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&R({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":R({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:je(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${bK.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),ii=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium"}=r,h=Y(r,xK),f=R({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:d}),g=SK(f);return m.jsx(IK,R({className:Z(g.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},h,{ownerState:f,children:o}))}),RK=Sn(m.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),kK=Sn(m.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),PK=Sn(m.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),AK=Sn(m.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),NK=Sn(m.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),OK=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],DK=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${z(n||r)}`,`${e}${z(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return de(o,TK,i)},MK=K(Cn,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${z(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?vd:yd,n=t.palette.mode==="light"?yd:vd;return R({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${CS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${CS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:R({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),LK=K("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),$K=K("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),bS=K("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),xS={success:m.jsx(RK,{fontSize:"inherit"}),warning:m.jsx(kK,{fontSize:"inherit"}),error:m.jsx(PK,{fontSize:"inherit"}),info:m.jsx(AK,{fontSize:"inherit"})},tc=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:l,components:c={},componentsProps:d={},icon:h,iconMapping:f=xS,onClose:g,role:v="alert",severity:_="success",slotProps:S={},slots:y={},variant:w="standard"}=r,E=Y(r,OK),I=R({},r,{color:l,severity:_,variant:w,colorSeverity:l||_}),N=DK(I),M={slots:R({closeButton:c.CloseButton,closeIcon:c.CloseIcon},y),slotProps:R({},d,S)},[x,b]=o0("closeButton",{elementType:ii,externalForwardedProps:M,ownerState:I}),[k,P]=o0("closeIcon",{elementType:NK,externalForwardedProps:M,ownerState:I});return m.jsxs(MK,R({role:v,elevation:0,ownerState:I,className:Z(N.root,s),ref:n},E,{children:[h!==!1?m.jsx(LK,{ownerState:I,className:N.icon,children:h||f[_]||xS[_]}):null,m.jsx($K,{ownerState:I,className:N.message,children:o}),i!=null?m.jsx(bS,{ownerState:I,className:N.action,children:i}):null,i==null&&g?m.jsx(bS,{ownerState:I,className:N.action,children:m.jsx(x,R({size:"small","aria-label":a,title:a,color:"inherit",onClick:g},b,{children:m.jsx(k,R({fontSize:"small"},P))}))}):null]}))});function jK(t){return ue("MuiTypography",t)}ae("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const FK=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],VK=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${z(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return de(a,jK,s)},UK=K("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${z(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>R({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),SS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},BK={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},zK=t=>BK[t]||t,ge=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTypography"}),i=zK(r.color),o=qd(R({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:h=!1,variant:f="body1",variantMapping:g=SS}=o,v=Y(o,FK),_=R({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:d,paragraph:h,variant:f,variantMapping:g}),S=l||(h?"p":g[f]||SS[f])||"span",y=VK(_);return m.jsx(UK,R({as:S,ref:n,ownerState:_,className:Z(y.root,a)},v))});function WK(t){return ue("MuiAppBar",t)}ae("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const HK=["className","color","enableColorOnDark","position"],qK=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${z(e)}`,`position${z(n)}`]};return de(i,WK,r)},ff=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,KK=K(Cn,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${z(n.position)}`],e[`color${z(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return R({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&R({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&R({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&R({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:ff(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:ff(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:ff(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:ff(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),GK=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,l=Y(r,HK),c=R({},r,{color:o,position:a,enableColorOnDark:s}),d=qK(c);return m.jsx(KK,R({square:!0,component:"header",ownerState:c,elevation:4,className:Z(d.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))});var dT={};Object.defineProperty(dT,"__esModule",{value:!0});var q2=dT.default=void 0,QK=XK(C),YK=HP;function K2(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(K2=function(r){return r?n:e})(t)}function XK(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=K2(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function JK(t){return Object.keys(t).length===0}function ZK(t=null){const e=QK.useContext(YK.ThemeContext);return!e||JK(e)?t:e}q2=dT.default=ZK;var ir="top",Ur="bottom",Br="right",or="left",hT="auto",mh=[ir,Ur,Br,or],nc="start",Od="end",eG="clippingParents",G2="viewport",iu="popper",tG="reference",IS=mh.reduce(function(t,e){return t.concat([e+"-"+nc,e+"-"+Od])},[]),Q2=[].concat(mh,[hT]).reduce(function(t,e){return t.concat([e,e+"-"+nc,e+"-"+Od])},[]),nG="beforeRead",rG="read",iG="afterRead",oG="beforeMain",sG="main",aG="afterMain",lG="beforeWrite",cG="write",uG="afterWrite",dG=[nG,rG,iG,oG,sG,aG,lG,cG,uG];function Ni(t){return t?(t.nodeName||"").toLowerCase():null}function _r(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function va(t){var e=_r(t).Element;return t instanceof e||t instanceof Element}function Mr(t){var e=_r(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fT(t){if(typeof ShadowRoot>"u")return!1;var e=_r(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hG(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Mr(o)||!Ni(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function fG(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Mr(i)||!Ni(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const pG={name:"applyStyles",enabled:!0,phase:"write",fn:hG,effect:fG,requires:["computeStyles"]};function Ri(t){return t.split("-")[0]}var ea=Math.max,nm=Math.min,rc=Math.round;function a0(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Y2(){return!/^((?!chrome|android).)*safari/i.test(a0())}function ic(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Mr(t)&&(i=t.offsetWidth>0&&rc(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&rc(r.height)/t.offsetHeight||1);var s=va(t)?_r(t):window,a=s.visualViewport,l=!Y2()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,f=r.height/o;return{width:h,height:f,top:d,right:c+h,bottom:d+f,left:c,x:c,y:d}}function pT(t){var e=ic(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function X2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&fT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fo(t){return _r(t).getComputedStyle(t)}function mG(t){return["table","td","th"].indexOf(Ni(t))>=0}function xs(t){return((va(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ng(t){return Ni(t)==="html"?t:t.assignedSlot||t.parentNode||(fT(t)?t.host:null)||xs(t)}function RS(t){return!Mr(t)||fo(t).position==="fixed"?null:t.offsetParent}function gG(t){var e=/firefox/i.test(a0()),n=/Trident/i.test(a0());if(n&&Mr(t)){var r=fo(t);if(r.position==="fixed")return null}var i=Ng(t);for(fT(i)&&(i=i.host);Mr(i)&&["html","body"].indexOf(Ni(i))<0;){var o=fo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function gh(t){for(var e=_r(t),n=RS(t);n&&mG(n)&&fo(n).position==="static";)n=RS(n);return n&&(Ni(n)==="html"||Ni(n)==="body"&&fo(n).position==="static")?e:n||gG(t)||e}function mT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Wu(t,e,n){return ea(t,nm(e,n))}function vG(t,e,n){var r=Wu(t,e,n);return r>n?n:r}function J2(){return{top:0,right:0,bottom:0,left:0}}function Z2(t){return Object.assign({},J2(),t)}function eD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var yG=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Z2(typeof e!="number"?e:eD(e,mh))};function _G(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ri(n.placement),l=mT(a),c=[or,Br].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var h=yG(i.padding,n),f=pT(o),g=l==="y"?ir:or,v=l==="y"?Ur:Br,_=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],S=s[l]-n.rects.reference[l],y=gh(o),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,E=_/2-S/2,I=h[g],N=w-f[d]-h[v],M=w/2-f[d]/2+E,x=Wu(I,M,N),b=l;n.modifiersData[r]=(e={},e[b]=x,e.centerOffset=x-M,e)}}function wG(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||X2(e.elements.popper,i)&&(e.elements.arrow=i))}const EG={name:"arrow",enabled:!0,phase:"main",fn:_G,effect:wG,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oc(t){return t.split("-")[1]}var TG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CG(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:rc(n*i)/i||0,y:rc(r*i)/i||0}}function kS(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=s.x,g=f===void 0?0:f,v=s.y,_=v===void 0?0:v,S=typeof d=="function"?d({x:g,y:_}):{x:g,y:_};g=S.x,_=S.y;var y=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),E=or,I=ir,N=window;if(c){var M=gh(n),x="clientHeight",b="clientWidth";if(M===_r(n)&&(M=xs(n),fo(M).position!=="static"&&a==="absolute"&&(x="scrollHeight",b="scrollWidth")),M=M,i===ir||(i===or||i===Br)&&o===Od){I=Ur;var k=h&&M===N&&N.visualViewport?N.visualViewport.height:M[x];_-=k-r.height,_*=l?1:-1}if(i===or||(i===ir||i===Ur)&&o===Od){E=Br;var P=h&&M===N&&N.visualViewport?N.visualViewport.width:M[b];g-=P-r.width,g*=l?1:-1}}var D=Object.assign({position:a},c&&TG),L=d===!0?CG({x:g,y:_},_r(n)):{x:g,y:_};if(g=L.x,_=L.y,l){var A;return Object.assign({},D,(A={},A[I]=w?"0":"",A[E]=y?"0":"",A.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",A))}return Object.assign({},D,(e={},e[I]=w?_+"px":"",e[E]=y?g+"px":"",e.transform="",e))}function bG(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ri(e.placement),variation:oc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,kS(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,kS(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bG,data:{}};var pf={passive:!0};function SG(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=_r(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",n.update,pf)}),a&&l.addEventListener("resize",n.update,pf),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",n.update,pf)}),a&&l.removeEventListener("resize",n.update,pf)}}const IG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SG,data:{}};var RG={left:"right",right:"left",bottom:"top",top:"bottom"};function Gf(t){return t.replace(/left|right|bottom|top/g,function(e){return RG[e]})}var kG={start:"end",end:"start"};function PS(t){return t.replace(/start|end/g,function(e){return kG[e]})}function gT(t){var e=_r(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vT(t){return ic(xs(t)).left+gT(t).scrollLeft}function PG(t,e){var n=_r(t),r=xs(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Y2();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+vT(t),y:l}}function AG(t){var e,n=xs(t),r=gT(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ea(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ea(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+vT(t),l=-r.scrollTop;return fo(i||n).direction==="rtl"&&(a+=ea(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function yT(t){var e=fo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function tD(t){return["html","body","#document"].indexOf(Ni(t))>=0?t.ownerDocument.body:Mr(t)&&yT(t)?t:tD(Ng(t))}function Hu(t,e){var n;e===void 0&&(e=[]);var r=tD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=_r(r),s=i?[o].concat(o.visualViewport||[],yT(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Hu(Ng(s)))}function l0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function NG(t,e){var n=ic(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function AS(t,e,n){return e===G2?l0(PG(t,n)):va(e)?NG(e,n):l0(AG(xs(t)))}function OG(t){var e=Hu(Ng(t)),n=["absolute","fixed"].indexOf(fo(t).position)>=0,r=n&&Mr(t)?gh(t):t;return va(r)?e.filter(function(i){return va(i)&&X2(i,r)&&Ni(i)!=="body"}):[]}function DG(t,e,n,r){var i=e==="clippingParents"?OG(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var d=AS(t,c,r);return l.top=ea(d.top,l.top),l.right=nm(d.right,l.right),l.bottom=nm(d.bottom,l.bottom),l.left=ea(d.left,l.left),l},AS(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function nD(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ri(r):null,o=r?oc(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ir:l={x:s,y:e.y-n.height};break;case Ur:l={x:s,y:e.y+e.height};break;case Br:l={x:e.x+e.width,y:a};break;case or:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?mT(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case nc:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Od:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function Dd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?eG:a,c=n.rootBoundary,d=c===void 0?G2:c,h=n.elementContext,f=h===void 0?iu:h,g=n.altBoundary,v=g===void 0?!1:g,_=n.padding,S=_===void 0?0:_,y=Z2(typeof S!="number"?S:eD(S,mh)),w=f===iu?tG:iu,E=t.rects.popper,I=t.elements[v?w:f],N=DG(va(I)?I:I.contextElement||xs(t.elements.popper),l,d,s),M=ic(t.elements.reference),x=nD({reference:M,element:E,strategy:"absolute",placement:i}),b=l0(Object.assign({},E,x)),k=f===iu?b:M,P={top:N.top-k.top+y.top,bottom:k.bottom-N.bottom+y.bottom,left:N.left-k.left+y.left,right:k.right-N.right+y.right},D=t.modifiersData.offset;if(f===iu&&D){var L=D[i];Object.keys(P).forEach(function(A){var B=[Br,Ur].indexOf(A)>=0?1:-1,q=[ir,Ur].indexOf(A)>=0?"y":"x";P[A]+=L[q]*B})}return P}function MG(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Q2:l,d=oc(r),h=d?a?IS:IS.filter(function(v){return oc(v)===d}):mh,f=h.filter(function(v){return c.indexOf(v)>=0});f.length===0&&(f=h);var g=f.reduce(function(v,_){return v[_]=Dd(t,{placement:_,boundary:i,rootBoundary:o,padding:s})[Ri(_)],v},{});return Object.keys(g).sort(function(v,_){return g[v]-g[_]})}function LG(t){if(Ri(t)===hT)return[];var e=Gf(t);return[PS(t),e,PS(e)]}function $G(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,_=n.allowedAutoPlacements,S=e.options.placement,y=Ri(S),w=y===S,E=l||(w||!v?[Gf(S)]:LG(S)),I=[S].concat(E).reduce(function(le,_e){return le.concat(Ri(_e)===hT?MG(e,{placement:_e,boundary:d,rootBoundary:h,padding:c,flipVariations:v,allowedAutoPlacements:_}):_e)},[]),N=e.rects.reference,M=e.rects.popper,x=new Map,b=!0,k=I[0],P=0;P<I.length;P++){var D=I[P],L=Ri(D),A=oc(D)===nc,B=[ir,Ur].indexOf(L)>=0,q=B?"width":"height",W=Dd(e,{placement:D,boundary:d,rootBoundary:h,altBoundary:f,padding:c}),F=B?A?Br:or:A?Ur:ir;N[q]>M[q]&&(F=Gf(F));var $=Gf(F),U=[];if(o&&U.push(W[L]<=0),a&&U.push(W[F]<=0,W[$]<=0),U.every(function(le){return le})){k=D,b=!1;break}x.set(D,U)}if(b)for(var X=v?3:1,se=function(_e){var ee=I.find(function(we){var Se=x.get(we);if(Se)return Se.slice(0,_e).every(function(Ie){return Ie})});if(ee)return k=ee,"break"},oe=X;oe>0;oe--){var fe=se(oe);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const jG={name:"flip",enabled:!0,phase:"main",fn:$G,requiresIfExists:["offset"],data:{_skip:!1}};function NS(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function OS(t){return[ir,Br,Ur,or].some(function(e){return t[e]>=0})}function FG(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Dd(e,{elementContext:"reference"}),a=Dd(e,{altBoundary:!0}),l=NS(s,r),c=NS(a,i,o),d=OS(l),h=OS(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const VG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FG};function UG(t,e,n){var r=Ri(t),i=[or,ir].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[or,Br].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function BG(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Q2.reduce(function(d,h){return d[h]=UG(h,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const zG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:BG};function WG(t){var e=t.state,n=t.name;e.modifiersData[n]=nD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const HG={name:"popperOffsets",enabled:!0,phase:"read",fn:WG,data:{}};function qG(t){return t==="x"?"y":"x"}function KG(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,g=f===void 0?!0:f,v=n.tetherOffset,_=v===void 0?0:v,S=Dd(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),y=Ri(e.placement),w=oc(e.placement),E=!w,I=mT(y),N=qG(I),M=e.modifiersData.popperOffsets,x=e.rects.reference,b=e.rects.popper,k=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,P=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(M){if(o){var A,B=I==="y"?ir:or,q=I==="y"?Ur:Br,W=I==="y"?"height":"width",F=M[I],$=F+S[B],U=F-S[q],X=g?-b[W]/2:0,se=w===nc?x[W]:b[W],oe=w===nc?-b[W]:-x[W],fe=e.elements.arrow,le=g&&fe?pT(fe):{width:0,height:0},_e=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:J2(),ee=_e[B],we=_e[q],Se=Wu(0,x[W],le[W]),Ie=E?x[W]/2-X-Se-ee-P.mainAxis:se-Se-ee-P.mainAxis,Qe=E?-x[W]/2+X+Se+we+P.mainAxis:oe+Se+we+P.mainAxis,ve=e.elements.arrow&&gh(e.elements.arrow),Ye=ve?I==="y"?ve.clientTop||0:ve.clientLeft||0:0,Ce=(A=D==null?void 0:D[I])!=null?A:0,Pe=F+Ie-Ce-Ye,ke=F+Qe-Ce,dn=Wu(g?nm($,Pe):$,F,g?ea(U,ke):U);M[I]=dn,L[I]=dn-F}if(a){var Yt,Pt=I==="x"?ir:or,Xt=I==="x"?Ur:Br,st=M[N],Ue=N==="y"?"height":"width",Jt=st+S[Pt],pt=st-S[Xt],Me=[ir,or].indexOf(y)!==-1,zt=(Yt=D==null?void 0:D[N])!=null?Yt:0,Be=Me?Jt:st-x[Ue]-b[Ue]-zt+P.altAxis,Xe=Me?st+x[Ue]+b[Ue]-zt-P.altAxis:pt,Ne=g&&Me?vG(Be,st,Xe):Wu(g?Be:Jt,st,g?Xe:pt);M[N]=Ne,L[N]=Ne-st}e.modifiersData[r]=L}}const GG={name:"preventOverflow",enabled:!0,phase:"main",fn:KG,requiresIfExists:["offset"]};function QG(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function YG(t){return t===_r(t)||!Mr(t)?gT(t):QG(t)}function XG(t){var e=t.getBoundingClientRect(),n=rc(e.width)/t.offsetWidth||1,r=rc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function JG(t,e,n){n===void 0&&(n=!1);var r=Mr(e),i=Mr(e)&&XG(e),o=xs(e),s=ic(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ni(e)!=="body"||yT(o))&&(a=YG(e)),Mr(e)?(l=ic(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=vT(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ZG(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function eQ(t){var e=ZG(t);return dG.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function tQ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nQ(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var DS={placement:"bottom",modifiers:[],strategy:"absolute"};function MS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rQ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?DS:i;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},DS,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,g={state:d,setOptions:function(y){var w=typeof y=="function"?y(d.options):y;_(),d.options=Object.assign({},o,d.options,w),d.scrollParents={reference:va(a)?Hu(a):a.contextElement?Hu(a.contextElement):[],popper:Hu(l)};var E=eQ(nQ([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(I){return I.enabled}),v(),g.update()},forceUpdate:function(){if(!f){var y=d.elements,w=y.reference,E=y.popper;if(MS(w,E)){d.rects={reference:JG(w,gh(E),d.options.strategy==="fixed"),popper:pT(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var I=0;I<d.orderedModifiers.length;I++){if(d.reset===!0){d.reset=!1,I=-1;continue}var N=d.orderedModifiers[I],M=N.fn,x=N.options,b=x===void 0?{}:x,k=N.name;typeof M=="function"&&(d=M({state:d,options:b,name:k,instance:g})||d)}}}},update:tQ(function(){return new Promise(function(S){g.forceUpdate(),S(d)})}),destroy:function(){_(),f=!0}};if(!MS(a,l))return g;g.setOptions(c).then(function(S){!f&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){d.orderedModifiers.forEach(function(S){var y=S.name,w=S.options,E=w===void 0?{}:w,I=S.effect;if(typeof I=="function"){var N=I({state:d,name:y,instance:g,options:E}),M=function(){};h.push(N||M)}})}function _(){h.forEach(function(S){return S()}),h=[]}return g}}var iQ=[IG,HG,xG,pG,zG,jG,GG,EG,VG],oQ=rQ({defaultModifiers:iQ});function sQ(t){return typeof t=="function"?t():t}const rD=C.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=C.useState(null),l=Tt(C.isValidElement(r)?r.ref:null,n);if(jr(()=>{o||a(sQ(i)||document.body)},[i,o]),jr(()=>{if(s&&!o)return xp(n,s),()=>{xp(n,null)}},[n,s,o]),o){if(C.isValidElement(r)){const c={ref:l};return C.cloneElement(r,c)}return m.jsx(C.Fragment,{children:r})}return m.jsx(C.Fragment,{children:s&&lw.createPortal(r,s)})});function aQ(t){return ue("MuiPopper",t)}ae("MuiPopper",["root"]);const lQ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],cQ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function uQ(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function c0(t){return typeof t=="function"?t():t}function dQ(t){return t.nodeType!==void 0}const hQ=t=>{const{classes:e}=t;return de({root:["root"]},aQ,e)},fQ={},pQ=C.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:d,popperOptions:h,popperRef:f,slotProps:g={},slots:v={},TransitionProps:_}=e,S=Y(e,lQ),y=C.useRef(null),w=Tt(y,n),E=C.useRef(null),I=Tt(E,f),N=C.useRef(I);jr(()=>{N.current=I},[I]),C.useImperativeHandle(f,()=>E.current,[]);const M=uQ(d,s),[x,b]=C.useState(M),[k,P]=C.useState(c0(i));C.useEffect(()=>{E.current&&E.current.forceUpdate()}),C.useEffect(()=>{i&&P(c0(i))},[i]),jr(()=>{if(!k||!c)return;const q=$=>{b($.placement)};let W=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{q($)}}];l!=null&&(W=W.concat(l)),h&&h.modifiers!=null&&(W=W.concat(h.modifiers));const F=oQ(k,y.current,R({placement:M},h,{modifiers:W}));return N.current(F),()=>{F.destroy(),N.current(null)}},[k,a,l,c,h,M]);const D={placement:x};_!==null&&(D.TransitionProps=_);const L=hQ(e),A=(r=v.root)!=null?r:"div",B=ds({elementType:A,externalSlotProps:g.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:L.root});return m.jsx(A,R({},B,{children:typeof o=="function"?o(D):o}))}),mQ=C.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:d,placement:h="bottom",popperOptions:f=fQ,popperRef:g,style:v,transition:_=!1,slotProps:S={},slots:y={}}=e,w=Y(e,cQ),[E,I]=C.useState(!0),N=()=>{I(!1)},M=()=>{I(!0)};if(!l&&!d&&(!_||E))return null;let x;if(o)x=o;else if(r){const P=c0(r);x=P&&dQ(P)?tn(P).body:tn(null).body}const b=!d&&l&&(!_||E)?"none":void 0,k=_?{in:d,onEnter:N,onExited:M}:void 0;return m.jsx(rD,{disablePortal:a,container:x,children:m.jsx(pQ,R({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:_?!E:d,placement:h,popperOptions:f,popperRef:g,slotProps:S,slots:y},w,{style:R({position:"fixed",top:0,left:0,display:b},v),TransitionProps:k,children:i}))})}),gQ=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],vQ=K(mQ,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),iD=C.forwardRef(function(e,n){var r;const i=q2(),o=he({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:d,disablePortal:h,keepMounted:f,modifiers:g,open:v,placement:_,popperOptions:S,popperRef:y,transition:w,slots:E,slotProps:I}=o,N=Y(o,gQ),M=(r=E==null?void 0:E.root)!=null?r:l==null?void 0:l.Root,x=R({anchorEl:s,container:d,disablePortal:h,keepMounted:f,modifiers:g,open:v,placement:_,popperOptions:S,popperRef:y,transition:w},N);return m.jsx(vQ,R({as:a,direction:i==null?void 0:i.direction,slots:{root:M},slotProps:I??c},x,{ref:n}))}),yQ=Sn(m.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function _Q(t){return ue("MuiChip",t)}const Ke=ae("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),wQ=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],EQ=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${z(r)}`,`color${z(i)}`,a&&"clickable",a&&`clickableColor${z(i)}`,s&&"deletable",s&&`deletableColor${z(i)}`,`${l}${z(i)}`],label:["label",`label${z(r)}`],avatar:["avatar",`avatar${z(r)}`,`avatarColor${z(i)}`],icon:["icon",`icon${z(r)}`,`iconColor${z(o)}`],deleteIcon:["deleteIcon",`deleteIcon${z(r)}`,`deleteIconColor${z(i)}`,`deleteIcon${z(l)}Color${z(i)}`]};return de(c,_Q,e)},TQ=K("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Ke.avatar}`]:e.avatar},{[`& .${Ke.avatar}`]:e[`avatar${z(a)}`]},{[`& .${Ke.avatar}`]:e[`avatarColor${z(r)}`]},{[`& .${Ke.icon}`]:e.icon},{[`& .${Ke.icon}`]:e[`icon${z(a)}`]},{[`& .${Ke.icon}`]:e[`iconColor${z(i)}`]},{[`& .${Ke.deleteIcon}`]:e.deleteIcon},{[`& .${Ke.deleteIcon}`]:e[`deleteIcon${z(a)}`]},{[`& .${Ke.deleteIcon}`]:e[`deleteIconColor${z(r)}`]},{[`& .${Ke.deleteIcon}`]:e[`deleteIcon${z(l)}Color${z(r)}`]},e.root,e[`size${z(a)}`],e[`color${z(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${z(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${z(r)}`],e[l],e[`${l}${z(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return R({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ke.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ke.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Ke.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ke.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ke.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ke.icon}`]:R({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&R({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Ke.deleteIcon}`]:R({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:je(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:je(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:je(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:je(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>R({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:je(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:je(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>R({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ke.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ke.avatar}`]:{marginLeft:4},[`& .${Ke.avatarSmall}`]:{marginLeft:2},[`& .${Ke.icon}`]:{marginLeft:4},[`& .${Ke.iconSmall}`]:{marginLeft:2},[`& .${Ke.deleteIcon}`]:{marginRight:5},[`& .${Ke.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:je(t.palette[e.color].main,.7)}`,[`&.${Ke.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:je(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:je(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Ke.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:je(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),CQ=K("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${z(r)}`]]}})(({ownerState:t})=>R({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function LS(t){return t.key==="Backspace"||t.key==="Delete"}const bQ=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:d=!1,icon:h,label:f,onClick:g,onDelete:v,onKeyDown:_,onKeyUp:S,size:y="medium",variant:w="filled",tabIndex:E,skipFocusWhenDisabled:I=!1}=r,N=Y(r,wQ),M=C.useRef(null),x=Tt(M,n),b=U=>{U.stopPropagation(),v&&v(U)},k=U=>{U.currentTarget===U.target&&LS(U)&&U.preventDefault(),_&&_(U)},P=U=>{U.currentTarget===U.target&&(v&&LS(U)?v(U):U.key==="Escape"&&M.current&&M.current.blur()),S&&S(U)},D=s!==!1&&g?!0:s,L=D||v?ec:l||"div",A=R({},r,{component:L,disabled:d,size:y,color:a,iconColor:C.isValidElement(h)&&h.props.color||a,onDelete:!!v,clickable:D,variant:w}),B=EQ(A),q=L===ec?R({component:l||"div",focusVisibleClassName:B.focusVisible},v&&{disableRipple:!0}):{};let W=null;v&&(W=c&&C.isValidElement(c)?C.cloneElement(c,{className:Z(c.props.className,B.deleteIcon),onClick:b}):m.jsx(yQ,{className:Z(B.deleteIcon),onClick:b}));let F=null;i&&C.isValidElement(i)&&(F=C.cloneElement(i,{className:Z(B.avatar,i.props.className)}));let $=null;return h&&C.isValidElement(h)&&($=C.cloneElement(h,{className:Z(B.icon,h.props.className)})),m.jsxs(TQ,R({as:L,className:Z(B.root,o),disabled:D&&d?!0:void 0,onClick:g,onKeyDown:k,onKeyUp:P,ref:x,tabIndex:I&&d?-1:E,ownerState:A},q,N,{children:[F||$,m.jsx(CQ,{className:Z(B.label),ownerState:A,children:f}),W]}))}),xQ=["onChange","maxRows","minRows","style","value"];function mf(t){return parseInt(t,10)||0}const SQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function IQ(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const RQ=C.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=Y(e,xQ),{current:c}=C.useRef(a!=null),d=C.useRef(null),h=Tt(n,d),f=C.useRef(null),g=C.useRef(null),v=C.useCallback(()=>{const y=d.current,E=us(y).getComputedStyle(y);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};const I=g.current;I.style.width=E.width,I.value=y.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const N=E.boxSizing,M=mf(E.paddingBottom)+mf(E.paddingTop),x=mf(E.borderBottomWidth)+mf(E.borderTopWidth),b=I.scrollHeight;I.value="x";const k=I.scrollHeight;let P=b;o&&(P=Math.max(Number(o)*k,P)),i&&(P=Math.min(Number(i)*k,P)),P=Math.max(P,k);const D=P+(N==="border-box"?M+x:0),L=Math.abs(P-b)<=1;return{outerHeightStyle:D,overflowing:L}},[i,o,e.placeholder]),_=C.useCallback(()=>{const y=v();if(IQ(y))return;const w=y.outerHeightStyle,E=d.current;f.current!==w&&(f.current=w,E.style.height=`${w}px`),E.style.overflow=y.overflowing?"hidden":""},[v]);jr(()=>{const y=()=>{_()};let w;const E=kw(y),I=d.current,N=us(I);N.addEventListener("resize",E);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(y),M.observe(I)),()=>{E.clear(),cancelAnimationFrame(w),N.removeEventListener("resize",E),M&&M.disconnect()}},[v,_]),jr(()=>{_()});const S=y=>{c||_(),r&&r(y)};return m.jsxs(C.Fragment,{children:[m.jsx("textarea",R({value:a,onChange:S,ref:h,rows:o,style:s},l)),m.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:R({},SQ.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function Rc({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Og=C.createContext(void 0);function Ra(){return C.useContext(Og)}function kQ(t){return m.jsx(k4,R({},t,{defaultTheme:Mw,themeId:$l}))}function $S(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function rm(t,e=!1){return t&&($S(t.value)&&t.value!==""||e&&$S(t.defaultValue)&&t.defaultValue!=="")}function PQ(t){return t.startAdornment}function AQ(t){return ue("MuiInputBase",t)}const sc=ae("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),NQ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Dg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${z(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Mg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},OQ=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:h,size:f,startAdornment:g,type:v}=t,_={root:["root",`color${z(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${z(f)}`,d&&"multiline",g&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",d&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",g&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return de(_,AQ,e)},Lg=K("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Dg})(({theme:t,ownerState:e})=>R({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${sc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&R({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),$g=K("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Mg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=R({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return R({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${sc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${sc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),DQ=m.jsx(kQ,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),_T=C.forwardRef(function(e,n){var r;const i=he({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:d={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:_=!1,id:S,inputComponent:y="input",inputProps:w={},inputRef:E,maxRows:I,minRows:N,multiline:M=!1,name:x,onBlur:b,onChange:k,onClick:P,onFocus:D,onKeyDown:L,onKeyUp:A,placeholder:B,readOnly:q,renderSuffix:W,rows:F,slotProps:$={},slots:U={},startAdornment:X,type:se="text",value:oe}=i,fe=Y(i,NQ),le=w.value!=null?w.value:oe,{current:_e}=C.useRef(le!=null),ee=C.useRef(),we=C.useCallback(Ne=>{},[]),Se=Tt(ee,E,w.ref,we),[Ie,Qe]=C.useState(!1),ve=Ra(),Ye=Rc({props:i,muiFormControl:ve,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ye.focused=ve?ve.focused:Ie,C.useEffect(()=>{!ve&&f&&Ie&&(Qe(!1),b&&b())},[ve,f,Ie,b]);const Ce=ve&&ve.onFilled,Pe=ve&&ve.onEmpty,ke=C.useCallback(Ne=>{rm(Ne)?Ce&&Ce():Pe&&Pe()},[Ce,Pe]);jr(()=>{_e&&ke({value:le})},[le,ke,_e]);const dn=Ne=>{if(Ye.disabled){Ne.stopPropagation();return}D&&D(Ne),w.onFocus&&w.onFocus(Ne),ve&&ve.onFocus?ve.onFocus(Ne):Qe(!0)},Yt=Ne=>{b&&b(Ne),w.onBlur&&w.onBlur(Ne),ve&&ve.onBlur?ve.onBlur(Ne):Qe(!1)},Pt=(Ne,...pe)=>{if(!_e){const At=Ne.target||ee.current;if(At==null)throw new Error(sa(1));ke({value:At.value})}w.onChange&&w.onChange(Ne,...pe),k&&k(Ne,...pe)};C.useEffect(()=>{ke(ee.current)},[]);const Xt=Ne=>{ee.current&&Ne.currentTarget===Ne.target&&ee.current.focus(),P&&P(Ne)};let st=y,Ue=w;M&&st==="input"&&(F?Ue=R({type:void 0,minRows:F,maxRows:F},Ue):Ue=R({type:void 0,maxRows:I,minRows:N},Ue),st=RQ);const Jt=Ne=>{ke(Ne.animationName==="mui-auto-fill-cancel"?ee.current:{value:"x"})};C.useEffect(()=>{ve&&ve.setAdornedStart(!!X)},[ve,X]);const pt=R({},i,{color:Ye.color||"primary",disabled:Ye.disabled,endAdornment:v,error:Ye.error,focused:Ye.focused,formControl:ve,fullWidth:_,hiddenLabel:Ye.hiddenLabel,multiline:M,size:Ye.size,startAdornment:X,type:se}),Me=OQ(pt),zt=U.root||c.Root||Lg,Be=$.root||d.root||{},Xe=U.input||c.Input||$g;return Ue=R({},Ue,(r=$.input)!=null?r:d.input),m.jsxs(C.Fragment,{children:[!g&&DQ,m.jsxs(zt,R({},Be,!Vl(zt)&&{ownerState:R({},pt,Be.ownerState)},{ref:n,onClick:Xt},fe,{className:Z(Me.root,Be.className,l,q&&"MuiInputBase-readOnly"),children:[X,m.jsx(Og.Provider,{value:null,children:m.jsx(Xe,R({ownerState:pt,"aria-invalid":Ye.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:h,disabled:Ye.disabled,id:S,onAnimationStart:Jt,name:x,placeholder:B,readOnly:q,required:Ye.required,rows:F,value:le,onKeyDown:L,onKeyUp:A,type:se},Ue,!Vl(Xe)&&{as:st,ownerState:R({},pt,Ue.ownerState)},{ref:Se,className:Z(Me.input,Ue.className,q&&"MuiInputBase-readOnly"),onBlur:Yt,onChange:Pt,onFocus:dn}))}),v,W?W(R({},Ye,{startAdornment:X})):null]}))]})});function MQ(t){return ue("MuiInput",t)}const ou=R({},sc,ae("MuiInput",["root","underline","input"]));function LQ(t){return ue("MuiOutlinedInput",t)}const So=R({},sc,ae("MuiOutlinedInput",["root","notchedOutline","input"]));function $Q(t){return ue("MuiFilledInput",t)}const Os=R({},sc,ae("MuiFilledInput",["root","underline","input"])),jQ=Sn(m.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),FQ=Sn(m.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function VQ(t){return ue("MuiAvatar",t)}ae("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const UQ=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],BQ=t=>{const{classes:e,variant:n,colorDefault:r}=t;return de({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},VQ,e)},zQ=K("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:R({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:R({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),WQ=K("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),HQ=K(FQ,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function qQ({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=C.useState(!1);return C.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const KQ=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:d,sizes:h,src:f,srcSet:g,variant:v="circular"}=r,_=Y(r,UQ);let S=null;const y=qQ(R({},d,{src:f,srcSet:g})),w=f||g,E=w&&y!=="error",I=R({},r,{colorDefault:!E,component:a,variant:v}),N=BQ(I),[M,x]=o0("img",{className:N.img,elementType:WQ,externalForwardedProps:{slots:l,slotProps:{img:R({},d,c.img)}},additionalProps:{alt:i,src:f,srcSet:g,sizes:h},ownerState:I});return E?S=m.jsx(M,R({},x)):o||o===0?S=o:w&&i?S=i[0]:S=m.jsx(HQ,{ownerState:I,className:N.fallback}),m.jsx(zQ,R({as:a,ownerState:I,className:Z(N.root,s),ref:n},_,{children:S}))}),GQ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],QQ={entering:{opacity:1},entered:{opacity:1}},oD=C.forwardRef(function(e,n){const r=Ea(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:g,onExited:v,onExiting:_,style:S,timeout:y=i,TransitionComponent:w=ci}=e,E=Y(e,GQ),I=C.useRef(null),N=Tt(I,a.ref,n),M=B=>q=>{if(B){const W=I.current;q===void 0?B(W):B(W,q)}},x=M(f),b=M((B,q)=>{H2(B);const W=Zl({style:S,timeout:y,easing:l},{mode:"enter"});B.style.webkitTransition=r.transitions.create("opacity",W),B.style.transition=r.transitions.create("opacity",W),d&&d(B,q)}),k=M(h),P=M(_),D=M(B=>{const q=Zl({style:S,timeout:y,easing:l},{mode:"exit"});B.style.webkitTransition=r.transitions.create("opacity",q),B.style.transition=r.transitions.create("opacity",q),g&&g(B)}),L=M(v),A=B=>{o&&o(I.current,B)};return m.jsx(w,R({appear:s,in:c,nodeRef:I,onEnter:b,onEntered:k,onEntering:x,onExit:D,onExited:L,onExiting:P,addEndListener:A,timeout:y},E,{children:(B,q)=>C.cloneElement(a,R({style:R({opacity:0,visibility:B==="exited"&&!c?"hidden":void 0},QQ[B],S,a.props.style),ref:N},q))}))});function YQ(t){return ue("MuiBackdrop",t)}ae("MuiBackdrop",["root","invisible"]);const XQ=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],JQ=t=>{const{classes:e,invisible:n}=t;return de({root:["root",n&&"invisible"]},YQ,e)},ZQ=K("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>R({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),sD=C.forwardRef(function(e,n){var r,i,o;const s=he({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:d={},componentsProps:h={},invisible:f=!1,open:g,slotProps:v={},slots:_={},TransitionComponent:S=oD,transitionDuration:y}=s,w=Y(s,XQ),E=R({},s,{component:c,invisible:f}),I=JQ(E),N=(r=v.root)!=null?r:h.root;return m.jsx(S,R({in:g,timeout:y},w,{children:m.jsx(ZQ,R({"aria-hidden":!0},N,{as:(i=(o=_.root)!=null?o:d.Root)!=null?i:c,className:Z(I.root,l,N==null?void 0:N.className),ownerState:R({},E,N==null?void 0:N.ownerState),classes:I,ref:n,children:a}))}))}),eY=ae("MuiBox",["root"]),tY=Dw(),Ee=M4({themeId:$l,defaultTheme:tY,defaultClassName:eY.root,generateClassName:Sw.generate});function nY(t){return ue("MuiButton",t)}const gf=ae("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),rY=C.createContext({}),iY=C.createContext(void 0),oY=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sY=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${z(e)}`,`size${z(i)}`,`${o}Size${z(i)}`,`color${z(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${z(i)}`],endIcon:["icon","endIcon",`iconSize${z(i)}`]},l=de(a,nY,s);return R({},s,l)},aD=t=>R({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),aY=K(ec,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${z(n.color)}`],e[`size${z(n.size)}`],e[`${n.variant}Size${z(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return R({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":R({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:je(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:je(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:je(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":R({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${gf.focusVisible}`]:R({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${gf.disabled}`]:R({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${je(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${gf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${gf.disabled}`]:{boxShadow:"none"}}),lY=K("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${z(n.size)}`]]}})(({ownerState:t})=>R({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},aD(t))),cY=K("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${z(n.size)}`]]}})(({ownerState:t})=>R({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},aD(t))),ft=C.forwardRef(function(e,n){const r=C.useContext(rY),i=C.useContext(iY),o=gd(r,e),s=he({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:d,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:_,fullWidth:S=!1,size:y="medium",startIcon:w,type:E,variant:I="text"}=s,N=Y(s,oY),M=R({},s,{color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:g,fullWidth:S,size:y,type:E,variant:I}),x=sY(M),b=w&&m.jsx(lY,{className:x.startIcon,ownerState:M,children:w}),k=v&&m.jsx(cY,{className:x.endIcon,ownerState:M,children:v}),P=i||"";return m.jsxs(aY,R({ownerState:M,className:Z(r.className,x.root,d,P),component:c,disabled:h,focusRipple:!g,focusVisibleClassName:Z(x.focusVisible,_),ref:n,type:E},N,{classes:x,children:[b,a,k]}))});function uY(t){return ue("MuiCard",t)}ae("MuiCard",["root"]);const dY=["className","raised"],hY=t=>{const{classes:e}=t;return de({root:["root"]},uY,e)},fY=K(Cn,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Ks=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=Y(r,dY),a=R({},r,{raised:o}),l=hY(a);return m.jsx(fY,R({className:Z(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))});function pY(t){return ue("MuiCardContent",t)}ae("MuiCardContent",["root"]);const mY=["className","component"],gY=t=>{const{classes:e}=t;return de({root:["root"]},pY,e)},vY=K("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Gs=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=Y(r,mY),a=R({},r,{component:o}),l=gY(a);return m.jsx(vY,R({as:o,className:Z(l.root,i),ownerState:a,ref:n},s))});function yY(t){return ue("MuiCircularProgress",t)}ae("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _Y=["className","color","disableShrink","size","style","thickness","value","variant"];let jg=t=>t,jS,FS,VS,US;const Io=44,wY=go(jS||(jS=jg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),EY=go(FS||(FS=jg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),TY=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${z(r)}`],svg:["svg"],circle:["circle",`circle${z(n)}`,i&&"circleDisableShrink"]};return de(o,yY,e)},CY=K("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${z(n.color)}`]]}})(({ownerState:t,theme:e})=>R({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&wa(VS||(VS=jg`
      animation: ${0} 1.4s linear infinite;
    `),wY)),bY=K("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),xY=K("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${z(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>R({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&wa(US||(US=jg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),EY)),zr=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:d=0,variant:h="indeterminate"}=r,f=Y(r,_Y),g=R({},r,{color:o,disableShrink:s,size:a,thickness:c,value:d,variant:h}),v=TY(g),_={},S={},y={};if(h==="determinate"){const w=2*Math.PI*((Io-c)/2);_.strokeDasharray=w.toFixed(3),y["aria-valuenow"]=Math.round(d),_.strokeDashoffset=`${((100-d)/100*w).toFixed(3)}px`,S.transform="rotate(-90deg)"}return m.jsx(CY,R({className:Z(v.root,i),style:R({width:a,height:a},S,l),ownerState:g,ref:n,role:"progressbar"},y,f,{children:m.jsx(bY,{className:v.svg,ownerState:g,viewBox:`${Io/2} ${Io/2} ${Io} ${Io}`,children:m.jsx(xY,{className:v.circle,style:_,ownerState:g,cx:Io,cy:Io,r:(Io-c)/2,fill:"none",strokeWidth:c})})}))});function BS(t){return t.substring(2).toLowerCase()}function SY(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function IY(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=t,s=C.useRef(!1),a=C.useRef(null),l=C.useRef(!1),c=C.useRef(!1);C.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=Tt(e.ref,a),h=Pr(v=>{const _=c.current;c.current=!1;const S=tn(a.current);if(!l.current||!a.current||"clientX"in v&&SY(v,S))return;if(s.current){s.current=!1;return}let y;v.composedPath?y=v.composedPath().indexOf(a.current)>-1:y=!S.documentElement.contains(v.target)||a.current.contains(v.target),!y&&(n||!_)&&i(v)}),f=v=>_=>{c.current=!0;const S=e.props[v];S&&S(_)},g={ref:d};return o!==!1&&(g[o]=f(o)),C.useEffect(()=>{if(o!==!1){const v=BS(o),_=tn(a.current),S=()=>{s.current=!0};return _.addEventListener(v,h),_.addEventListener("touchmove",S),()=>{_.removeEventListener(v,h),_.removeEventListener("touchmove",S)}}},[h,o]),r!==!1&&(g[r]=f(r)),C.useEffect(()=>{if(r!==!1){const v=BS(r),_=tn(a.current);return _.addEventListener(v,h),()=>{_.removeEventListener(v,h)}}},[h,r]),m.jsx(C.Fragment,{children:C.cloneElement(e,g)})}const kc=PV({createStyledComponent:K("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${z(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>he({props:t,name:"MuiContainer"})});function RY(t){const e=tn(t);return e.body===t?us(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function qu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function zS(t){return parseInt(us(t).getComputedStyle(t).paddingRight,10)||0}function kY(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function WS(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!kY(s);a&&l&&qu(s,i)})}function ny(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function PY(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(RY(r)){const s=PP(tn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${zS(r)+s}px`;const a=tn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${zS(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=tn(r).body;else{const s=r.parentElement,a=us(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function AY(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class NY{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&qu(e.modalRef,!1);const i=AY(n);WS(n,e.mount,e.modalRef,i,!0);const o=ny(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ny(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=PY(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ny(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&qu(e.modalRef,n),WS(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&qu(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const OY=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function DY(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function MY(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function LY(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||MY(t))}function $Y(t){const e=[],n=[];return Array.from(t.querySelectorAll(OY)).forEach((r,i)=>{const o=DY(r);o===-1||!LY(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function jY(){return!0}function FY(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=$Y,isEnabled:s=jY,open:a}=t,l=C.useRef(!1),c=C.useRef(null),d=C.useRef(null),h=C.useRef(null),f=C.useRef(null),g=C.useRef(!1),v=C.useRef(null),_=Tt(e.ref,v),S=C.useRef(null);C.useEffect(()=>{!a||!v.current||(g.current=!n)},[n,a]),C.useEffect(()=>{if(!a||!v.current)return;const E=tn(v.current);return v.current.contains(E.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),C.useEffect(()=>{if(!a||!v.current)return;const E=tn(v.current),I=x=>{S.current=x,!(r||!s()||x.key!=="Tab")&&E.activeElement===v.current&&x.shiftKey&&(l.current=!0,d.current&&d.current.focus())},N=()=>{const x=v.current;if(x===null)return;if(!E.hasFocus()||!s()||l.current){l.current=!1;return}if(x.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==d.current)return;if(E.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let b=[];if((E.activeElement===c.current||E.activeElement===d.current)&&(b=o(v.current)),b.length>0){var k,P;const D=!!((k=S.current)!=null&&k.shiftKey&&((P=S.current)==null?void 0:P.key)==="Tab"),L=b[0],A=b[b.length-1];typeof L!="string"&&typeof A!="string"&&(D?A.focus():L.focus())}else x.focus()};E.addEventListener("focusin",N),E.addEventListener("keydown",I,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",N),E.removeEventListener("keydown",I,!0)}},[n,r,i,s,a,o]);const y=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0,f.current=E.target;const I=e.props.onFocus;I&&I(E)},w=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0};return m.jsxs(C.Fragment,{children:[m.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),C.cloneElement(e,{ref:_,onFocus:y}),m.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function VY(t){return typeof t=="function"?t():t}function UY(t){return t?t.props.hasOwnProperty("in"):!1}const BY=new NY;function zY(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=BY,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:d,rootRef:h}=t,f=C.useRef({}),g=C.useRef(null),v=C.useRef(null),_=Tt(v,h),[S,y]=C.useState(!d),w=UY(l);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const I=()=>tn(g.current),N=()=>(f.current.modalRef=v.current,f.current.mount=g.current,f.current),M=()=>{i.mount(N(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},x=Pr(()=>{const W=VY(e)||I().body;i.add(N(),W),v.current&&M()}),b=C.useCallback(()=>i.isTopModal(N()),[i]),k=Pr(W=>{g.current=W,W&&(d&&b()?M():v.current&&qu(v.current,E))}),P=C.useCallback(()=>{i.remove(N(),E)},[E,i]);C.useEffect(()=>()=>{P()},[P]),C.useEffect(()=>{d?x():(!w||!o)&&P()},[d,P,w,o,x]);const D=W=>F=>{var $;($=W.onKeyDown)==null||$.call(W,F),!(F.key!=="Escape"||F.which===229||!b())&&(n||(F.stopPropagation(),c&&c(F,"escapeKeyDown")))},L=W=>F=>{var $;($=W.onClick)==null||$.call(W,F),F.target===F.currentTarget&&c&&c(F,"backdropClick")};return{getRootProps:(W={})=>{const F=Ip(t);delete F.onTransitionEnter,delete F.onTransitionExited;const $=R({},F,W);return R({role:"presentation"},$,{onKeyDown:D($),ref:_})},getBackdropProps:(W={})=>{const F=W;return R({"aria-hidden":!0},F,{onClick:L(F),open:d})},getTransitionProps:()=>{const W=()=>{y(!1),s&&s()},F=()=>{y(!0),a&&a(),o&&P()};return{onEnter:u_(W,l==null?void 0:l.props.onEnter),onExited:u_(F,l==null?void 0:l.props.onExited)}},rootRef:_,portalRef:k,isTopModal:b,exited:S,hasTransition:w}}function WY(t){return ue("MuiModal",t)}ae("MuiModal",["root","hidden","backdrop"]);const HY=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],qY=t=>{const{open:e,exited:n,classes:r}=t;return de({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},WY,r)},KY=K("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>R({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),GY=K(sD,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),lD=C.forwardRef(function(e,n){var r,i,o,s,a,l;const c=he({name:"MuiModal",props:e}),{BackdropComponent:d=GY,BackdropProps:h,className:f,closeAfterTransition:g=!1,children:v,container:_,component:S,components:y={},componentsProps:w={},disableAutoFocus:E=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:N=!1,disablePortal:M=!1,disableRestoreFocus:x=!1,disableScrollLock:b=!1,hideBackdrop:k=!1,keepMounted:P=!1,onBackdropClick:D,open:L,slotProps:A,slots:B}=c,q=Y(c,HY),W=R({},c,{closeAfterTransition:g,disableAutoFocus:E,disableEnforceFocus:I,disableEscapeKeyDown:N,disablePortal:M,disableRestoreFocus:x,disableScrollLock:b,hideBackdrop:k,keepMounted:P}),{getRootProps:F,getBackdropProps:$,getTransitionProps:U,portalRef:X,isTopModal:se,exited:oe,hasTransition:fe}=zY(R({},W,{rootRef:n})),le=R({},W,{exited:oe}),_e=qY(le),ee={};if(v.props.tabIndex===void 0&&(ee.tabIndex="-1"),fe){const{onEnter:Ce,onExited:Pe}=U();ee.onEnter=Ce,ee.onExited=Pe}const we=(r=(i=B==null?void 0:B.root)!=null?i:y.Root)!=null?r:KY,Se=(o=(s=B==null?void 0:B.backdrop)!=null?s:y.Backdrop)!=null?o:d,Ie=(a=A==null?void 0:A.root)!=null?a:w.root,Qe=(l=A==null?void 0:A.backdrop)!=null?l:w.backdrop,ve=ds({elementType:we,externalSlotProps:Ie,externalForwardedProps:q,getSlotProps:F,additionalProps:{ref:n,as:S},ownerState:le,className:Z(f,Ie==null?void 0:Ie.className,_e==null?void 0:_e.root,!le.open&&le.exited&&(_e==null?void 0:_e.hidden))}),Ye=ds({elementType:Se,externalSlotProps:Qe,additionalProps:h,getSlotProps:Ce=>$(R({},Ce,{onClick:Pe=>{D&&D(Pe),Ce!=null&&Ce.onClick&&Ce.onClick(Pe)}})),className:Z(Qe==null?void 0:Qe.className,h==null?void 0:h.className,_e==null?void 0:_e.backdrop),ownerState:le});return!P&&!L&&(!fe||oe)?null:m.jsx(rD,{ref:X,container:_,disablePortal:M,children:m.jsxs(we,R({},ve,{children:[!k&&d?m.jsx(Se,R({},Ye)):null,m.jsx(FY,{disableEnforceFocus:I,disableAutoFocus:E,disableRestoreFocus:x,isEnabled:se,open:L,children:C.cloneElement(v,ee)})]}))})});function QY(t){return ue("MuiDialog",t)}const ry=ae("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),cD=C.createContext({}),YY=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],XY=K(sD,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),JY=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${z(n)}`],paper:["paper",`paperScroll${z(n)}`,`paperWidth${z(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return de(s,QY,e)},ZY=K(lD,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),eX=K("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${z(n.scroll)}`]]}})(({ownerState:t})=>R({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),tX=K(Cn,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${z(n.scroll)}`],e[`paperWidth${z(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>R({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${ry.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${ry.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ry.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Fg=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiDialog"}),i=Ea(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:d,className:h,disableEscapeKeyDown:f=!1,fullScreen:g=!1,fullWidth:v=!1,maxWidth:_="sm",onBackdropClick:S,onClick:y,onClose:w,open:E,PaperComponent:I=Cn,PaperProps:N={},scroll:M="paper",TransitionComponent:x=oD,transitionDuration:b=o,TransitionProps:k}=r,P=Y(r,YY),D=R({},r,{disableEscapeKeyDown:f,fullScreen:g,fullWidth:v,maxWidth:_,scroll:M}),L=JY(D),A=C.useRef(),B=$=>{A.current=$.target===$.currentTarget},q=$=>{y&&y($),A.current&&(A.current=null,S&&S($),w&&w($,"backdropClick"))},W=Kd(a),F=C.useMemo(()=>({titleId:W}),[W]);return m.jsx(ZY,R({className:Z(L.root,h),closeAfterTransition:!0,components:{Backdrop:XY},componentsProps:{backdrop:R({transitionDuration:b,as:l},c)},disableEscapeKeyDown:f,onClose:w,open:E,ref:n,onClick:q,ownerState:D},P,{children:m.jsx(x,R({appear:!0,in:E,timeout:b,role:"presentation"},k,{children:m.jsx(eX,{className:Z(L.container),onMouseDown:B,ownerState:D,children:m.jsx(tX,R({as:I,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":W},N,{className:Z(L.paper,N.className),ownerState:D,children:m.jsx(cD.Provider,{value:F,children:d})}))})}))}))});function nX(t){return ue("MuiDialogActions",t)}ae("MuiDialogActions",["root","spacing"]);const rX=["className","disableSpacing"],iX=t=>{const{classes:e,disableSpacing:n}=t;return de({root:["root",!n&&"spacing"]},nX,e)},oX=K("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>R({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Vg=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=Y(r,rX),a=R({},r,{disableSpacing:o}),l=iX(a);return m.jsx(oX,R({className:Z(l.root,i),ownerState:a,ref:n},s))});function sX(t){return ue("MuiDialogContent",t)}ae("MuiDialogContent",["root","dividers"]);function aX(t){return ue("MuiDialogTitle",t)}const lX=ae("MuiDialogTitle",["root"]),cX=["className","dividers"],uX=t=>{const{classes:e,dividers:n}=t;return de({root:["root",n&&"dividers"]},sX,e)},dX=K("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>R({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${lX.root} + &`]:{paddingTop:0}})),Ug=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=Y(r,cX),a=R({},r,{dividers:o}),l=uX(a);return m.jsx(dX,R({className:Z(l.root,i),ownerState:a,ref:n},s))}),hX=["className","id"],fX=t=>{const{classes:e}=t;return de({root:["root"]},aX,e)},pX=K(ge,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Bg=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=Y(r,hX),a=r,l=fX(a),{titleId:c=o}=C.useContext(cD);return m.jsx(pX,R({component:"h2",className:Z(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c},s))});function mX(t){return ue("MuiDivider",t)}const HS=ae("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),gX=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],vX=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return de({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},mX,r)},yX=K("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>R({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:je(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>R({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>R({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),_X=K("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>R({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),wT=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:d="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:f="center",variant:g="fullWidth"}=r,v=Y(r,gX),_=R({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:d,role:h,textAlign:f,variant:g}),S=vX(_);return m.jsx(yX,R({as:a,className:Z(S.root,s),role:h,ref:n,ownerState:_},v,{children:o?m.jsx(_X,{className:S.wrapper,ownerState:_,children:o}):null}))});wT.muiSkipListHighlight=!0;const wX=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],EX=t=>{const{classes:e,disableUnderline:n}=t,i=de({root:["root",!n&&"underline"],input:["input"]},$Q,e);return R({},e,i)},TX=K(Lg,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Dg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return R({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Os.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Os.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Os.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Os.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Os.disabled}, .${Os.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Os.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&R({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),CX=K($g,{name:"MuiFilledInput",slot:"Input",overridesResolver:Mg})(({theme:t,ownerState:e})=>R({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),ET=C.forwardRef(function(e,n){var r,i,o,s;const a=he({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:v={},type:_="text"}=a,S=Y(a,wX),y=R({},a,{fullWidth:d,inputComponent:h,multiline:f,type:_}),w=EX(a),E={root:{ownerState:y},input:{ownerState:y}},I=g??c?qn(E,g??c):E,N=(r=(i=v.root)!=null?i:l.Root)!=null?r:TX,M=(o=(s=v.input)!=null?s:l.Input)!=null?o:CX;return m.jsx(_T,R({slots:{root:N,input:M},componentsProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:_},S,{classes:w}))});ET.muiName="Input";function bX(t){return ue("MuiFormControl",t)}ae("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xX=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],SX=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${z(n)}`,r&&"fullWidth"]};return de(i,bX,e)},IX=K("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,e[`margin${z(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>R({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),zg=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:h=!1,hiddenLabel:f=!1,margin:g="none",required:v=!1,size:_="medium",variant:S="outlined"}=r,y=Y(r,xX),w=R({},r,{color:s,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:f,margin:g,required:v,size:_,variant:S}),E=SX(w),[I,N]=C.useState(()=>{let A=!1;return i&&C.Children.forEach(i,B=>{if(!Nu(B,["Input","Select"]))return;const q=Nu(B,["Select"])?B.props.input:B;q&&PQ(q.props)&&(A=!0)}),A}),[M,x]=C.useState(()=>{let A=!1;return i&&C.Children.forEach(i,B=>{Nu(B,["Input","Select"])&&(rm(B.props,!0)||rm(B.props.inputProps,!0))&&(A=!0)}),A}),[b,k]=C.useState(!1);l&&b&&k(!1);const P=d!==void 0&&!l?d:b;let D;const L=C.useMemo(()=>({adornedStart:I,setAdornedStart:N,color:s,disabled:l,error:c,filled:M,focused:P,fullWidth:h,hiddenLabel:f,size:_,onBlur:()=>{k(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{k(!0)},registerEffect:D,required:v,variant:S}),[I,s,l,c,M,P,h,f,D,v,_,S]);return m.jsx(Og.Provider,{value:L,children:m.jsx(IX,R({as:a,ownerState:w,className:Z(E.root,o),ref:n},y,{children:i}))})}),Qf=jV({createStyledComponent:K("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>he({props:t,name:"MuiStack"})});function RX(t){return ue("MuiFormHelperText",t)}const qS=ae("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var KS;const kX=["children","className","component","disabled","error","filled","focused","margin","required","variant"],PX=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${z(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return de(c,RX,e)},AX=K("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${z(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${qS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${qS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),NX=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=Y(r,kX),l=Ra(),c=Rc({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),d=R({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=PX(d);return m.jsx(AX,R({as:s,ownerState:d,className:Z(h.root,o),ref:n},a,{children:i===" "?KS||(KS=m.jsx("span",{className:"notranslate",children:"​"})):i}))});function OX(t){return ue("MuiFormLabel",t)}const Ku=ae("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),DX=["children","className","color","component","disabled","error","filled","focused","required"],MX=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${z(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return de(l,OX,e)},LX=K("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ku.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Ku.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ku.error}`]:{color:(t.vars||t).palette.error.main}})),$X=K("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ku.error}`]:{color:(t.vars||t).palette.error.main}})),jX=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=Y(r,DX),l=Ra(),c=Rc({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),d=R({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=MX(d);return m.jsxs(LX,R({as:s,ownerState:d,className:Z(h.root,o),ref:n},a,{children:[i,c.required&&m.jsxs($X,{ownerState:d,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),GS=C.createContext();function FX(t){return ue("MuiGrid",t)}const VX=[0,1,2,3,4,5,6,7,8,9,10],UX=["column-reverse","column","row-reverse","row"],BX=["nowrap","wrap-reverse","wrap"],su=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Md=ae("MuiGrid",["root","container","item","zeroMinWidth",...VX.map(t=>`spacing-xs-${t}`),...UX.map(t=>`direction-xs-${t}`),...BX.map(t=>`wrap-xs-${t}`),...su.map(t=>`grid-xs-${t}`),...su.map(t=>`grid-sm-${t}`),...su.map(t=>`grid-md-${t}`),...su.map(t=>`grid-lg-${t}`),...su.map(t=>`grid-xl-${t}`)]),zX=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Rl(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function WX({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Xs({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const d=t.spacing(e.columnSpacing);if(d!=="0px"){const h=`calc(${l} + ${Rl(d)})`;c={flexBasis:h,maxWidth:h}}}o=R({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function HX({theme:t,ownerState:e}){const n=Xs({values:e.direction,breakpoints:t.breakpoints.values});return ar({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Md.item}`]={maxWidth:"none"}),i})}function uD({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function qX({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=Xs({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=uD({breakpoints:t.breakpoints.values,values:o})),i=ar({theme:t},o,(a,l)=>{var c;const d=t.spacing(a);return d!=="0px"?{marginTop:`-${Rl(d)}`,[`& > .${Md.item}`]:{paddingTop:Rl(d)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Md.item}`]:{paddingTop:0}}})}return i}function KX({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=Xs({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=uD({breakpoints:t.breakpoints.values,values:o})),i=ar({theme:t},o,(a,l)=>{var c;const d=t.spacing(a);return d!=="0px"?{width:`calc(100% + ${Rl(d)})`,marginLeft:`-${Rl(d)}`,[`& > .${Md.item}`]:{paddingLeft:Rl(d)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Md.item}`]:{paddingLeft:0}}})}return i}function GX(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const QX=K("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let d=[];r&&(d=GX(s,c,e));const h=[];return c.forEach(f=>{const g=n[f];g&&h.push(e[`grid-${f}-${String(g)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...d,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>R({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),HX,qX,KX,WX);function YX(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const XX=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=YX(o,l));const d=[];l.forEach(f=>{const g=t[f];g&&d.push(`grid-${f}-${String(g)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...d]};return de(h,FX,e)},ze=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiGrid"}),{breakpoints:i}=Ea(),o=qd(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:d=!1,direction:h="row",item:f=!1,rowSpacing:g,spacing:v=0,wrap:_="wrap",zeroMinWidth:S=!1}=o,y=Y(o,zX),w=g||v,E=l||v,I=C.useContext(GS),N=d?a||12:I,M={},x=R({},y);i.keys.forEach(P=>{y[P]!=null&&(M[P]=y[P],delete x[P])});const b=R({},o,{columns:N,container:d,direction:h,item:f,rowSpacing:w,columnSpacing:E,wrap:_,zeroMinWidth:S,spacing:v},M,{breakpoints:i.keys}),k=XX(b);return m.jsx(GS.Provider,{value:N,children:m.jsx(QX,R({ownerState:b,className:Z(k.root,s),as:c,ref:n},x))})}),JX=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function u0(t){return`scale(${t}, ${t**2})`}const ZX={entering:{opacity:1,transform:u0(1)},entered:{opacity:1,transform:"none"}},iy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ld=C.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:h,onExited:f,onExiting:g,style:v,timeout:_="auto",TransitionComponent:S=ci}=e,y=Y(e,JX),w=Uo(),E=C.useRef(),I=Ea(),N=C.useRef(null),M=Tt(N,o.ref,n),x=q=>W=>{if(q){const F=N.current;W===void 0?q(F):q(F,W)}},b=x(d),k=x((q,W)=>{H2(q);const{duration:F,delay:$,easing:U}=Zl({style:v,timeout:_,easing:s},{mode:"enter"});let X;_==="auto"?(X=I.transitions.getAutoHeightDuration(q.clientHeight),E.current=X):X=F,q.style.transition=[I.transitions.create("opacity",{duration:X,delay:$}),I.transitions.create("transform",{duration:iy?X:X*.666,delay:$,easing:U})].join(","),l&&l(q,W)}),P=x(c),D=x(g),L=x(q=>{const{duration:W,delay:F,easing:$}=Zl({style:v,timeout:_,easing:s},{mode:"exit"});let U;_==="auto"?(U=I.transitions.getAutoHeightDuration(q.clientHeight),E.current=U):U=W,q.style.transition=[I.transitions.create("opacity",{duration:U,delay:F}),I.transitions.create("transform",{duration:iy?U:U*.666,delay:iy?F:F||U*.333,easing:$})].join(","),q.style.opacity=0,q.style.transform=u0(.75),h&&h(q)}),A=x(f),B=q=>{_==="auto"&&w.start(E.current||0,q),r&&r(N.current,q)};return m.jsx(S,R({appear:i,in:a,nodeRef:N,onEnter:k,onEntered:P,onEntering:b,onExit:L,onExited:A,onExiting:D,addEndListener:B,timeout:_==="auto"?null:_},y,{children:(q,W)=>C.cloneElement(o,R({style:R({opacity:0,transform:u0(.75),visibility:q==="exited"&&!a?"hidden":void 0},ZX[q],v,o.props.style),ref:M},W))}))});Ld.muiSupportAuto=!0;const eJ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],tJ=t=>{const{classes:e,disableUnderline:n}=t,i=de({root:["root",!n&&"underline"],input:["input"]},MQ,e);return R({},e,i)},nJ=K(Lg,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Dg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),R({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ou.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ou.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ou.disabled}, .${ou.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ou.disabled}:before`]:{borderBottomStyle:"dotted"}})}),rJ=K($g,{name:"MuiInput",slot:"Input",overridesResolver:Mg})({}),TT=C.forwardRef(function(e,n){var r,i,o,s;const a=he({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:d,fullWidth:h=!1,inputComponent:f="input",multiline:g=!1,slotProps:v,slots:_={},type:S="text"}=a,y=Y(a,eJ),w=tJ(a),I={root:{ownerState:{disableUnderline:l}}},N=v??d?qn(v??d,I):I,M=(r=(i=_.root)!=null?i:c.Root)!=null?r:nJ,x=(o=(s=_.input)!=null?s:c.Input)!=null?o:rJ;return m.jsx(_T,R({slots:{root:M,input:x},slotProps:N,fullWidth:h,inputComponent:f,multiline:g,ref:n,type:S},y,{classes:w}))});TT.muiName="Input";function iJ(t){return ue("MuiInputAdornment",t)}const QS=ae("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var YS;const oJ=["children","className","component","disablePointerEvents","disableTypography","position","variant"],sJ=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${z(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},aJ=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${z(i)}`,s,r&&"hiddenLabel",o&&`size${z(o)}`]};return de(a,iJ,e)},lJ=K("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:sJ})(({theme:t,ownerState:e})=>R({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${QS.positionStart}&:not(.${QS.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),cJ=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:d}=r,h=Y(r,oJ),f=Ra()||{};let g=d;d&&f.variant,f&&!g&&(g=f.variant);const v=R({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:g}),_=aJ(v);return m.jsx(Og.Provider,{value:null,children:m.jsx(lJ,R({as:s,ownerState:v,className:Z(_.root,o),ref:n},h,{children:typeof i=="string"&&!l?m.jsx(ge,{color:"text.secondary",children:i}):m.jsxs(C.Fragment,{children:[c==="start"?YS||(YS=m.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})});function uJ(t){return ue("MuiInputLabel",t)}ae("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const dJ=["disableAnimation","margin","shrink","variant","className"],hJ=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${z(r)}`,s],asterisk:[a&&"asterisk"]},c=de(l,uJ,e);return R({},e,c)},fJ=K(jX,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ku.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>R({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&R({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&R({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&R({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Wg=C.forwardRef(function(e,n){const r=he({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=Y(r,dJ),l=Ra();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const d=Rc({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),h=R({},r,{disableAnimation:i,formControl:l,shrink:c,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),f=hJ(h);return m.jsx(fJ,R({"data-shrink":c,ownerState:h,ref:n,className:Z(f.root,s)},a,{classes:f}))});function pJ(t){return ue("MuiLinearProgress",t)}ae("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const mJ=["className","color","value","valueBuffer","variant"];let Pc=t=>t,XS,JS,ZS,eI,tI,nI;const d0=4,gJ=go(XS||(XS=Pc`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),vJ=go(JS||(JS=Pc`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),yJ=go(ZS||(ZS=Pc`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),_J=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${z(r)}`,n],dashed:["dashed",`dashedColor${z(r)}`],bar1:["bar",`barColor${z(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${z(r)}`,n==="buffer"&&`color${z(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return de(i,pJ,e)},CT=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?yd(t.palette[e].main,.62):vd(t.palette[e].main,.5),wJ=K("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${z(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>R({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:CT(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),EJ=K("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${z(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=CT(e,t.color);return R({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},wa(eI||(eI=Pc`
    animation: ${0} 3s infinite linear;
  `),yJ)),TJ=K("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${z(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${d0}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${d0}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&wa(tI||(tI=Pc`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),gJ)),CJ=K("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${z(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:CT(e,t.color),transition:`transform .${d0}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&wa(nI||(nI=Pc`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),vJ)),rI=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:a,variant:l="indeterminate"}=r,c=Y(r,mJ),d=R({},r,{color:o,variant:l}),h=_J(d),f=Pw(),g={},v={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){g["aria-valuenow"]=Math.round(s),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let _=s-100;f&&(_=-_),v.bar1.transform=`translateX(${_}%)`}if(l==="buffer"&&a!==void 0){let _=(a||0)-100;f&&(_=-_),v.bar2.transform=`translateX(${_}%)`}return m.jsxs(wJ,R({className:Z(h.root,i),ownerState:d,role:"progressbar"},g,{ref:n},c,{children:[l==="buffer"?m.jsx(EJ,{className:h.dashed,ownerState:d}):null,m.jsx(TJ,{className:h.bar1,ownerState:d,style:v.bar1}),l==="determinate"?null:m.jsx(CJ,{className:h.bar2,ownerState:d,style:v.bar2})]}))});function bJ(t){return ue("MuiLink",t)}const xJ=ae("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),dD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},SJ=t=>dD[t]||t,IJ=({theme:t,ownerState:e})=>{const n=SJ(e.color),r=Fl(t,`palette.${n}`,!1)||e.color,i=Fl(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:je(r,.4)},RJ=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],kJ=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,o={root:["root",`underline${z(i)}`,n==="button"&&"button",r&&"focusVisible"]};return de(o,bJ,e)},PJ=K(ge,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${z(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>R({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&R({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:IJ({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${xJ.focusVisible}`]:{outline:"auto"}})),hD=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:d="always",variant:h="inherit",sx:f}=r,g=Y(r,RJ),{isFocusVisibleRef:v,onBlur:_,onFocus:S,ref:y}=Jm(),[w,E]=C.useState(!1),I=Tt(n,y),N=k=>{_(k),v.current===!1&&E(!1),a&&a(k)},M=k=>{S(k),v.current===!0&&E(!0),l&&l(k)},x=R({},r,{color:o,component:s,focusVisible:w,underline:d,variant:h}),b=kJ(x);return m.jsx(PJ,R({color:o,className:Z(b.root,i),classes:c,component:s,onBlur:N,onFocus:M,ref:I,ownerState:x,variant:h,sx:[...Object.keys(dD).includes(o)?[]:[{color:o}],...Array.isArray(f)?f:[f]]},g))}),ss=C.createContext({});function AJ(t){return ue("MuiList",t)}ae("MuiList",["root","padding","dense","subheader"]);const NJ=["children","className","component","dense","disablePadding","subheader"],OJ=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return de({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},AJ,e)},DJ=K("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>R({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),fD=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,d=Y(r,NJ),h=C.useMemo(()=>({dense:a}),[a]),f=R({},r,{component:s,dense:a,disablePadding:l}),g=OJ(f);return m.jsx(ss.Provider,{value:h,children:m.jsxs(DJ,R({as:s,className:Z(g.root,o),ref:n,ownerState:f},d,{children:[c,i]}))})});function MJ(t){return ue("MuiListItem",t)}const Xa=ae("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),LJ=ae("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function $J(t){return ue("MuiListItemSecondaryAction",t)}ae("MuiListItemSecondaryAction",["root","disableGutters"]);const jJ=["className"],FJ=t=>{const{disableGutters:e,classes:n}=t;return de({root:["root",e&&"disableGutters"]},$J,n)},VJ=K("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>R({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),pD=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=Y(r,jJ),s=C.useContext(ss),a=R({},r,{disableGutters:s.disableGutters}),l=FJ(a);return m.jsx(VJ,R({className:Z(l.root,i),ownerState:a,ref:n},o))});pD.muiName="ListItemSecondaryAction";const UJ=["className"],BJ=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],zJ=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},WJ=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:d}=t;return de({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]},MJ,r)},HJ=K("div",{name:"MuiListItem",slot:"Root",overridesResolver:zJ})(({theme:t,ownerState:e})=>R({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&R({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${LJ.root}`]:{paddingRight:48}},{[`&.${Xa.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Xa.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:je(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Xa.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:je(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Xa.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xa.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:je(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:je(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),qJ=K("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),KJ=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:c,components:d={},componentsProps:h={},ContainerComponent:f="li",ContainerProps:{className:g}={},dense:v=!1,disabled:_=!1,disableGutters:S=!1,disablePadding:y=!1,divider:w=!1,focusVisibleClassName:E,secondaryAction:I,selected:N=!1,slotProps:M={},slots:x={}}=r,b=Y(r.ContainerProps,UJ),k=Y(r,BJ),P=C.useContext(ss),D=C.useMemo(()=>({dense:v||P.dense||!1,alignItems:i,disableGutters:S}),[i,P.dense,v,S]),L=C.useRef(null);jr(()=>{o&&L.current&&L.current.focus()},[o]);const A=C.Children.toArray(a),B=A.length&&Nu(A[A.length-1],["ListItemSecondaryAction"]),q=R({},r,{alignItems:i,autoFocus:o,button:s,dense:D.dense,disabled:_,disableGutters:S,disablePadding:y,divider:w,hasSecondaryAction:B,selected:N}),W=WJ(q),F=Tt(L,n),$=x.root||d.Root||HJ,U=M.root||h.root||{},X=R({className:Z(W.root,U.className,l),disabled:_},k);let se=c||"li";return s&&(X.component=c||"div",X.focusVisibleClassName=Z(Xa.focusVisible,E),se=ec),B?(se=!X.component&&!c?"div":se,f==="li"&&(se==="li"?se="div":X.component==="li"&&(X.component="div")),m.jsx(ss.Provider,{value:D,children:m.jsxs(qJ,R({as:f,className:Z(W.container,g),ref:F,ownerState:q},b,{children:[m.jsx($,R({},U,!Vl($)&&{as:se,ownerState:R({},q,U.ownerState)},X,{children:A})),A.pop()]}))})):m.jsx(ss.Provider,{value:D,children:m.jsxs($,R({},U,{as:se,ref:F},!Vl($)&&{ownerState:R({},q,U.ownerState)},X,{children:[A,I&&m.jsx(pD,{children:I})]}))})}),iI=ae("MuiListItemIcon",["root","alignItemsFlexStart"]);function GJ(t){return ue("MuiListItemText",t)}const im=ae("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),QJ=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],YJ=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return de({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},GJ,e)},XJ=K("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${im.primary}`]:e.primary},{[`& .${im.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>R({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),JJ=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:h}=r,f=Y(r,QJ),{dense:g}=C.useContext(ss);let v=l??i,_=d;const S=R({},r,{disableTypography:s,inset:a,primary:!!v,secondary:!!_,dense:g}),y=YJ(S);return v!=null&&v.type!==ge&&!s&&(v=m.jsx(ge,R({variant:g?"body2":"body1",className:y.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:v}))),_!=null&&_.type!==ge&&!s&&(_=m.jsx(ge,R({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},h,{children:_}))),m.jsxs(XJ,R({className:Z(y.root,o),ownerState:S,ref:n},f,{children:[v,_]}))}),ZJ=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function oy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function oI(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function mD(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function au(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!mD(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const eZ=C.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:h="selectedMenu"}=e,f=Y(e,ZJ),g=C.useRef(null),v=C.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});jr(()=>{i&&g.current.focus()},[i]),C.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:I})=>{const N=!g.current.style.width;if(E.clientHeight<g.current.clientHeight&&N){const M=`${PP(tn(E))}px`;g.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=M,g.current.style.width=`calc(100% + ${M})`}return g.current}}),[]);const _=E=>{const I=g.current,N=E.key,M=tn(I).activeElement;if(N==="ArrowDown")E.preventDefault(),au(I,M,c,l,oy);else if(N==="ArrowUp")E.preventDefault(),au(I,M,c,l,oI);else if(N==="Home")E.preventDefault(),au(I,null,c,l,oy);else if(N==="End")E.preventDefault(),au(I,null,c,l,oI);else if(N.length===1){const x=v.current,b=N.toLowerCase(),k=performance.now();x.keys.length>0&&(k-x.lastTime>500?(x.keys=[],x.repeating=!0,x.previousKeyMatched=!0):x.repeating&&b!==x.keys[0]&&(x.repeating=!1)),x.lastTime=k,x.keys.push(b);const P=M&&!x.repeating&&mD(M,x);x.previousKeyMatched&&(P||au(I,M,!1,l,oy,x))?E.preventDefault():x.previousKeyMatched=!1}d&&d(E)},S=Tt(g,n);let y=-1;C.Children.forEach(s,(E,I)=>{if(!C.isValidElement(E)){y===I&&(y+=1,y>=s.length&&(y=-1));return}E.props.disabled||(h==="selectedMenu"&&E.props.selected||y===-1)&&(y=I),y===I&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))});const w=C.Children.map(s,(E,I)=>{if(I===y){const N={};return o&&(N.autoFocus=!0),E.props.tabIndex===void 0&&h==="selectedMenu"&&(N.tabIndex=0),C.cloneElement(E,N)}return E});return m.jsx(fD,R({role:"menu",ref:S,className:a,onKeyDown:_,tabIndex:i?0:-1},f,{children:w}))});function tZ(t){return ue("MuiPopover",t)}ae("MuiPopover",["root","paper"]);const nZ=["onEntering"],rZ=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iZ=["slotProps"];function sI(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function aI(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function lI(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function sy(t){return typeof t=="function"?t():t}const oZ=t=>{const{classes:e}=t;return de({root:["root"],paper:["paper"]},tZ,e)},sZ=K(lD,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gD=K(Cn,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),aZ=C.forwardRef(function(e,n){var r,i,o;const s=he({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:h="anchorEl",children:f,className:g,container:v,elevation:_=8,marginThreshold:S=16,open:y,PaperProps:w={},slots:E,slotProps:I,transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:M=Ld,transitionDuration:x="auto",TransitionProps:{onEntering:b}={},disableScrollLock:k=!1}=s,P=Y(s.TransitionProps,nZ),D=Y(s,rZ),L=(r=I==null?void 0:I.paper)!=null?r:w,A=C.useRef(),B=Tt(A,L.ref),q=R({},s,{anchorOrigin:c,anchorReference:h,elevation:_,marginThreshold:S,externalPaperSlotProps:L,transformOrigin:N,TransitionComponent:M,transitionDuration:x,TransitionProps:P}),W=oZ(q),F=C.useCallback(()=>{if(h==="anchorPosition")return d;const Ce=sy(l),ke=(Ce&&Ce.nodeType===1?Ce:tn(A.current).body).getBoundingClientRect();return{top:ke.top+sI(ke,c.vertical),left:ke.left+aI(ke,c.horizontal)}},[l,c.horizontal,c.vertical,d,h]),$=C.useCallback(Ce=>({vertical:sI(Ce,N.vertical),horizontal:aI(Ce,N.horizontal)}),[N.horizontal,N.vertical]),U=C.useCallback(Ce=>{const Pe={width:Ce.offsetWidth,height:Ce.offsetHeight},ke=$(Pe);if(h==="none")return{top:null,left:null,transformOrigin:lI(ke)};const dn=F();let Yt=dn.top-ke.vertical,Pt=dn.left-ke.horizontal;const Xt=Yt+Pe.height,st=Pt+Pe.width,Ue=us(sy(l)),Jt=Ue.innerHeight-S,pt=Ue.innerWidth-S;if(S!==null&&Yt<S){const Me=Yt-S;Yt-=Me,ke.vertical+=Me}else if(S!==null&&Xt>Jt){const Me=Xt-Jt;Yt-=Me,ke.vertical+=Me}if(S!==null&&Pt<S){const Me=Pt-S;Pt-=Me,ke.horizontal+=Me}else if(st>pt){const Me=st-pt;Pt-=Me,ke.horizontal+=Me}return{top:`${Math.round(Yt)}px`,left:`${Math.round(Pt)}px`,transformOrigin:lI(ke)}},[l,h,F,$,S]),[X,se]=C.useState(y),oe=C.useCallback(()=>{const Ce=A.current;if(!Ce)return;const Pe=U(Ce);Pe.top!==null&&(Ce.style.top=Pe.top),Pe.left!==null&&(Ce.style.left=Pe.left),Ce.style.transformOrigin=Pe.transformOrigin,se(!0)},[U]);C.useEffect(()=>(k&&window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)),[l,k,oe]);const fe=(Ce,Pe)=>{b&&b(Ce,Pe),oe()},le=()=>{se(!1)};C.useEffect(()=>{y&&oe()}),C.useImperativeHandle(a,()=>y?{updatePosition:()=>{oe()}}:null,[y,oe]),C.useEffect(()=>{if(!y)return;const Ce=kw(()=>{oe()}),Pe=us(l);return Pe.addEventListener("resize",Ce),()=>{Ce.clear(),Pe.removeEventListener("resize",Ce)}},[l,y,oe]);let _e=x;x==="auto"&&!M.muiSupportAuto&&(_e=void 0);const ee=v||(l?tn(sy(l)).body:void 0),we=(i=E==null?void 0:E.root)!=null?i:sZ,Se=(o=E==null?void 0:E.paper)!=null?o:gD,Ie=ds({elementType:Se,externalSlotProps:R({},L,{style:X?L.style:R({},L.style,{opacity:0})}),additionalProps:{elevation:_,ref:B},ownerState:q,className:Z(W.paper,L==null?void 0:L.className)}),Qe=ds({elementType:we,externalSlotProps:(I==null?void 0:I.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ee,open:y},ownerState:q,className:Z(W.root,g)}),{slotProps:ve}=Qe,Ye=Y(Qe,iZ);return m.jsx(we,R({},Ye,!Vl(we)&&{slotProps:ve,disableScrollLock:k},{children:m.jsx(M,R({appear:!0,in:y,onEntering:fe,onExited:le,timeout:_e},P,{children:m.jsx(Se,R({},Ie,{children:f}))}))}))});function lZ(t){return ue("MuiMenu",t)}ae("MuiMenu",["root","paper","list"]);const cZ=["onEntering"],uZ=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],dZ={vertical:"top",horizontal:"right"},hZ={vertical:"top",horizontal:"left"},fZ=t=>{const{classes:e}=t;return de({root:["root"],paper:["paper"],list:["list"]},lZ,e)},pZ=K(aZ,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mZ=K(gD,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),gZ=K(eZ,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),vD=C.forwardRef(function(e,n){var r,i;const o=he({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:g={},PopoverClasses:v,transitionDuration:_="auto",TransitionProps:{onEntering:S}={},variant:y="selectedMenu",slots:w={},slotProps:E={}}=o,I=Y(o.TransitionProps,cZ),N=Y(o,uZ),M=Pw(),x=R({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:d,onEntering:S,PaperProps:g,transitionDuration:_,TransitionProps:I,variant:y}),b=fZ(x),k=s&&!c&&f,P=C.useRef(null),D=($,U)=>{P.current&&P.current.adjustStyleForScrollbar($,{direction:M?"rtl":"ltr"}),S&&S($,U)},L=$=>{$.key==="Tab"&&($.preventDefault(),h&&h($,"tabKeyDown"))};let A=-1;C.Children.map(a,($,U)=>{C.isValidElement($)&&($.props.disabled||(y==="selectedMenu"&&$.props.selected||A===-1)&&(A=U))});const B=(r=w.paper)!=null?r:mZ,q=(i=E.paper)!=null?i:g,W=ds({elementType:w.root,externalSlotProps:E.root,ownerState:x,className:[b.root,l]}),F=ds({elementType:B,externalSlotProps:q,ownerState:x,className:b.paper});return m.jsx(pZ,R({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?dZ:hZ,slots:{paper:B,root:w.root},slotProps:{root:W,paper:F},open:f,ref:n,transitionDuration:_,TransitionProps:R({onEntering:D},I),ownerState:x},N,{classes:v,children:m.jsx(gZ,R({onKeyDown:L,actions:P,autoFocus:s&&(A===-1||c),autoFocusItem:k,variant:y},d,{className:Z(b.list,d.className),children:a}))}))});function vZ(t){return ue("MuiMenuItem",t)}const lu=ae("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),yZ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],_Z=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},wZ=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=de({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},vZ,s);return R({},s,l)},EZ=K(ec,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:_Z})(({theme:t,ownerState:e})=>R({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${lu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:je(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${lu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:je(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${lu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:je(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:je(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${lu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${lu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${HS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${HS.inset}`]:{marginLeft:52},[`& .${im.root}`]:{marginTop:0,marginBottom:0},[`& .${im.inset}`]:{paddingLeft:36},[`& .${iI.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&R({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${iI.root} svg`]:{fontSize:"1.25rem"}}))),as=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:h,className:f}=r,g=Y(r,yZ),v=C.useContext(ss),_=C.useMemo(()=>({dense:s||v.dense||!1,disableGutters:l}),[v.dense,s,l]),S=C.useRef(null);jr(()=>{i&&S.current&&S.current.focus()},[i]);const y=R({},r,{dense:_.dense,divider:a,disableGutters:l}),w=wZ(r),E=Tt(S,n);let I;return r.disabled||(I=h!==void 0?h:-1),m.jsx(ss.Provider,{value:_,children:m.jsx(EZ,R({ref:E,role:d,tabIndex:I,component:o,focusVisibleClassName:Z(w.focusVisible,c),className:Z(w.root,f)},g,{ownerState:y,classes:w}))})});function TZ(t){return ue("MuiNativeSelect",t)}const bT=ae("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),CZ=["className","disabled","error","IconComponent","inputRef","variant"],bZ=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${z(n)}`,o&&"iconOpen",r&&"disabled"]};return de(a,TZ,e)},yD=({ownerState:t,theme:e})=>R({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":R({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${bT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),xZ=K("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${bT.multiple}`]:e.multiple}]}})(yD),_D=({ownerState:t,theme:e})=>R({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${bT.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),SZ=K("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${z(n.variant)}`],n.open&&e.iconOpen]}})(_D),IZ=C.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=Y(e,CZ),d=R({},e,{disabled:i,variant:l,error:o}),h=bZ(d);return m.jsxs(C.Fragment,{children:[m.jsx(xZ,R({ownerState:d,className:Z(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:m.jsx(SZ,{as:s,ownerState:d,className:h.icon})]})});var cI;const RZ=["children","classes","className","label","notched"],kZ=K("fieldset",{shouldForwardProp:qr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),PZ=K("legend",{shouldForwardProp:qr})(({ownerState:t,theme:e})=>R({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&R({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function AZ(t){const{className:e,label:n,notched:r}=t,i=Y(t,RZ),o=n!=null&&n!=="",s=R({},t,{notched:r,withLabel:o});return m.jsx(kZ,R({"aria-hidden":!0,className:e,ownerState:s},i,{children:m.jsx(PZ,{ownerState:s,children:o?m.jsx("span",{children:n}):cI||(cI=m.jsx("span",{className:"notranslate",children:"​"}))})}))}const NZ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],OZ=t=>{const{classes:e}=t,r=de({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},LQ,e);return R({},e,r)},DZ=K(Lg,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Dg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return R({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${So.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${So.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${So.focused} .${So.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${So.error} .${So.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${So.disabled} .${So.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&R({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),MZ=K(AZ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),LZ=K($g,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Mg})(({theme:t,ownerState:e})=>R({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),xT=C.forwardRef(function(e,n){var r,i,o,s,a;const l=he({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:h="input",label:f,multiline:g=!1,notched:v,slots:_={},type:S="text"}=l,y=Y(l,NZ),w=OZ(l),E=Ra(),I=Rc({props:l,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),N=R({},l,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:E,fullWidth:d,hiddenLabel:I.hiddenLabel,multiline:g,size:I.size,type:S}),M=(r=(i=_.root)!=null?i:c.Root)!=null?r:DZ,x=(o=(s=_.input)!=null?s:c.Input)!=null?o:LZ;return m.jsx(_T,R({slots:{root:M,input:x},renderSuffix:b=>m.jsx(MZ,{ownerState:N,className:w.notchedOutline,label:f!=null&&f!==""&&I.required?a||(a=m.jsxs(C.Fragment,{children:[f," ","*"]})):f,notched:typeof v<"u"?v:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:d,inputComponent:h,multiline:g,ref:n,type:S},y,{classes:R({},w,{notchedOutline:null})}))});xT.muiName="Input";function $Z(t){return ue("MuiSelect",t)}const cu=ae("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var uI;const jZ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],FZ=K("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${cu.select}`]:e.select},{[`&.${cu.select}`]:e[n.variant]},{[`&.${cu.error}`]:e.error},{[`&.${cu.multiple}`]:e.multiple}]}})(yD,{[`&.${cu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),VZ=K("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${z(n.variant)}`],n.open&&e.iconOpen]}})(_D),UZ=K("input",{shouldForwardProp:t=>KP(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dI(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function BZ(t){return t==null||typeof t=="string"&&!t.trim()}const zZ=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${z(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return de(a,$Z,e)},WZ=C.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:d,defaultValue:h,disabled:f,displayEmpty:g,error:v=!1,IconComponent:_,inputRef:S,labelId:y,MenuProps:w={},multiple:E,name:I,onBlur:N,onChange:M,onClose:x,onFocus:b,onOpen:k,open:P,readOnly:D,renderValue:L,SelectDisplayProps:A={},tabIndex:B,value:q,variant:W="standard"}=e,F=Y(e,jZ),[$,U]=Sp({controlled:q,default:h,name:"Select"}),[X,se]=Sp({controlled:P,default:d,name:"Select"}),oe=C.useRef(null),fe=C.useRef(null),[le,_e]=C.useState(null),{current:ee}=C.useRef(P!=null),[we,Se]=C.useState(),Ie=Tt(n,S),Qe=C.useCallback(ce=>{fe.current=ce,ce&&_e(ce)},[]),ve=le==null?void 0:le.parentNode;C.useImperativeHandle(Ie,()=>({focus:()=>{fe.current.focus()},node:oe.current,value:$}),[$]),C.useEffect(()=>{d&&X&&le&&!ee&&(Se(a?null:ve.clientWidth),fe.current.focus())},[le,a]),C.useEffect(()=>{s&&fe.current.focus()},[s]),C.useEffect(()=>{if(!y)return;const ce=tn(fe.current).getElementById(y);if(ce){const Je=()=>{getSelection().isCollapsed&&fe.current.focus()};return ce.addEventListener("click",Je),()=>{ce.removeEventListener("click",Je)}}},[y]);const Ye=(ce,Je)=>{ce?k&&k(Je):x&&x(Je),ee||(Se(a?null:ve.clientWidth),se(ce))},Ce=ce=>{ce.button===0&&(ce.preventDefault(),fe.current.focus(),Ye(!0,ce))},Pe=ce=>{Ye(!1,ce)},ke=C.Children.toArray(l),dn=ce=>{const Je=ke.find(ct=>ct.props.value===ce.target.value);Je!==void 0&&(U(Je.props.value),M&&M(ce,Je))},Yt=ce=>Je=>{let ct;if(Je.currentTarget.hasAttribute("tabindex")){if(E){ct=Array.isArray($)?$.slice():[];const lr=$.indexOf(ce.props.value);lr===-1?ct.push(ce.props.value):ct.splice(lr,1)}else ct=ce.props.value;if(ce.props.onClick&&ce.props.onClick(Je),$!==ct&&(U(ct),M)){const lr=Je.nativeEvent||Je,wo=new lr.constructor(lr.type,lr);Object.defineProperty(wo,"target",{writable:!0,value:{value:ct,name:I}}),M(wo,ce)}E||Ye(!1,Je)}},Pt=ce=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ce.key)!==-1&&(ce.preventDefault(),Ye(!0,ce))},Xt=le!==null&&X,st=ce=>{!Xt&&N&&(Object.defineProperty(ce,"target",{writable:!0,value:{value:$,name:I}}),N(ce))};delete F["aria-invalid"];let Ue,Jt;const pt=[];let Me=!1;(rm({value:$})||g)&&(L?Ue=L($):Me=!0);const zt=ke.map(ce=>{if(!C.isValidElement(ce))return null;let Je;if(E){if(!Array.isArray($))throw new Error(sa(2));Je=$.some(ct=>dI(ct,ce.props.value)),Je&&Me&&pt.push(ce.props.children)}else Je=dI($,ce.props.value),Je&&Me&&(Jt=ce.props.children);return C.cloneElement(ce,{"aria-selected":Je?"true":"false",onClick:Yt(ce),onKeyUp:ct=>{ct.key===" "&&ct.preventDefault(),ce.props.onKeyUp&&ce.props.onKeyUp(ct)},role:"option",selected:Je,value:void 0,"data-value":ce.props.value})});Me&&(E?pt.length===0?Ue=null:Ue=pt.reduce((ce,Je,ct)=>(ce.push(Je),ct<pt.length-1&&ce.push(", "),ce),[]):Ue=Jt);let Be=we;!a&&ee&&le&&(Be=ve.clientWidth);let Xe;typeof B<"u"?Xe=B:Xe=f?null:0;const Ne=A.id||(I?`mui-component-select-${I}`:void 0),pe=R({},e,{variant:W,value:$,open:Xt,error:v}),At=zZ(pe),Kr=R({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),hn=Kd();return m.jsxs(C.Fragment,{children:[m.jsx(FZ,R({ref:Qe,tabIndex:Xe,role:"combobox","aria-controls":hn,"aria-disabled":f?"true":void 0,"aria-expanded":Xt?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,Ne].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Pt,onMouseDown:f||D?null:Ce,onBlur:st,onFocus:b},A,{ownerState:pe,className:Z(A.className,At.select,c),id:Ne,children:BZ(Ue)?uI||(uI=m.jsx("span",{className:"notranslate",children:"​"})):Ue})),m.jsx(UZ,R({"aria-invalid":v,value:Array.isArray($)?$.join(","):$,name:I,ref:oe,"aria-hidden":!0,onChange:dn,tabIndex:-1,disabled:f,className:At.nativeInput,autoFocus:s,ownerState:pe},F)),m.jsx(VZ,{as:_,className:At.icon,ownerState:pe}),m.jsx(vD,R({id:`menu-${I||""}`,anchorEl:ve,open:Xt,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:R({"aria-labelledby":y,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:hn},w.MenuListProps),slotProps:R({},w.slotProps,{paper:R({},Kr,{style:R({minWidth:Be},Kr!=null?Kr.style:null)})}),children:zt}))]})}),HZ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qZ=["root"],KZ=t=>{const{classes:e}=t;return e},ST={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>qr(t)&&t!=="variant",slot:"Root"},GZ=K(TT,ST)(""),QZ=K(xT,ST)(""),YZ=K(ET,ST)(""),vh=C.forwardRef(function(e,n){const r=he({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=jQ,id:h,input:f,inputProps:g,label:v,labelId:_,MenuProps:S,multiple:y=!1,native:w=!1,onClose:E,onOpen:I,open:N,renderValue:M,SelectDisplayProps:x,variant:b="outlined"}=r,k=Y(r,HZ),P=w?IZ:WZ,D=Ra(),L=Rc({props:r,muiFormControl:D,states:["variant","error"]}),A=L.variant||b,B=R({},r,{variant:A,classes:s}),q=KZ(B),W=Y(q,qZ),F=f||{standard:m.jsx(GZ,{ownerState:B}),outlined:m.jsx(QZ,{label:v,ownerState:B}),filled:m.jsx(YZ,{ownerState:B})}[A],$=Tt(n,F.ref);return m.jsx(C.Fragment,{children:C.cloneElement(F,R({inputComponent:P,inputProps:R({children:o,error:L.error,IconComponent:d,variant:A,type:void 0,multiple:y},w?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:_,MenuProps:S,onClose:E,onOpen:I,open:N,renderValue:M,SelectDisplayProps:R({id:h},x)},g,{classes:g?qn(W,g.classes):W},f?f.props.inputProps:{})},(y&&w||c)&&A==="outlined"?{notched:!0}:{},{ref:$,className:Z(F.props.className,a,q.root)},!f&&{variant:A},k))})});vh.muiName="Select";function XZ(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=t,s=Uo();C.useEffect(()=>{if(!i)return;function y(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[i,r]);const a=Pr((y,w)=>{r==null||r(y,w)}),l=Pr(y=>{!r||y==null||s.start(y,()=>{a(null,"timeout")})});C.useEffect(()=>(i&&l(e),s.clear),[i,e,l,s]);const c=y=>{r==null||r(y,"clickaway")},d=s.clear,h=C.useCallback(()=>{e!=null&&l(o??e*.5)},[e,o,l]),f=y=>w=>{const E=y.onBlur;E==null||E(w),h()},g=y=>w=>{const E=y.onFocus;E==null||E(w),d()},v=y=>w=>{const E=y.onMouseEnter;E==null||E(w),d()},_=y=>w=>{const E=y.onMouseLeave;E==null||E(w),h()};return C.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",h),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",d)}},[n,i,h,d]),{getRootProps:(y={})=>{const w=R({},Ip(t),Ip(y));return R({role:"presentation"},y,w,{onBlur:f(w),onFocus:g(w),onMouseEnter:v(w),onMouseLeave:_(w)})},onClickAway:c}}function JZ(t){return ue("MuiSnackbarContent",t)}ae("MuiSnackbarContent",["root","message","action"]);const ZZ=["action","className","message","role"],eee=t=>{const{classes:e}=t;return de({root:["root"],action:["action"],message:["message"]},JZ,e)},tee=K(Cn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=BV(t.palette.background.default,e);return R({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),nee=K("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),ree=K("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),iee=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,l=Y(r,ZZ),c=r,d=eee(c);return m.jsxs(tee,R({role:a,square:!0,elevation:6,className:Z(d.root,o),ownerState:c,ref:n},l,{children:[m.jsx(nee,{className:d.message,ownerState:c,children:s}),i?m.jsx(ree,{className:d.action,ownerState:c,children:i}):null]}))});function oee(t){return ue("MuiSnackbar",t)}ae("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const see=["onEnter","onExited"],aee=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],lee=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${z(n.vertical)}${z(n.horizontal)}`]};return de(r,oee,e)},hI=K("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${z(n.anchorOrigin.vertical)}${z(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return R({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:R({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),cee=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiSnackbar"}),i=Ea(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:h,ClickAwayListenerProps:f,ContentProps:g,disableWindowBlurListener:v=!1,message:_,open:S,TransitionComponent:y=Ld,transitionDuration:w=o,TransitionProps:{onEnter:E,onExited:I}={}}=r,N=Y(r.TransitionProps,see),M=Y(r,aee),x=R({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:v,TransitionComponent:y,transitionDuration:w}),b=lee(x),{getRootProps:k,onClickAway:P}=XZ(R({},x)),[D,L]=C.useState(!0),A=ds({elementType:hI,getSlotProps:k,externalForwardedProps:M,ownerState:x,additionalProps:{ref:n},className:[b.root,h]}),B=W=>{L(!0),I&&I(W)},q=(W,F)=>{L(!1),E&&E(W,F)};return!S&&D?null:m.jsx(IY,R({onClickAway:P},f,{children:m.jsx(hI,R({},A,{children:m.jsx(y,R({appear:!0,in:S,timeout:w,direction:a==="top"?"down":"up",onEnter:q,onExited:B},N,{children:d||m.jsx(iee,R({message:_,action:s},g))}))}))}))});function uee(t){return ue("MuiTooltip",t)}const zo=ae("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),dee=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function hee(t){return Math.round(t*1e5)/1e5}const fee=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${z(o.split("-")[0])}`],arrow:["arrow"]};return de(s,uee,e)},pee=K(iD,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>R({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${zo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${zo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${zo.arrow}`]:R({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${zo.arrow}`]:R({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),mee=K("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${z(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>R({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:je(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${hee(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${zo.popper}[data-popper-placement*="left"] &`]:R({transformOrigin:"right center"},e.isRtl?R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):R({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${zo.popper}[data-popper-placement*="right"] &`]:R({transformOrigin:"left center"},e.isRtl?R({marginRight:"14px"},e.touch&&{marginRight:"24px"}):R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${zo.popper}[data-popper-placement*="top"] &`]:R({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${zo.popper}[data-popper-placement*="bottom"] &`]:R({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),gee=K("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:je(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let vf=!1;const fI=new Gd;let uu={x:0,y:0};function yf(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const vee=C.forwardRef(function(e,n){var r,i,o,s,a,l,c,d,h,f,g,v,_,S,y,w,E,I,N;const M=he({props:e,name:"MuiTooltip"}),{arrow:x=!1,children:b,components:k={},componentsProps:P={},describeChild:D=!1,disableFocusListener:L=!1,disableHoverListener:A=!1,disableInteractive:B=!1,disableTouchListener:q=!1,enterDelay:W=100,enterNextDelay:F=0,enterTouchDelay:$=700,followCursor:U=!1,id:X,leaveDelay:se=0,leaveTouchDelay:oe=1500,onClose:fe,onOpen:le,open:_e,placement:ee="bottom",PopperComponent:we,PopperProps:Se={},slotProps:Ie={},slots:Qe={},title:ve,TransitionComponent:Ye=Ld,TransitionProps:Ce}=M,Pe=Y(M,dee),ke=C.isValidElement(b)?b:m.jsx("span",{children:b}),dn=Ea(),Yt=Pw(),[Pt,Xt]=C.useState(),[st,Ue]=C.useState(null),Jt=C.useRef(!1),pt=B||U,Me=Uo(),zt=Uo(),Be=Uo(),Xe=Uo(),[Ne,pe]=Sp({controlled:_e,default:!1,name:"Tooltip",state:"open"});let At=Ne;const Kr=Kd(X),hn=C.useRef(),ce=Pr(()=>{hn.current!==void 0&&(document.body.style.WebkitUserSelect=hn.current,hn.current=void 0),Xe.clear()});C.useEffect(()=>ce,[ce]);const Je=Re=>{fI.clear(),vf=!0,pe(!0),le&&!At&&le(Re)},ct=Pr(Re=>{fI.start(800+se,()=>{vf=!1}),pe(!1),fe&&At&&fe(Re),Me.start(dn.transitions.duration.shortest,()=>{Jt.current=!1})}),lr=Re=>{Jt.current&&Re.type!=="touchstart"||(Pt&&Pt.removeAttribute("title"),zt.clear(),Be.clear(),W||vf&&F?zt.start(vf?F:W,()=>{Je(Re)}):Je(Re))},wo=Re=>{zt.clear(),Be.start(se,()=>{ct(Re)})},{isFocusVisibleRef:ka,onBlur:yh,onFocus:_h,ref:Ss}=Jm(),[,Pa]=C.useState(!1),Aa=Re=>{yh(Re),ka.current===!1&&(Pa(!1),wo(Re))},ui=Re=>{Pt||Xt(Re.currentTarget),_h(Re),ka.current===!0&&(Pa(!0),lr(Re))},Ac=Re=>{Jt.current=!0;const mn=ke.props;mn.onTouchStart&&mn.onTouchStart(Re)},Na=Re=>{Ac(Re),Be.clear(),Me.clear(),ce(),hn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Xe.start($,()=>{document.body.style.WebkitUserSelect=hn.current,lr(Re)})},wh=Re=>{ke.props.onTouchEnd&&ke.props.onTouchEnd(Re),ce(),Be.start(oe,()=>{ct(Re)})};C.useEffect(()=>{if(!At)return;function Re(mn){(mn.key==="Escape"||mn.key==="Esc")&&ct(mn)}return document.addEventListener("keydown",Re),()=>{document.removeEventListener("keydown",Re)}},[ct,At]);const Is=Tt(ke.ref,Ss,Xt,n);!ve&&ve!==0&&(At=!1);const Oa=C.useRef(),fn=Re=>{const mn=ke.props;mn.onMouseMove&&mn.onMouseMove(Re),uu={x:Re.clientX,y:Re.clientY},Oa.current&&Oa.current.update()},Eo={},Mi=typeof ve=="string";D?(Eo.title=!At&&Mi&&!A?ve:null,Eo["aria-describedby"]=At?Kr:null):(Eo["aria-label"]=Mi?ve:null,Eo["aria-labelledby"]=At&&!Mi?Kr:null);const pn=R({},Eo,Pe,ke.props,{className:Z(Pe.className,ke.props.className),onTouchStart:Ac,ref:Is},U?{onMouseMove:fn}:{}),Rs={};q||(pn.onTouchStart=Na,pn.onTouchEnd=wh),A||(pn.onMouseOver=yf(lr,pn.onMouseOver),pn.onMouseLeave=yf(wo,pn.onMouseLeave),pt||(Rs.onMouseOver=lr,Rs.onMouseLeave=wo)),L||(pn.onFocus=yf(ui,pn.onFocus),pn.onBlur=yf(Aa,pn.onBlur),pt||(Rs.onFocus=ui,Rs.onBlur=Aa));const qg=C.useMemo(()=>{var Re;let mn=[{name:"arrow",enabled:!!st,options:{element:st,padding:4}}];return(Re=Se.popperOptions)!=null&&Re.modifiers&&(mn=mn.concat(Se.popperOptions.modifiers)),R({},Se.popperOptions,{modifiers:mn})},[st,Se]),Cr=R({},M,{isRtl:Yt,arrow:x,disableInteractive:pt,placement:ee,PopperComponentProp:we,touch:Jt.current}),Nc=fee(Cr),Eh=(r=(i=Qe.popper)!=null?i:k.Popper)!=null?r:pee,ks=(o=(s=(a=Qe.transition)!=null?a:k.Transition)!=null?s:Ye)!=null?o:Ld,Oc=(l=(c=Qe.tooltip)!=null?c:k.Tooltip)!=null?l:mee,Da=(d=(h=Qe.arrow)!=null?h:k.Arrow)!=null?d:gee,Ma=ul(Eh,R({},Se,(f=Ie.popper)!=null?f:P.popper,{className:Z(Nc.popper,Se==null?void 0:Se.className,(g=(v=Ie.popper)!=null?v:P.popper)==null?void 0:g.className)}),Cr),di=ul(ks,R({},Ce,(_=Ie.transition)!=null?_:P.transition),Cr),Th=ul(Oc,R({},(S=Ie.tooltip)!=null?S:P.tooltip,{className:Z(Nc.tooltip,(y=(w=Ie.tooltip)!=null?w:P.tooltip)==null?void 0:y.className)}),Cr),Ch=ul(Da,R({},(E=Ie.arrow)!=null?E:P.arrow,{className:Z(Nc.arrow,(I=(N=Ie.arrow)!=null?N:P.arrow)==null?void 0:I.className)}),Cr);return m.jsxs(C.Fragment,{children:[C.cloneElement(ke,pn),m.jsx(Eh,R({as:we??iD,placement:ee,anchorEl:U?{getBoundingClientRect:()=>({top:uu.y,left:uu.x,right:uu.x,bottom:uu.y,width:0,height:0})}:Pt,popperRef:Oa,open:Pt?At:!1,id:Kr,transition:!0},Rs,Ma,{popperOptions:qg,children:({TransitionProps:Re})=>m.jsx(ks,R({timeout:dn.transitions.duration.shorter},Re,di,{children:m.jsxs(Oc,R({},Th,{children:[ve,x?m.jsx(Da,R({},Ch,{ref:Ue})):null]}))}))}))]})}),wD=C.createContext();function yee(t){return ue("MuiTable",t)}ae("MuiTable",["root","stickyHeader"]);const _ee=["className","component","padding","size","stickyHeader"],wee=t=>{const{classes:e,stickyHeader:n}=t;return de({root:["root",n&&"stickyHeader"]},yee,e)},Eee=K("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>R({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":R({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),pI="table",ED=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTable"}),{className:i,component:o=pI,padding:s="normal",size:a="medium",stickyHeader:l=!1}=r,c=Y(r,_ee),d=R({},r,{component:o,padding:s,size:a,stickyHeader:l}),h=wee(d),f=C.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return m.jsx(wD.Provider,{value:f,children:m.jsx(Eee,R({as:o,role:o===pI?null:"table",ref:n,className:Z(h.root,i),ownerState:d},c))})}),Hg=C.createContext();function Tee(t){return ue("MuiTableBody",t)}ae("MuiTableBody",["root"]);const Cee=["className","component"],bee=t=>{const{classes:e}=t;return de({root:["root"]},Tee,e)},xee=K("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),See={variant:"body"},mI="tbody",TD=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTableBody"}),{className:i,component:o=mI}=r,s=Y(r,Cee),a=R({},r,{component:o}),l=bee(a);return m.jsx(Hg.Provider,{value:See,children:m.jsx(xee,R({className:Z(l.root,i),as:o,ref:n,role:o===mI?null:"rowgroup",ownerState:a},s))})});function Iee(t){return ue("MuiTableCell",t)}const Ree=ae("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),kee=["align","className","component","padding","scope","size","sortDirection","variant"],Pee=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${z(r)}`,i!=="normal"&&`padding${z(i)}`,`size${z(o)}`]};return de(a,Iee,e)},Aee=K("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${z(n.size)}`],n.padding!=="normal"&&e[`padding${z(n.padding)}`],n.align!=="inherit"&&e[`align${z(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>R({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?yd(je(t.palette.divider,1),.88):vd(je(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${Ree.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Ht=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:d,variant:h}=r,f=Y(r,kee),g=C.useContext(wD),v=C.useContext(Hg),_=v&&v.variant==="head";let S;s?S=s:S=_?"th":"td";let y=l;S==="td"?y=void 0:!y&&_&&(y="col");const w=h||v&&v.variant,E=R({},r,{align:i,component:S,padding:a||(g&&g.padding?g.padding:"normal"),size:c||(g&&g.size?g.size:"medium"),sortDirection:d,stickyHeader:w==="head"&&g&&g.stickyHeader,variant:w}),I=Pee(E);let N=null;return d&&(N=d==="asc"?"ascending":"descending"),m.jsx(Aee,R({as:S,ref:n,className:Z(I.root,o),"aria-sort":N,scope:y,ownerState:E},f))});function Nee(t){return ue("MuiTableContainer",t)}ae("MuiTableContainer",["root"]);const Oee=["className","component"],Dee=t=>{const{classes:e}=t;return de({root:["root"]},Nee,e)},Mee=K("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),CD=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTableContainer"}),{className:i,component:o="div"}=r,s=Y(r,Oee),a=R({},r,{component:o}),l=Dee(a);return m.jsx(Mee,R({ref:n,as:o,className:Z(l.root,i),ownerState:a},s))});function Lee(t){return ue("MuiTableHead",t)}ae("MuiTableHead",["root"]);const $ee=["className","component"],jee=t=>{const{classes:e}=t;return de({root:["root"]},Lee,e)},Fee=K("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),Vee={variant:"head"},gI="thead",bD=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTableHead"}),{className:i,component:o=gI}=r,s=Y(r,$ee),a=R({},r,{component:o}),l=jee(a);return m.jsx(Hg.Provider,{value:Vee,children:m.jsx(Fee,R({as:o,className:Z(l.root,i),ref:n,role:o===gI?null:"rowgroup",ownerState:a},s))})});function Uee(t){return ue("MuiToolbar",t)}ae("MuiToolbar",["root","gutters","regular","dense"]);const Bee=["className","component","disableGutters","variant"],zee=t=>{const{classes:e,disableGutters:n,variant:r}=t;return de({root:["root",!n&&"gutters",r]},Uee,e)},Wee=K("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>R({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Hee=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,l=Y(r,Bee),c=R({},r,{component:o,disableGutters:s,variant:a}),d=zee(c);return m.jsx(Wee,R({as:o,className:Z(d.root,i),ref:n,ownerState:c},l))});function qee(t){return ue("MuiTableRow",t)}const vI=ae("MuiTableRow",["root","selected","hover","head","footer"]),Kee=["className","component","hover","selected"],Gee=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return de({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},qee,e)},Qee=K("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${vI.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${vI.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:je(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:je(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),yI="tr",kl=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTableRow"}),{className:i,component:o=yI,hover:s=!1,selected:a=!1}=r,l=Y(r,Kee),c=C.useContext(Hg),d=R({},r,{component:o,hover:s,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),h=Gee(d);return m.jsx(Qee,R({as:o,ref:n,className:Z(h.root,i),role:o===yI?null:"row",ownerState:d},l))});function Yee(t){return ue("MuiTextField",t)}ae("MuiTextField",["root"]);const Xee=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Jee={standard:TT,filled:ET,outlined:xT},Zee=t=>{const{classes:e}=t;return de({root:["root"]},Yee,e)},ete=K(zg,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ht=C.forwardRef(function(e,n){const r=he({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:d=!1,error:h=!1,FormHelperTextProps:f,fullWidth:g=!1,helperText:v,id:_,InputLabelProps:S,inputProps:y,InputProps:w,inputRef:E,label:I,maxRows:N,minRows:M,multiline:x=!1,name:b,onBlur:k,onChange:P,onFocus:D,placeholder:L,required:A=!1,rows:B,select:q=!1,SelectProps:W,type:F,value:$,variant:U="outlined"}=r,X=Y(r,Xee),se=R({},r,{autoFocus:o,color:l,disabled:d,error:h,fullWidth:g,multiline:x,required:A,select:q,variant:U}),oe=Zee(se),fe={};U==="outlined"&&(S&&typeof S.shrink<"u"&&(fe.notched=S.shrink),fe.label=I),q&&((!W||!W.native)&&(fe.id=void 0),fe["aria-describedby"]=void 0);const le=Kd(_),_e=v&&le?`${le}-helper-text`:void 0,ee=I&&le?`${le}-label`:void 0,we=Jee[U],Se=m.jsx(we,R({"aria-describedby":_e,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:g,multiline:x,name:b,rows:B,maxRows:N,minRows:M,type:F,value:$,id:le,inputRef:E,onBlur:k,onChange:P,onFocus:D,placeholder:L,inputProps:y},fe,w));return m.jsxs(ete,R({className:Z(oe.root,a),disabled:d,error:h,fullWidth:g,ref:n,required:A,color:l,variant:U,ownerState:se},X,{children:[I!=null&&I!==""&&m.jsx(Wg,R({htmlFor:le,id:ee},S,{children:I})),q?m.jsx(vh,R({"aria-describedby":_e,id:le,labelId:ee,value:$,input:Se},W,{children:s})):Se,v&&m.jsx(NX,R({id:_e},f,{children:v}))]}))}),tte=Sn(m.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),nte=Sn(m.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),rte=Sn(m.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),ite=Sn(m.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ote=Sn(m.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),ste=Sn(m.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),_I=Sn(m.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),ate=Sn(m.jsx("path",{d:"M6 6h12v12H6z"}),"Stop"),ay=t=>(console.error("Auth Error:",t),t.code==="auth/email-already-in-use"?"Cet email est déjà utilisé. Veuillez vous connecter ou utiliser un autre email.":t.code==="auth/weak-password"?"Le mot de passe doit contenir au moins 6 caractères.":t.code==="auth/invalid-email"?"L'adresse email n'est pas valide.":t.code==="auth/user-not-found"||t.code==="auth/wrong-password"?"Email ou mot de passe incorrect.":t.code==="auth/invalid-credential"?"Identifiants invalides. Veuillez vérifier votre email et mot de passe.":t.code==="auth/too-many-requests"?"Trop de tentatives de connexion. Veuillez réessayer plus tard.":t.code==="permission-denied"?(console.warn("Firestore permission denied - this is expected until rules are set"),"Erreur d'accès à la base de données. Les données seront synchronisées ultérieurement."):t.message||"Une erreur est survenue. Veuillez réessayer."),lte={register:async({email:t,password:e,firstName:n,lastName:r})=>{console.log("Starting registration process for:",t);try{const o=(await Qw(os,t,e)).user;console.log("User created successfully:",o.uid);try{await T_(o,{displayName:`${n} ${r}`}),console.log("User profile updated successfully");try{await ju(Wn(db,"users",o.uid),{uid:o.uid,email:t,firstName:n,lastName:r,role:"user",createdAt:new Date().toISOString()}),console.log("User document created in Firestore")}catch(s){if(console.error("Firestore error:",s),s.code!=="permission-denied")throw s}return o}catch(s){return console.error("Profile update error:",s),o}}catch(i){console.error("Registration error:",i);const o=ay(i);throw new Error(o)}},login:async(t,e)=>{console.log("Starting login process for:",t);try{const n=await OA(os,t,e);return console.log("Login successful for user:",n.user.uid),n.user}catch(n){console.error("Login error:",n);const r=ay(n);throw new Error(r)}},logout:async()=>{console.log("Starting logout process");try{await b3(os),console.log("Logout successful")}catch(t){console.error("Logout error:",t);const e=ay(t);throw new Error(e)}}},cte=()=>{const t=fc(),{currentUser:e,userRole:n}=Di(),[r,i]=an.useState(null),o=l=>{i(l.currentTarget)},s=()=>{i(null)},a=async()=>{try{await lte.logout(),t("/login")}catch(l){console.error("Erreur lors de la déconnexion:",l)}};return e?m.jsx(GK,{position:"static",children:m.jsxs(Hee,{children:[m.jsx(ge,{variant:"h6",sx:{flexGrow:1},children:"Time Tracker"}),m.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:2},children:[m.jsx(ft,{color:"inherit",onClick:()=>t("/"),children:"Dashboard"}),m.jsx(ft,{color:"inherit",onClick:()=>t("/projects"),children:"Projets"}),n===_t.ADMIN&&m.jsx(ft,{color:"inherit",onClick:()=>t("/admin"),children:"Administration"}),m.jsx(ii,{size:"large","aria-label":"compte de l'utilisateur","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:o,color:"inherit",children:m.jsx(tte,{})}),m.jsxs(vD,{id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!r,onClose:s,children:[m.jsx(as,{onClick:()=>{s(),t("/profile")},children:"Profil"}),m.jsx(as,{onClick:()=>{s(),a()},children:"Déconnexion"})]})]})]})}):null},Bi=t=>t===_t.ADMIN||t===_t.PROJECT_LEADER||t===_t.USER,ute=t=>t===_t.ADMIN||t===_t.PROJECT_LEADER,dte=t=>{const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},hte=({projectId:t,projectName:e,onTimeUpdate:n})=>{const{currentUser:r,userRole:i}=Di(),[o,s]=C.useState(!1),[a,l]=C.useState(0),[c,d]=C.useState(null),[h,f]=C.useState(!1),[g,v]=C.useState(""),[_,S]=C.useState(!1);C.useEffect(()=>{let M;return o&&(M=setInterval(()=>{l(x=>x+1)},1e3)),()=>clearInterval(M)},[o]);const y=()=>{s(!0),d(new Date)},w=async()=>{s(!1),c&&(await E(new Date,g),d(null),l(0))},E=async(M,x)=>{if(!r||!c){console.error("Utilisateur non connecté ou temps de début non défini");return}console.log("Début de sauvegarde avec utilisateur:",r.uid),S(!0);try{const b=Math.floor((M.getTime()-c.getTime())/1e3);console.log("Durée calculée:",b);const k={startTime:c,endTime:M,duration:b,notes:x,userId:r.uid,projectId:t};console.log("Tentative de sauvegarde de timeEntry:",k);const P=Kn(ut,"timeEntries");console.log("Sauvegarde dans la collection principale timeEntries");const D=await LE(P,{...k,startTime:He.fromDate(k.startTime),endTime:He.fromDate(k.endTime)});console.log("TimeEntry sauvegardée avec ID:",D.id);const L=Wn(ut,"projects",t);await bg(L,{totalTime:OW(b),lastUpdated:He.now()}),console.log("Projet mis à jour avec nouveau temps total"),n()}catch(b){console.error("Erreur détaillée lors de la sauvegarde du temps:",b),b instanceof Error&&(console.error("Message d'erreur:",b.message),console.error("Stack trace:",b.stack))}finally{S(!1),l(0)}},I=async()=>{c&&(await E(new Date,g),d(null),l(0),v("")),f(!1)},N=()=>{o?w():y()};return m.jsxs(m.Fragment,{children:[m.jsxs(Ee,{display:"flex",alignItems:"center",gap:1,children:[m.jsx(ge,{variant:"h6",component:"span",sx:{minWidth:100},children:dte(a)}),_?m.jsx(zr,{size:24}):m.jsx(ft,{variant:"contained",color:o?"error":"primary",onClick:N,size:"small",startIcon:o?m.jsx(ate,{}):m.jsx(ste,{}),children:o?"Stop":"Start"}),o&&m.jsx(ii,{color:"primary",onClick:()=>f(!0),disabled:!Bi(i)||_,children:m.jsx(ote,{})})]}),m.jsxs(Fg,{open:h,onClose:()=>f(!1),children:[m.jsxs(Bg,{children:["Ajouter des notes pour ",e]}),m.jsx(Ug,{children:m.jsx(ht,{autoFocus:!0,margin:"dense",label:"Notes",fullWidth:!0,multiline:!0,rows:4,value:g,onChange:M=>v(M.target.value)})}),m.jsxs(Vg,{children:[m.jsx(ft,{onClick:()=>f(!1),children:"Annuler"}),m.jsx(ft,{onClick:I,variant:"contained",children:"Enregistrer"})]})]})]})};var IT={},ly={};const fte=po(Uq);var wI;function _o(){return wI||(wI=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=fte}(ly)),ly}var pte=li;Object.defineProperty(IT,"__esModule",{value:!0});var xD=IT.default=void 0,mte=pte(_o()),gte=m;xD=IT.default=(0,mte.default)((0,gte.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt");var RT={},vte=li;Object.defineProperty(RT,"__esModule",{value:!0});var kT=RT.default=void 0,yte=vte(_o()),_te=m;kT=RT.default=(0,yte.default)((0,_te.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const wte=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0),[i,o]=C.useState(null);return C.useEffect(()=>{const a=Jw().currentUser;if(!a){o("Utilisateur non connecté"),r(!1);return}const l=Kn(ut,"projects"),c=Pi(l,Ai("createdBy","==",a.uid)),d=dO(c,h=>{const f=h.docs.map(g=>({id:g.id,...g.data()}));e(f),r(!1)},h=>{console.error("Erreur lors de la récupération des projets:",h),o(h.message),r(!1)});return()=>d()},[]),{projects:t,loading:n,error:i}},Ete=({open:t,onClose:e,timeEntry:n,onUpdate:r})=>{const[i,o]=C.useState({startDate:"",startTime:"",endDate:"",endTime:"",notes:"",projectId:""}),[s,a]=C.useState(!1),{projects:l,loading:c,error:d}=wte();C.useEffect(()=>{if(n&&l.length>0){const f=new Date(n.startTime),g=new Date(n.endTime),v=S=>S.toTimeString().slice(0,8),_=l.some(S=>S.id===n.projectId);o(S=>{const y=f.toISOString().split("T")[0],w=v(f),E=g.toISOString().split("T")[0],I=v(g),N=_?n.projectId:l[0].id;return S.startDate===y&&S.startTime===w&&S.endDate===E&&S.endTime===I&&S.notes===n.notes&&S.projectId===N?S:{startDate:y,startTime:w,endDate:E,endTime:I,notes:n.notes||"",projectId:N}})}},[n,l]);const h=async()=>{if(n)try{a(!0);const f=new Date(`${i.startDate}T${i.startTime}`),g=new Date(`${i.endDate}T${i.endTime}`),v=Wn(ut,"timeEntries",n.id);await bg(v,{startTime:He.fromDate(f),endTime:He.fromDate(g),notes:i.notes,projectId:i.projectId,lastUpdated:He.now()}),r(),e()}catch(f){console.error("Erreur lors de la mise à jour de l'entrée de temps:",f)}finally{a(!1)}};return!t||!n?null:m.jsxs(Fg,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[m.jsx(Bg,{children:"Modifier l'entrée de temps"}),m.jsx(Ug,{children:c?m.jsx(Ee,{display:"flex",justifyContent:"center",my:3,children:m.jsx(zr,{})}):d?m.jsx(Ee,{display:"flex",justifyContent:"center",my:3,color:"error.main",children:d}):l.length===0?m.jsx(Ee,{display:"flex",justifyContent:"center",my:3,children:"Aucun projet disponible"}):m.jsxs(Qf,{spacing:2,sx:{mt:2},children:[m.jsxs(zg,{fullWidth:!0,children:[m.jsx(Wg,{id:"project-select-label",children:"Projet"}),m.jsx(vh,{labelId:"project-select-label",value:i.projectId,onChange:f=>o(g=>({...g,projectId:f.target.value})),label:"Projet",children:l.map(f=>m.jsx(as,{value:f.id,children:f.name},f.id))})]}),m.jsxs(Qf,{direction:"row",spacing:2,children:[m.jsx(ht,{label:"Date de début",type:"date",value:i.startDate,onChange:f=>o(g=>({...g,startDate:f.target.value})),InputLabelProps:{shrink:!0},fullWidth:!0}),m.jsx(ht,{label:"Heure de début",type:"time",value:i.startTime,onChange:f=>o(g=>({...g,startTime:f.target.value})),InputLabelProps:{shrink:!0},fullWidth:!0})]}),m.jsxs(Qf,{direction:"row",spacing:2,children:[m.jsx(ht,{label:"Date de fin",type:"date",value:i.endDate,onChange:f=>o(g=>({...g,endDate:f.target.value})),InputLabelProps:{shrink:!0},fullWidth:!0}),m.jsx(ht,{label:"Heure de fin",type:"time",value:i.endTime,onChange:f=>o(g=>({...g,endTime:f.target.value})),InputLabelProps:{shrink:!0},fullWidth:!0})]}),m.jsx(ht,{label:"Notes",value:i.notes,onChange:f=>o(g=>({...g,notes:f.target.value})),multiline:!0,rows:2,fullWidth:!0})]})}),m.jsxs(Vg,{children:[m.jsx(ft,{onClick:e,children:"Annuler"}),m.jsx(ft,{onClick:h,variant:"contained",color:"primary",disabled:s||c,children:s?m.jsx(zr,{size:20}):"Enregistrer"})]})]})};var PT={},Tte=li;Object.defineProperty(PT,"__esModule",{value:!0});var SD=PT.default=void 0,Cte=Tte(_o()),bte=m;SD=PT.default=(0,Cte.default)((0,bte.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var AT={},xte=li;Object.defineProperty(AT,"__esModule",{value:!0});var ID=AT.default=void 0,Ste=xte(_o()),Ite=m;ID=AT.default=(0,Ste.default)((0,Ite.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");const cy=t=>{const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return`${e}h ${n}m ${r}s`},Rte=t=>t.toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"}),EI=t=>t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),kte=({projectId:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState([]),[o,s]=C.useState(!0),[a,l]=C.useState(null),[c,d]=C.useState(0),[h,f]=C.useState(""),[g,v]=C.useState(""),[_,S]=C.useState(null),y=N=>{const M={};return N.forEach(x=>{const b=x.notes||"Sans description";M[b]||(M[b]=[]),M[b].push(x)}),Object.entries(M).map(([x,b])=>({description:x,entries:b.sort((k,P)=>P.startTime.getTime()-k.startTime.getTime()),totalDuration:b.reduce((k,P)=>k+P.duration,0),isExpanded:!1}))};C.useEffect(()=>{const N=Kn(ut,"timeEntries"),M=Pi(N,Ai("projectId","==",t)),x=dO(M,b=>{const k=[];let P=0;b.forEach(D=>{const L=D.data(),A=L.startTime instanceof He?L.startTime.toDate():new Date(L.startTime),B=L.endTime instanceof He?L.endTime.toDate():new Date(L.endTime),q={id:D.id,startTime:A,endTime:B,duration:L.duration,notes:L.notes||"",userId:L.userId,projectId:L.projectId};k.push(q),P+=q.duration}),n(k),i(y(k)),d(P),s(!1)},b=>{console.error("Erreur lors de la récupération des time entries:",b),l("Erreur lors du chargement des entrées de temps"),s(!1)});return()=>x()},[t]);const w=N=>{i(M=>M.map((x,b)=>b===N?{...x,isExpanded:!x.isExpanded}:x))},E=N=>{S(N)},I=()=>{};return o?m.jsx(Ee,{display:"flex",justifyContent:"center",p:3,children:m.jsx(zr,{})}):a?m.jsx(Ee,{p:3,children:m.jsx(ge,{color:"error",children:a})}):m.jsxs(Ee,{children:[m.jsxs(Qf,{direction:"row",spacing:2,mb:3,alignItems:"center",children:[m.jsx(ht,{label:"Date de début",type:"date",value:h,onChange:N=>f(N.target.value),InputLabelProps:{shrink:!0},size:"small"}),m.jsx(ht,{label:"Date de fin",type:"date",value:g,onChange:N=>v(N.target.value),InputLabelProps:{shrink:!0},size:"small"}),m.jsx(vee,{title:"Réinitialiser les filtres",children:m.jsx(ii,{onClick:()=>{f(""),v(""),i(y(e)),d(e.reduce((N,M)=>N+M.duration,0))},size:"small",color:"primary",sx:{ml:1},children:m.jsx(xD,{})})}),m.jsxs(ge,{variant:"subtitle1",color:"primary",sx:{ml:"auto"},children:["Temps total : ",cy(c)]})]}),m.jsx(CD,{component:Cn,children:m.jsxs(ED,{children:[m.jsx(bD,{children:m.jsxs(kl,{children:[m.jsx(Ht,{children:"Description"}),m.jsx(Ht,{children:"Durée totale"}),m.jsx(Ht,{align:"right",children:"Actions"})]})}),m.jsx(TD,{children:r.map((N,M)=>m.jsxs(an.Fragment,{children:[m.jsxs(kl,{hover:!0,onClick:()=>w(M),sx:{cursor:"pointer",backgroundColor:N.isExpanded?"action.hover":"inherit"},children:[m.jsx(Ht,{children:m.jsxs(Ee,{display:"flex",alignItems:"center",children:[m.jsx(ii,{size:"small",sx:{mr:1},children:N.isExpanded?m.jsx(SD,{}):m.jsx(ID,{})}),N.description]})}),m.jsx(Ht,{children:cy(N.totalDuration)}),m.jsx(Ht,{align:"right",children:m.jsxs(ge,{variant:"body2",color:"text.secondary",children:[N.entries.length," entrée",N.entries.length>1?"s":""]})})]}),N.isExpanded&&N.entries.map(x=>m.jsxs(kl,{sx:{backgroundColor:"action.hover"},children:[m.jsxs(Ht,{sx:{pl:6},children:[Rte(x.startTime)," ",EI(x.startTime)," - ",EI(x.endTime)]}),m.jsx(Ht,{children:cy(x.duration)}),m.jsx(Ht,{align:"right",children:m.jsx(ii,{size:"small",onClick:b=>{b.stopPropagation(),E(x)},children:m.jsx(kT,{})})})]},x.id))]},N.description))})]})}),m.jsx(Ete,{open:!!_,onClose:()=>S(null),timeEntry:_,onUpdate:I})]})},Pte=()=>{const{currentUser:t,userRole:e}=Di(),n=hc(),[r,i]=C.useState([]),[o,s]=C.useState([]),[a,l]=C.useState(""),[c,d]=C.useState(!1),[h,f]=C.useState(null),[g,v]=C.useState({name:"",description:"",status:"active",deadline:""}),[_,S]=C.useState(""),[y,w]=C.useState([]),[E,I]=C.useState(!1),N=async()=>{if(t)try{const F=Kn(ut,"projects"),$=Pi(F,Ai("createdBy","==",t.uid)),U=await uo($),X=[];U.forEach(se=>{X.push({id:se.id,...se.data()})}),i(X)}catch(F){console.error("Erreur lors de la récupération des projets:",F)}},M=C.useCallback(N,[t]);C.useEffect(()=>{M()},[M]),C.useEffect(()=>{var F;(F=n.state)!=null&&F.openNewProject&&(b(),window.history.replaceState({},document.title))},[n]),C.useEffect(()=>{const F=r.filter($=>$.name.toLowerCase().includes(a.toLowerCase())||$.description.toLowerCase().includes(a.toLowerCase()));s(F)},[a,r]);const x=(F,$)=>!r.some(U=>U.name.toLowerCase()===F.toLowerCase()&&U.id!==$),b=F=>{F?(f(F),v({name:F.name,description:F.description,status:F.status,deadline:F.deadline})):(f(null),v({name:"",description:"",status:"active",deadline:""})),d(!0)},k=()=>{d(!1),f(null)},P=async()=>{if(t){if(S(""),!g.name.trim()){S("Le nom du projet est requis");return}if(!x(g.name,h==null?void 0:h.id)){S("Un projet avec ce nom existe déjà");return}try{h?await bg(Wn(ut,"projects",h.id),{...g,lastUpdated:He.now()}):await LE(Kn(ut,"projects"),{...g,createdBy:t.uid,members:[t.uid],totalTime:0,lastUpdated:He.now(),createdAt:He.now()}),k(),N()}catch(F){console.error("Erreur lors de la sauvegarde du projet:",F)}}},D=async F=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce projet ?"))try{await uO(Wn(ut,"projects",F)),N()}catch($){console.error("Erreur lors de la suppression du projet:",$)}},L=F=>{b(F)},A=F=>{D(F)},B=F=>{const $=Math.floor(F/3600),U=Math.floor(F%3600/60),X=F%60;return`${$.toString().padStart(2,"0")}h ${U.toString().padStart(2,"0")}m ${X.toString().padStart(2,"0")}s`},q=F=>{w($=>$.includes(F)?$.filter(U=>U!==F):[...$,F])},W=F=>y.includes(F);return m.jsxs(kc,{maxWidth:"lg",sx:{mt:4,mb:4},children:[m.jsxs(Ee,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[m.jsx(ge,{variant:"h4",component:"h1",children:"Projets"}),m.jsxs(Ee,{display:"flex",gap:2,children:[m.jsx(ii,{onClick:()=>I(!E),color:E?"primary":"default",children:m.jsx(_I,{})}),Bi(e)&&m.jsx(ft,{variant:"contained",color:"primary",startIcon:m.jsx(nte,{}),onClick:()=>b(),children:"Nouveau Projet"})]})]}),m.jsx(i0,{in:E,children:m.jsx(Ee,{mb:3,children:m.jsx(ht,{fullWidth:!0,variant:"outlined",placeholder:"Rechercher un projet...",value:a,onChange:F=>l(F.target.value),InputProps:{startAdornment:m.jsx(cJ,{position:"start",children:m.jsx(_I,{})})}})})}),m.jsx(ze,{container:!0,spacing:3,children:o.map(F=>m.jsx(ze,{item:!0,xs:12,children:m.jsxs(Cn,{sx:{p:2,cursor:"pointer"},children:[m.jsxs(Ee,{display:"flex",alignItems:"center",justifyContent:"space-between",onClick:$=>{$.stopPropagation(),q(F.id)},sx:{cursor:"pointer"},children:[m.jsxs(Ee,{display:"flex",alignItems:"center",gap:2,children:[m.jsx(ge,{variant:"h6",children:F.name}),m.jsx(bQ,{label:F.status,size:"small",color:F.status==="active"?"success":F.status==="completed"?"primary":"default"})]}),m.jsxs(Ee,{display:"flex",alignItems:"center",gap:1,children:[m.jsx(hte,{projectId:F.id,projectName:F.name,onTimeUpdate:N}),ute(e)&&m.jsxs(m.Fragment,{children:[m.jsx(ii,{onClick:$=>{$.stopPropagation(),L(F)},color:"primary",size:"small",children:m.jsx(ite,{})}),m.jsx(ii,{onClick:$=>{$.stopPropagation(),A(F.id)},color:"error",size:"small",children:m.jsx(rte,{})})]})]})]}),m.jsx(i0,{in:W(F.id),children:m.jsxs(Ee,{mt:2,onClick:$=>$.stopPropagation(),children:[m.jsxs(Ee,{mb:2,children:[m.jsxs(ge,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Échéance: ",new Date(F.deadline).toLocaleDateString()]}),m.jsx(ge,{variant:"body2",color:"text.secondary",children:F.description})]}),m.jsx(Ee,{mb:2,children:m.jsxs(ge,{variant:"body2",color:"text.secondary",children:["Temps total: ",B(F.totalTime||0)]})}),m.jsx(kte,{projectId:F.id})]})})]})},F.id))}),m.jsxs(Fg,{open:c,onClose:k,maxWidth:"sm",fullWidth:!0,children:[m.jsx(Bg,{children:h?"Modifier le projet":"Nouveau projet"}),m.jsx(Ug,{children:m.jsxs(Ee,{sx:{mt:2},children:[m.jsx(ht,{fullWidth:!0,label:"Nom du projet",value:g.name,onChange:F=>{v({...g,name:F.target.value}),S("")},margin:"normal",error:!!_,helperText:_}),m.jsx(ht,{fullWidth:!0,label:"Description",value:g.description,onChange:F=>v({...g,description:F.target.value}),margin:"normal",multiline:!0,rows:3}),m.jsxs(ht,{fullWidth:!0,select:!0,label:"Statut",value:g.status,onChange:F=>v({...g,status:F.target.value}),margin:"normal",children:[m.jsx(as,{value:"active",children:"Actif"}),m.jsx(as,{value:"completed",children:"Terminé"}),m.jsx(as,{value:"on-hold",children:"En pause"})]}),m.jsx(ht,{fullWidth:!0,type:"date",label:"Date d'échéance",value:g.deadline,onChange:F=>v({...g,deadline:F.target.value}),margin:"normal",InputLabelProps:{shrink:!0}})]})}),m.jsxs(Vg,{children:[m.jsx(ft,{onClick:k,children:"Annuler"}),m.jsx(ft,{onClick:P,variant:"contained",color:"primary",children:h?"Mettre à jour":"Créer"})]})]})]})};var NT={},Ate=li;Object.defineProperty(NT,"__esModule",{value:!0});var RD=NT.default=void 0,Nte=Ate(_o()),Ote=m;RD=NT.default=(0,Nte.default)((0,Ote.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var OT={},Dte=li;Object.defineProperty(OT,"__esModule",{value:!0});var h0=OT.default=void 0,Mte=Dte(_o()),Lte=m;h0=OT.default=(0,Mte.default)((0,Lte.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var DT={},$te=li;Object.defineProperty(DT,"__esModule",{value:!0});var kD=DT.default=void 0,jte=$te(_o()),Fte=m;kD=DT.default=(0,jte.default)((0,Fte.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop");var MT={},Vte=li;Object.defineProperty(MT,"__esModule",{value:!0});var PD=MT.default=void 0,Ute=Vte(_o()),Bte=m;PD=MT.default=(0,Ute.default)((0,Bte.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause");const zte=({onTimeUpdate:t})=>{const{currentUser:e,userRole:n}=Di(),[r,i]=C.useState(!1),[o,s]=C.useState(!1),[a,l]=C.useState(""),[c,d]=C.useState(""),[h,f]=C.useState(0),[g,v]=C.useState(null),[_,S]=C.useState([]),[y,w]=C.useState(!0);C.useEffect(()=>{(async()=>{if(e)try{const k=Pi(Kn(ut,"projects"),Ai("createdBy","==",e.uid)),D=(await uo(k)).docs.map(L=>({id:L.id,name:L.data().name}));S(D)}catch(k){console.error("Erreur lors de la récupération des projets:",k)}finally{w(!1)}})()},[e]),C.useEffect(()=>{let b;return r&&!o&&(b=setInterval(()=>{f(k=>k+1),t()},1e3)),()=>{b&&clearInterval(b)}},[r,o,t]);const E=b=>{const k=Math.floor(b/3600),P=Math.floor(b%3600/60),D=b%60;return`${k.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},I=()=>{if(!a){alert("Veuillez sélectionner un projet");return}i(!0),s(!1),v(Date.now())},N=()=>{s(!0)},M=()=>{s(!1)},x=async()=>{if(!(!e||!g))try{const b=Date.now(),k=Math.floor((b-g)/1e3);await LE(Kn(ut,"timeEntries"),{userId:e.uid,projectId:a,startTime:He.fromMillis(g),endTime:He.fromMillis(b),duration:k,notes:c}),i(!1),s(!1),f(0),v(null),d(""),t()}catch(b){console.error("Erreur lors de l'enregistrement de l'entrée de temps:",b),alert("Une erreur est survenue lors de l'enregistrement")}};return y?m.jsx(Ee,{display:"flex",justifyContent:"center",p:2,children:m.jsx(zr,{})}):m.jsx(Ee,{children:m.jsxs(ze,{container:!0,spacing:2,alignItems:"center",children:[m.jsx(ze,{item:!0,xs:12,md:3,children:m.jsxs(zg,{fullWidth:!0,children:[m.jsx(Wg,{children:"Projet"}),m.jsx(vh,{value:a,label:"Projet",onChange:b=>l(b.target.value),disabled:r||!Bi(n),children:_.map(b=>m.jsx(as,{value:b.id,children:b.name},b.id))})]})}),m.jsx(ze,{item:!0,xs:12,md:4,children:m.jsx(ht,{fullWidth:!0,label:"Description",value:c,onChange:b=>d(b.target.value),disabled:r||!Bi(n)})}),m.jsx(ze,{item:!0,xs:12,md:3,children:m.jsx(ge,{variant:"h4",component:"div",align:"center",children:E(h)})}),m.jsx(ze,{item:!0,xs:12,md:2,children:m.jsx(Ee,{display:"flex",gap:1,justifyContent:"flex-end",children:r?m.jsxs(m.Fragment,{children:[o?m.jsx(ft,{variant:"contained",color:"primary",onClick:M,disabled:!Bi(n),children:m.jsx(h0,{})}):m.jsx(ft,{variant:"contained",color:"primary",onClick:N,disabled:!Bi(n),children:m.jsx(PD,{})}),m.jsx(ft,{variant:"contained",color:"secondary",onClick:x,disabled:!Bi(n),children:m.jsx(kD,{})})]}):m.jsx(ft,{variant:"contained",color:"primary",startIcon:m.jsx(h0,{}),onClick:I,disabled:!a||!Bi(n),children:"Démarrer"})})})]})})},Wte=()=>{const[t,e]=C.useState(null),[n,r]=C.useState({}),[i,o]=C.useState(!0),{currentUser:s}=Di();C.useEffect(()=>{a()},[s]);const a=async()=>{if(!s){o(!1);return}try{const l=Pi(Kn(ut,"timeEntries"),Ai("userId","==",s.uid)),c=Pi(Kn(ut,"projects"),Ai("createdBy","==",s.uid)),[d,h]=await Promise.all([uo(l),uo(c)]),f=h.docs.reduce((S,y)=>(S[y.id]=y.data().name,S),{});let g=0;const v={};d.docs.forEach(S=>{const y=S.data(),w=y.duration||0;g+=w,y.projectId&&(v[y.projectId]=(v[y.projectId]||0)+w)});const _={totalHours:g/60,entriesCount:d.size,averageDuration:d.size?g/d.size:0,projectBreakdown:Object.entries(v).reduce((S,[y,w])=>(S[y]={hours:w/60,percentage:w/g*100},S),{})};e(_),r(f)}catch(l){console.error("Error loading stats:",l)}finally{o(!1)}};return i?m.jsx(Ee,{display:"flex",justifyContent:"center",p:3,children:m.jsx(zr,{})}):t?m.jsxs(Cn,{sx:{p:3,mt:3},children:[m.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Statistiques détaillées"}),m.jsxs(ze,{container:!0,spacing:3,children:[m.jsx(ze,{item:!0,xs:12,sm:4,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Heures totales"}),m.jsxs(ge,{variant:"h5",children:[t.totalHours.toFixed(1),"h"]})]})})}),m.jsx(ze,{item:!0,xs:12,sm:4,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Nombre d'entrées"}),m.jsx(ge,{variant:"h5",children:t.entriesCount})]})})}),m.jsx(ze,{item:!0,xs:12,sm:4,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Durée moyenne"}),m.jsxs(ge,{variant:"h5",children:[(t.averageDuration/60).toFixed(1),"h"]})]})})})]}),m.jsxs(Ee,{mt:3,children:[m.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Répartition par projet"}),Object.entries(t.projectBreakdown).map(([l,c])=>m.jsx(Ee,{mb:2,children:m.jsxs(ge,{variant:"subtitle1",children:[n[l]||"Projet inconnu"," - ",c.hours.toFixed(1),"h (",c.percentage.toFixed(1),"%)"]})},l))]})]}):m.jsx(Cn,{sx:{p:3,mt:3},children:m.jsx(ge,{children:"Aucune statistique disponible"})})},Wo={workHoursPerDay:"07:24",workHoursPerWeek:"37:00"};class Hte{constructor(){nv(this,"settingsDoc","site_settings");nv(this,"collection",Kn(ut,"settings"))}async getSettings(){try{const e=Wn(this.collection,this.settingsDoc),n=await U_(e);if(!n.exists())return await this.updateSettings(Wo),Wo;const r=n.data();return{workHoursPerDay:r.workHoursPerDay||Wo.workHoursPerDay,workHoursPerWeek:r.workHoursPerWeek||Wo.workHoursPerWeek}}catch(e){throw console.error("Erreur lors de la récupération des paramètres:",e),e}}async updateSettings(e){try{const n=Wn(this.collection,this.settingsDoc);await ju(n,{workHoursPerDay:e.workHoursPerDay,workHoursPerWeek:e.workHoursPerWeek,updatedAt:He.now()})}catch(n){throw console.error("Erreur lors de la mise à jour des paramètres:",n),n}}}const f0=new Hte,qte=()=>{const[t,e]=C.useState(Wo),[n,r]=C.useState(!0),[i,o]=C.useState(null);C.useEffect(()=>{(async()=>{try{const d=await f0.getSettings();e(d),o(null)}catch(d){console.error("Erreur lors du chargement des paramètres:",d),o("Erreur lors du chargement des paramètres"),e(Wo)}finally{r(!1)}})()},[]);const s=c=>{const[d,h]=c.split(":").map(Number);return d+h/60};return{settings:t,loading:n,error:i,getDailyTargetHours:()=>s(t.workHoursPerDay),getWeeklyTargetHours:()=>s(t.workHoursPerWeek)}},Kte=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],Gte=0,Qte=({onTimeUpdate:t})=>{const{currentUser:e}=Di(),{settings:n,getDailyTargetHours:r,getWeeklyTargetHours:i,loading:o}=qte(),[s,a]=C.useState([]),[l,c]=C.useState(!0);C.useEffect(()=>{o||(async()=>{if(e)try{console.log("Paramètres du site:",n),console.log("Heures par jour:",r()),console.log("Heures par semaine:",i());const w=new Date,E=new Date(w);E.setDate(E.getDate()-E.getDay()),E.setHours(0,0,0,0);const I=new Date(E);I.setDate(I.getDate()+7),console.log("Début de la semaine:",E),console.log("Fin de la semaine:",I);const N=Pi(Kn(ut,"timeEntries"),Ai("userId","==",e.uid)),M=await uo(N),x={};for(let k=0;k<7;k++){const P=new Date(E);P.setDate(P.getDate()+k),x[P.toDateString()]=0}M.forEach(k=>{const P=k.data(),D=P.startTime.toDate();if(D>=E&&D<I){const L=P.duration/3600;x[D.toDateString()]+=L}}),console.log("Heures quotidiennes:",x);const b=Object.entries(x).map(([k,P])=>{const D=new Date(k),L=Kte[D.getDay()],B=D.getDay()===0||D.getDay()===6?Gte:r();return{day:L,date:D,hours:P,target:B}});console.log("Rapport hebdomadaire:",b),a(b)}catch(w){console.error("Erreur lors de la récupération des données hebdomadaires:",w)}finally{c(!1)}})()},[e,n,r,o]);const d=(y,w)=>w===0?0:Math.min(y/w*100,100),h=y=>{const w=Math.floor(y),E=Math.round((y-w)*60);return`${w}h ${E}m`},f=()=>s.reduce((y,w)=>y+w.hours,0),g=()=>{const y=i();return console.log("Objectif hebdomadaire:",y),y};if(l||o)return m.jsx(Ee,{display:"flex",justifyContent:"center",p:2,children:m.jsx(zr,{})});const v=f(),_=g(),S=d(v,_);return m.jsxs(Ee,{children:[m.jsxs(Ee,{sx:{mb:3},children:[m.jsxs(ge,{variant:"subtitle1",gutterBottom:!0,children:["Total de la semaine: ",h(v)," / ",h(_)]}),m.jsx(rI,{variant:"determinate",value:S,sx:{height:10,borderRadius:5},color:S>=100?"success":"primary"})]}),m.jsx(fD,{children:s.map(y=>m.jsx(KJ,{sx:{px:0},children:m.jsx(JJ,{primary:m.jsxs(Ee,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[m.jsxs(ge,{variant:"body1",children:[y.day," ",y.date.toLocaleDateString("fr-FR",{day:"numeric",month:"numeric"})]}),m.jsxs(ge,{variant:"body2",color:"text.secondary",children:[h(y.hours)," ",y.target>0&&`/ ${h(y.target)}`]})]}),secondary:y.target>0&&m.jsx(rI,{variant:"determinate",value:d(y.hours,y.target),sx:{mt:1},color:y.hours>=y.target?"success":"primary"})})},y.day))})]})},TI=t=>{const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60),i=[];return e>0&&i.push(`${e}h`),n>0&&i.push(`${n}m`),(r>0||i.length===0)&&i.push(`${r}s`),i.join(" ")},Yte=()=>{const t=fc(),{currentUser:e,userRole:n}=Di(),[r,i]=an.useState(!0),[o,s]=an.useState({todayTime:0,weekTime:0,activeProjects:0,activeTasks:0}),a=an.useCallback(async()=>{if(!e){i(!1);return}try{const d=Pi(Kn(ut,"timeEntries"),Ai("userId","==",e.uid)),h=Pi(Kn(ut,"projects"),Ai("createdBy","==",e.uid)),[f,g]=await Promise.all([uo(d),uo(h)]);console.log("Nombre d'entrées de temps:",f.size),console.log("Nombre de projets:",g.size);let v=0,_=0;const S=new Set,y=new Date,w=new Date(y.getFullYear(),y.getMonth(),y.getDate()),E=new Date(y);E.setDate(E.getDate()-y.getDay()),E.setHours(0,0,0,0),f.docs.forEach(I=>{const N=I.data();console.log("Entrée de temps:",N);const M=N.startTime.toDate(),x=N.duration||0;M>=E&&(_+=x,M>=w&&(v+=x)),N.notes&&S.add(N.notes)}),console.log("Statistiques calculées:",{todayTime:v,weekTime:_,activeProjects:g.size,activeTasks:S.size}),s({todayTime:v,weekTime:_,activeProjects:g.size,activeTasks:S.size})}catch(d){console.error("Erreur lors de la récupération des statistiques:",d)}finally{i(!1)}},[e]);an.useEffect(()=>{a()},[a]);const l=()=>{t("/projects",{state:{openNewProject:!0}})},c=an.useCallback(()=>{a()},[a]);return r?m.jsx(Ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:m.jsx(zr,{})}):m.jsx(kc,{maxWidth:"lg",sx:{mt:4,mb:4},children:m.jsx(Ee,{sx:{my:4},children:m.jsxs(ze,{container:!0,spacing:3,children:[m.jsx(ze,{item:!0,xs:12,children:m.jsxs(Ee,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[m.jsx(ge,{variant:"h4",component:"h1",gutterBottom:!0,children:"Tableau de bord"}),Bi(n)&&m.jsx(ft,{variant:"contained",color:"primary",startIcon:m.jsx(RD,{}),onClick:l,children:"Nouveau Projet"})]})}),m.jsx(ze,{item:!0,xs:12,children:m.jsxs(ze,{container:!0,spacing:3,children:[m.jsx(ze,{item:!0,xs:12,sm:6,md:3,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Temps aujourd'hui"}),m.jsx(ge,{variant:"h5",children:TI(o.todayTime)})]})})}),m.jsx(ze,{item:!0,xs:12,sm:6,md:3,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Temps cette semaine"}),m.jsx(ge,{variant:"h5",children:TI(o.weekTime)})]})})}),m.jsx(ze,{item:!0,xs:12,sm:6,md:3,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Projets actifs"}),m.jsx(ge,{variant:"h5",children:o.activeProjects})]})})}),m.jsx(ze,{item:!0,xs:12,sm:6,md:3,children:m.jsx(Ks,{children:m.jsxs(Gs,{children:[m.jsx(ge,{color:"textSecondary",gutterBottom:!0,children:"Tâches actives"}),m.jsx(ge,{variant:"h5",children:o.activeTasks})]})})})]})}),m.jsx(ze,{item:!0,xs:12,children:m.jsxs(Cn,{sx:{p:2},children:[m.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Suivi du temps"}),m.jsx(zte,{onTimeUpdate:c})]})}),m.jsx(ze,{item:!0,xs:12,children:m.jsxs(Cn,{sx:{p:2},children:[m.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Rapport hebdomadaire"}),m.jsx(Qte,{onTimeUpdate:c})]})}),m.jsx(ze,{item:!0,xs:12,children:m.jsxs(Cn,{sx:{p:2},children:[m.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Statistiques du temps"}),m.jsx(Wte,{})]})})]})})})},Xte=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[s,a]=C.useState(!1),l=fc(),c=async d=>{d.preventDefault(),o(""),a(!0);try{await OA(os,t,n),console.log("Connexion réussie"),l("/")}catch(h){console.error("Erreur de connexion:",h),o(h.code==="auth/wrong-password"||h.code==="auth/user-not-found"?"Email ou mot de passe incorrect":"Une erreur est survenue lors de la connexion")}finally{a(!1)}};return m.jsx(kc,{component:"main",maxWidth:"xs",children:m.jsxs(Ee,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx(ge,{component:"h1",variant:"h5",children:"Connexion"}),i&&m.jsx(tc,{severity:"error",sx:{mt:2,width:"100%"},children:i}),m.jsxs(Ee,{component:"form",onSubmit:c,sx:{mt:1},children:[m.jsx(ht,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse email",name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:d=>e(d.target.value),disabled:s}),m.jsx(ht,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:d=>r(d.target.value),disabled:s}),m.jsx(ft,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:s,children:s?m.jsx(zr,{size:24,color:"inherit"}):"Se connecter"}),m.jsx(Ee,{sx:{textAlign:"center"},children:m.jsx(hD,{component:qk,to:"/signup",variant:"body2",children:"Pas encore de compte ? S'inscrire"})})]})]})})},Jte=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[s,a]=C.useState(""),[l,c]=C.useState(!1),d=fc(),h=async f=>{if(f.preventDefault(),a(""),n!==i){a("Les mots de passe ne correspondent pas");return}if(n.length<6){a("Le mot de passe doit contenir au moins 6 caractères");return}c(!0);try{await Qw(os,t,n),console.log("Compte créé avec succès"),d("/projects")}catch(g){console.error("Erreur lors de la création du compte:",g),a(g.code==="auth/email-already-in-use"?"Cette adresse email est déjà utilisée":g.code==="auth/invalid-email"?"Adresse email invalide":"Une erreur est survenue lors de la création du compte")}finally{c(!1)}};return m.jsx(kc,{component:"main",maxWidth:"xs",children:m.jsxs(Ee,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx(ge,{component:"h1",variant:"h5",children:"Créer un compte"}),s&&m.jsx(tc,{severity:"error",sx:{mt:2,width:"100%"},children:s}),m.jsxs(Ee,{component:"form",onSubmit:h,sx:{mt:1},children:[m.jsx(ht,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse email",name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:f=>e(f.target.value),disabled:l}),m.jsx(ht,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"new-password",value:n,onChange:f=>r(f.target.value),disabled:l}),m.jsx(ht,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirmer le mot de passe",type:"password",id:"confirmPassword",autoComplete:"new-password",value:i,onChange:f=>o(f.target.value),disabled:l}),m.jsx(ft,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:l,children:l?m.jsx(zr,{size:24,color:"inherit"}):"Créer un compte"}),m.jsx(Ee,{sx:{textAlign:"center"},children:m.jsx(hD,{component:qk,to:"/login",variant:"body2",children:"Déjà un compte ? Se connecter"})})]})]})})};var LT={},Zte=li;Object.defineProperty(LT,"__esModule",{value:!0});var AD=LT.default=void 0,ene=Zte(_o()),tne=m;AD=LT.default=(0,ene.default)((0,tne.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const nne=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!1),[i,o]=C.useState(null),[s,a]=C.useState({email:"",password:"",role:_t.USER}),[l,c]=C.useState("");C.useEffect(()=>{d()},[]);const d=async()=>{try{console.log("Chargement des utilisateurs...");const _=await gi.getAllUsers();console.log("Utilisateurs chargés:",_),e(_)}catch(_){console.error("Erreur lors du chargement des utilisateurs:",_),c("Erreur lors du chargement des utilisateurs")}},h=_=>{_?(o(_),a({email:_.email,password:"",role:_.role})):(o(null),a({email:"",password:"",role:_t.USER})),r(!0)},f=()=>{r(!1),o(null),c("")},g=async()=>{try{if(i)await gi.updateUserRole(i.uid,s.role);else{const _=await gi.createUser(s.email,s.password,s.role);console.log("Nouvel utilisateur créé:",_)}f(),await d()}catch(_){console.error("Erreur lors de la soumission:",_),c(_.message||"Une erreur est survenue")}},v=async _=>{try{await gi.deleteUser(_.uid),d()}catch(S){c(S.message||"Erreur lors de la suppression")}};return m.jsxs(Ee,{sx:{p:3},children:[m.jsxs(Ee,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[m.jsx(ge,{variant:"h4",children:"Gestion des Utilisateurs"}),m.jsx(ft,{variant:"contained",color:"primary",onClick:()=>h(),children:"Ajouter un Utilisateur"})]}),l&&m.jsx(tc,{severity:"error",sx:{mb:2},children:l}),m.jsx(CD,{component:Cn,children:m.jsxs(ED,{children:[m.jsx(bD,{children:m.jsxs(kl,{children:[m.jsx(Ht,{children:"Email"}),m.jsx(Ht,{children:"Rôle"}),m.jsx(Ht,{children:"Nom"}),m.jsx(Ht,{children:"Prénom"}),m.jsx(Ht,{children:"Actions"})]})}),m.jsx(TD,{children:t.length===0?m.jsx(kl,{children:m.jsx(Ht,{colSpan:5,align:"center",children:"Aucun utilisateur trouvé"})}):t.map(_=>(console.log("Rendu utilisateur:",_),m.jsxs(kl,{children:[m.jsx(Ht,{children:_.email||"N/A"}),m.jsx(Ht,{children:_.role||"N/A"}),m.jsx(Ht,{children:_.lastName||"N/A"}),m.jsx(Ht,{children:_.firstName||"N/A"}),m.jsxs(Ht,{children:[m.jsx(ii,{onClick:()=>h(_),disabled:_.isLastAdmin,title:"Modifier",children:m.jsx(kT,{})}),m.jsx(ii,{onClick:()=>v(_),disabled:_.isLastAdmin,title:"Supprimer",children:m.jsx(AD,{})})]})]},_.uid)))})]})}),m.jsxs(Fg,{open:n,onClose:f,children:[m.jsx(Bg,{children:i?"Modifier l'Utilisateur":"Nouvel Utilisateur"}),m.jsx(Ug,{children:m.jsxs(Ee,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[m.jsx(ht,{label:"Email",value:s.email,onChange:_=>a({...s,email:_.target.value}),disabled:!!i}),!i&&m.jsx(ht,{label:"Mot de passe",type:"password",value:s.password,onChange:_=>a({...s,password:_.target.value})}),m.jsxs(zg,{children:[m.jsx(Wg,{children:"Rôle"}),m.jsx(vh,{value:s.role,label:"Rôle",onChange:_=>a({...s,role:_.target.value}),children:Object.entries(_t).map(([_,S])=>m.jsxs(as,{value:S,children:[S," - ",Dq[S].description]},_))})]})]})}),m.jsxs(Vg,{children:[m.jsx(ft,{onClick:f,children:"Annuler"}),m.jsx(ft,{onClick:g,variant:"contained",color:"primary",children:i?"Modifier":"Créer"})]})]})]})},rne=()=>{const[t,e]=C.useState(Wo),[n,r]=C.useState(!0),[i,o]=C.useState(!1),[s,a]=C.useState(""),[l,c]=C.useState("");C.useEffect(()=>{d()},[]);const d=async()=>{try{const v=await f0.getSettings();e(v),a("")}catch(v){console.error("Erreur lors du chargement des paramètres:",v),a("Erreur lors du chargement des paramètres"),e(Wo)}finally{r(!1)}},h=async()=>{if(!f(t.workHoursPerDay)||!f(t.workHoursPerWeek,!0)){a("Format d'heure invalide. Utilisez le format HH:mm");return}o(!0),a(""),c("");try{await f0.updateSettings(t),c("Paramètres mis à jour avec succès"),await d()}catch(v){console.error("Erreur lors de la sauvegarde des paramètres:",v),a("Erreur lors de la sauvegarde des paramètres")}finally{o(!1)}},f=(v,_=!1)=>_?/^([0-9]{1,2}|[0-9]{3}):[0-5][0-9]$/.test(v):/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(v),g=v=>_=>{const S=_.target.value;e(y=>({...y,[v]:S}))};return n?m.jsx(Ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:m.jsx(zr,{})}):m.jsxs(Cn,{sx:{p:3,mt:3},children:[m.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Paramètres du site"}),m.jsx(wT,{sx:{mb:3}}),s&&m.jsx(tc,{severity:"error",sx:{mb:2},children:s}),l&&m.jsx(tc,{severity:"success",sx:{mb:2},children:l}),m.jsxs(ze,{container:!0,spacing:3,children:[m.jsx(ze,{item:!0,xs:12,md:6,children:m.jsx(ht,{fullWidth:!0,label:"Heures de travail par jour",value:t.workHoursPerDay,onChange:g("workHoursPerDay"),placeholder:"HH:mm",helperText:"Format: HH:mm (ex: 07:24)",error:!f(t.workHoursPerDay),inputProps:{pattern:"[0-2][0-9]:[0-5][0-9]"}})}),m.jsx(ze,{item:!0,xs:12,md:6,children:m.jsx(ht,{fullWidth:!0,label:"Heures de travail par semaine",value:t.workHoursPerWeek,onChange:g("workHoursPerWeek"),placeholder:"HH:mm",helperText:"Format: HH:mm (ex: 37:00)",error:!f(t.workHoursPerWeek,!0),inputProps:{pattern:"[0-9]{1,3}:[0-5][0-9]"}})}),m.jsx(ze,{item:!0,xs:12,children:m.jsx(Ee,{display:"flex",justifyContent:"flex-end",children:m.jsx(ft,{variant:"contained",onClick:h,disabled:i||!f(t.workHoursPerDay)||!f(t.workHoursPerWeek,!0),children:i?"Enregistrement...":"Enregistrer les paramètres"})})})]})]})},ine=()=>{const{userRole:t}=Di();return t!==_t.ADMIN?m.jsx(Hk,{to:"/",replace:!0}):m.jsxs(kc,{maxWidth:"lg",sx:{mt:4,mb:4},children:[m.jsx(ge,{variant:"h4",component:"h1",gutterBottom:!0,children:"Administration"}),m.jsxs(Ee,{sx:{mb:4},children:[m.jsx(ge,{variant:"h5",gutterBottom:!0,children:"Gestion des utilisateurs"}),m.jsx(wT,{sx:{mb:3}}),m.jsx(nne,{})]}),m.jsx(rne,{})]})},one=()=>{const e=Jw().currentUser,n=PO(),{userRole:r}=Di(),[i,o]=C.useState((e==null?void 0:e.displayName)||""),[s,a]=C.useState((e==null?void 0:e.photoURL)||""),[l,c]=C.useState((e==null?void 0:e.email)||""),[d,h]=C.useState(!1),[f,g]=C.useState({open:!1,message:"",severity:"success"}),v=y=>{switch(y){case _t.ADMIN:return"Administrateur";case _t.PROJECT_LEADER:return"Chef de projet";case _t.USER:return"Utilisateur";case _t.READ:return"Lecture seule";default:return"Non défini"}};C.useEffect(()=>{e&&(o(e.displayName||""),a(e.photoURL||""),c(e.email||""))},[e]);const _=async y=>{var w;if((w=y.target.files)!=null&&w[0])try{const E=y.target.files[0],I={contentType:E.type,customMetadata:{"Access-Control-Allow-Origin":"*"}},N=zH(n,`profile-photos/${e==null?void 0:e.uid}`);await UH(N,E,I);const M=await BH(N);a(M),e&&await T_(e,{photoURL:M}),g({open:!0,message:"Photo de profil mise à jour avec succès",severity:"success"})}catch(E){console.error("Erreur lors du téléchargement:",E),g({open:!0,message:"Erreur lors du téléchargement de la photo",severity:"error"})}},S=async()=>{if(e)try{await T_(e,{displayName:i,photoURL:s}),h(!1),g({open:!0,message:"Profil mis à jour avec succès",severity:"success"})}catch{g({open:!0,message:"Erreur lors de la mise à jour du profil",severity:"error"})}};return m.jsxs(kc,{maxWidth:"md",sx:{mt:4},children:[m.jsx(Cn,{elevation:3,sx:{p:4},children:m.jsxs(ze,{container:!0,spacing:4,children:[m.jsx(ze,{item:!0,xs:12,display:"flex",justifyContent:"center",children:m.jsxs(Ee,{position:"relative",children:[m.jsx(KQ,{src:s,sx:{width:120,height:120},alt:i}),d&&m.jsxs(ft,{component:"label",variant:"contained",size:"small",sx:{position:"absolute",bottom:-10,left:"50%",transform:"translateX(-50%)"},children:["Changer",m.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:_})]})]})}),m.jsx(ze,{item:!0,xs:12,children:m.jsx(ge,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"Mon Profil"})}),m.jsx(ze,{item:!0,xs:12,children:m.jsx(ht,{fullWidth:!0,label:"Nom d'affichage",value:i,onChange:y=>o(y.target.value),disabled:!d,margin:"normal"})}),m.jsx(ze,{item:!0,xs:12,children:m.jsx(ht,{fullWidth:!0,label:"Email",value:l,disabled:!0,margin:"normal"})}),m.jsx(ze,{item:!0,xs:12,children:m.jsx(ht,{fullWidth:!0,label:"Rôle",value:v(r),disabled:!0,margin:"normal"})}),m.jsx(ze,{item:!0,xs:12,display:"flex",justifyContent:"center",gap:2,children:d?m.jsxs(m.Fragment,{children:[m.jsx(ft,{variant:"contained",color:"primary",onClick:S,children:"Enregistrer"}),m.jsx(ft,{variant:"outlined",onClick:()=>h(!1),children:"Annuler"})]}):m.jsx(ft,{variant:"contained",color:"primary",onClick:()=>h(!0),children:"Modifier"})})]})}),m.jsx(cee,{open:f.open,autoHideDuration:6e3,onClose:()=>g({...f,open:!1}),children:m.jsx(tc,{severity:f.severity,children:f.message})})]})},_f=({children:t})=>{const{currentUser:e,loading:n}=Di();return n?m.jsx(Ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:m.jsx(zr,{})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(Hk,{to:"/login"})};function sne(){return m.jsx(zU,{theme:WU,children:m.jsx(Mq,{children:m.jsx(Ej,{children:m.jsxs("div",{className:"App",children:[m.jsx(cte,{}),m.jsxs(pj,{children:[m.jsx(Ls,{path:"/",element:m.jsx(_f,{children:m.jsx(Yte,{})})}),m.jsx(Ls,{path:"/login",element:m.jsx(Xte,{})}),m.jsx(Ls,{path:"/signup",element:m.jsx(Jte,{})}),m.jsx(Ls,{path:"/projects",element:m.jsx(_f,{children:m.jsx(Pte,{})})}),m.jsx(Ls,{path:"/admin",element:m.jsx(_f,{children:m.jsx(ine,{})})}),m.jsx(Ls,{path:"/profile",element:m.jsx(_f,{children:m.jsx(one,{})})})]})]})})})})}uy.createRoot(document.getElementById("root")).render(m.jsx(an.StrictMode,{children:m.jsx(sne,{})}));
